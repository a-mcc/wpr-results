(self.webpackChunkwpr=self.webpackChunkwpr||[]).push([[179],{813:(oc,_4,on)=>{"use strict";var Ur={};on.r(Ur),on.d(Ur,{DocumentPosition:()=>vs,append:()=>JDe,appendChild:()=>ZDe,compareDocumentPosition:()=>fz,existsOne:()=>uz,filter:()=>eh,find:()=>tC,findAll:()=>iAe,findOne:()=>nC,findOneChild:()=>nAe,getAttributeValue:()=>KDe,getChildren:()=>J6,getElementById:()=>aAe,getElements:()=>oAe,getElementsByTagName:()=>K2,getElementsByTagType:()=>cAe,getFeed:()=>uAe,getInnerHTML:()=>qDe,getName:()=>QDe,getOuterHTML:()=>az,getParent:()=>cz,getSiblings:()=>lz,getText:()=>X6,hasAttrib:()=>YDe,hasChildren:()=>qt,innerText:()=>Z6,isCDATA:()=>$6,isComment:()=>q6,isDocument:()=>qa,isTag:()=>Ce,isText:()=>er,nextElementSibling:()=>J9,prepend:()=>tAe,prependChild:()=>eAe,prevElementSibling:()=>eC,removeElement:()=>Ka,removeSubsets:()=>lAe,replaceElement:()=>XDe,testElement:()=>rAe,textContent:()=>q2,uniqueSort:()=>Y2});var ko={};on.r(ko),on.d(ko,{contains:()=>mz,html:()=>CAe,merge:()=>bAe,parseHTML:()=>EAe,root:()=>yAe,text:()=>e4,xml:()=>vAe});var Dh={};on.r(Dh),on.d(Dh,{addClass:()=>Sz,attr:()=>TAe,data:()=>DAe,hasClass:()=>LAe,prop:()=>_Ae,removeAttr:()=>RAe,removeClass:()=>Mz,toggleClass:()=>Tz,val:()=>AAe});var Ah={};on.r(Ah),on.d(Ah,{add:()=>zRe,addBack:()=>kRe,children:()=>SRe,closest:()=>gRe,contents:()=>MRe,each:()=>TRe,end:()=>FRe,eq:()=>xRe,filter:()=>DRe,filterArray:()=>AC,find:()=>dRe,first:()=>NRe,get:()=>IRe,has:()=>LRe,index:()=>VRe,is:()=>ARe,last:()=>HRe,map:()=>_Re,next:()=>mRe,nextAll:()=>CRe,nextUntil:()=>vRe,not:()=>RRe,parent:()=>hRe,parents:()=>fRe,parentsUntil:()=>pRe,prev:()=>ERe,prevAll:()=>yRe,prevUntil:()=>bRe,siblings:()=>wRe,slice:()=>PRe,toArray:()=>ORe});var Rh={};on.r(Rh),on.d(Rh,{_makeDomArray:()=>BRe,after:()=>XRe,append:()=>jRe,appendTo:()=>URe,before:()=>JRe,clone:()=>aLe,empty:()=>iLe,html:()=>sLe,insertAfter:()=>ZRe,insertBefore:()=>eLe,prepend:()=>$Re,prependTo:()=>WRe,remove:()=>tLe,replaceWith:()=>nLe,text:()=>oLe,toString:()=>rLe,unwrap:()=>YRe,wrap:()=>qRe,wrapAll:()=>QRe,wrapInner:()=>KRe});var Lh={};on.r(Lh),on.d(Lh,{css:()=>cLe});var Nh={};function St(n){return"function"==typeof n}function Hh(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}on.r(Nh),on.d(Nh,{serialize:()=>hLe,serializeArray:()=>fLe});const xh=Hh(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function D4(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Qi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const r of t)r.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(St(i))try{i()}catch(r){e=r instanceof xh?r.errors:[r]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const r of s)try{$C(r)}catch(o){e=e??[],o instanceof xh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new xh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$C(e);else{if(e instanceof Qi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&D4(t,e)}remove(e){const{_finalizers:t}=this;t&&D4(t,e),e instanceof Qi&&e._removeParent(this)}}Qi.EMPTY=(()=>{const n=new Qi;return n.closed=!0,n})();const WC=Qi.EMPTY;function jC(n){return n instanceof Qi||n&&"closed"in n&&St(n.remove)&&St(n.add)&&St(n.unsubscribe)}function $C(n){St(n)?n():n.unsubscribe()}const Go={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},A4={setTimeout(n,e,...t){const{delegate:i}=A4;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=A4;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qC(n){A4.setTimeout(()=>{const{onUnhandledError:e}=Go;if(!e)throw n;e(n)})}function Ih(){}const DG=Oh("C",void 0,void 0);function Oh(n,e,t){return{kind:n,value:e,error:t}}let Bo=null;function R4(n){if(Go.useDeprecatedSynchronousErrorHandling){const e=!Bo;if(e&&(Bo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Bo;if(Bo=null,t)throw i}}else n()}class Vh extends Qi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jC(e)&&e.add(this)):this.destination=IG}static create(e,t,i){return new n1(e,t,i)}next(e){this.isStopped?Fh(function RG(n){return Oh("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Fh(function AG(n){return Oh("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Fh(DG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const NG=Function.prototype.bind;function Ph(n,e){return NG.call(n,e)}class HG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){L4(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){L4(i)}else L4(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){L4(t)}}}class n1 extends Vh{constructor(e,t,i){let s;if(super(),St(e)||!e)s={next:e??void 0,error:t??void 0,complete:i??void 0};else{let r;this&&Go.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&Ph(e.next,r),error:e.error&&Ph(e.error,r),complete:e.complete&&Ph(e.complete,r)}):s=e}this.destination=new HG(s)}}function L4(n){Go.useDeprecatedSynchronousErrorHandling?function LG(n){Go.useDeprecatedSynchronousErrorHandling&&Bo&&(Bo.errorThrown=!0,Bo.error=n)}(n):qC(n)}function Fh(n,e){const{onStoppedNotification:t}=Go;t&&A4.setTimeout(()=>t(n,e))}const IG={closed:!0,next:Ih,error:function xG(n){throw n},complete:Ih},zh="function"==typeof Symbol&&Symbol.observable||"@@observable";function ac(n){return n}let kt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,s){const r=function VG(n){return n&&n instanceof Vh||function OG(n){return n&&St(n.next)&&St(n.error)&&St(n.complete)}(n)&&jC(n)}(t)?t:new n1(t,i,s);return R4(()=>{const{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=YC(i))((s,r)=>{const o=new n1({next:a=>{try{t(a)}catch(c){r(c),o.unsubscribe()}},error:r,complete:s});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[zh](){return this}pipe(...t){return function KC(n){return 0===n.length?ac:1===n.length?n[0]:function(t){return n.reduce((i,s)=>s(i),t)}}(t)(this)}toPromise(t){return new(t=YC(t))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=e=>new n(e),n})();function YC(n){var e;return null!==(e=n??Go.Promise)&&void 0!==e?e:Promise}const PG=Hh(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Uo=(()=>{class n extends kt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new QC(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new PG}next(t){R4(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){R4(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){R4(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:s,observers:r}=this;return i||s?WC:(this.currentObservers=null,r.push(t),new Qi(()=>{this.currentObservers=null,D4(r,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:s,isStopped:r}=this;i?t.error(s):r&&t.complete()}asObservable(){const t=new kt;return t.source=this,t}}return n.create=(e,t)=>new QC(e,t),n})();class QC extends Uo{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:WC}}class XC extends Uo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Zn(n){return e=>{if(function FG(n){return St(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Jn(n,e,t,i,s){return new zG(n,e,t,i,s)}class zG extends Vh{constructor(e,t,i,s,r,o){super(e),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=s?function(a){try{s(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function sr(n,e){return Zn((t,i)=>{let s=0;t.subscribe(Jn(i,r=>{i.next(n.call(e,r,s++))}))})}function Wr(n){return this instanceof Wr?(this.v=n,this):new Wr(n)}function tv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Uh(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=n[r]&&function(o){return new Promise(function(a,c){!function s(r,o,a,c){Promise.resolve(c).then(function(l){r({value:l,done:a})},o)}(a,c,(o=n[r](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const nv=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function iv(n){return St(n?.then)}function sv(n){return St(n[zh])}function rv(n){return Symbol.asyncIterator&&St(n?.[Symbol.asyncIterator])}function ov(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const av=function aB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cv(n){return St(n?.[av])}function lv(n){return function ev(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=t.apply(n,e||[]),r=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){i[f]&&(s[f]=function(p){return new Promise(function(g,m){r.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{!function c(f){f.value instanceof Wr?Promise.resolve(f.value.v).then(l,u):d(r[0][2],f)}(i[f](p))}catch(g){d(r[0][3],g)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,p){f(p),r.shift(),r.length&&a(r[0][0],r[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:s}=yield Wr(t.read());if(s)return yield Wr(void 0);yield yield Wr(i)}}finally{t.releaseLock()}})}function uv(n){return St(n?.getReader)}function Xi(n){if(n instanceof kt)return n;if(null!=n){if(sv(n))return function cB(n){return new kt(e=>{const t=n[zh]();if(St(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(nv(n))return function lB(n){return new kt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(iv(n))return function uB(n){return new kt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qC)})}(n);if(rv(n))return dv(n);if(cv(n))return function dB(n){return new kt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(uv(n))return function hB(n){return dv(lv(n))}(n)}throw ov(n)}function dv(n){return new kt(e=>{(function fB(n,e){var t,i,s,r;return function ZC(n,e,t,i){return new(t||(t=Promise))(function(r,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?r(u.value):function s(r){return r instanceof t?r:new t(function(o){o(r)})}(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=tv(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=t.return)&&(yield r.call(t))}finally{if(s)throw s.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function rr(n,e,t,i=0,s=!1){const r=e.schedule(function(){t(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!s)return r}function N4(n,e,t=1/0){return St(e)?N4((i,s)=>sr((r,o)=>e(i,r,s,o))(Xi(n(i,s))),t):("number"==typeof e&&(t=e),Zn((i,s)=>function pB(n,e,t,i,s,r,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},p=m=>l<i?g(m):c.push(m),g=m=>{r&&e.next(m),l++;let y=!1;Xi(t(m,u++)).subscribe(Jn(e,M=>{s?.(M),r?p(M):e.next(M)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<i;){const M=c.shift();o?rr(e,o,()=>g(M)):g(M)}f()}catch(M){e.error(M)}}))};return n.subscribe(Jn(e,p,()=>{d=!0,f()})),()=>{a?.()}}(i,s,n,t)))}function hv(n=1/0){return N4(ac,n)}const Wh=new kt(n=>n.complete());function jh(n){return n[n.length-1]}function fv(n){return St(jh(n))?n.pop():void 0}function cc(n){return function mB(n){return n&&St(n.schedule)}(jh(n))?n.pop():void 0}function pv(n,e=0){return Zn((t,i)=>{t.subscribe(Jn(i,s=>rr(i,n,()=>i.next(s),e),()=>rr(i,n,()=>i.complete(),e),s=>rr(i,n,()=>i.error(s),e)))})}function gv(n,e=0){return Zn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function mv(n,e){if(!n)throw new Error("Iterable cannot be null");return new kt(t=>{rr(t,e,()=>{const i=n[Symbol.asyncIterator]();rr(t,e,()=>{i.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function Wo(n,e){return e?function SB(n,e){if(null!=n){if(sv(n))return function vB(n,e){return Xi(n).pipe(gv(e),pv(e))}(n,e);if(nv(n))return function yB(n,e){return new kt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(iv(n))return function EB(n,e){return Xi(n).pipe(gv(e),pv(e))}(n,e);if(rv(n))return mv(n,e);if(cv(n))return function bB(n,e){return new kt(t=>{let i;return rr(t,e,()=>{i=n[av](),rr(t,e,()=>{let s,r;try{({value:s,done:r}=i.next())}catch(o){return void t.error(o)}r?t.complete():t.next(s)},0,!0)}),()=>St(i?.return)&&i.return()})}(n,e);if(uv(n))return function wB(n,e){return mv(lv(n),e)}(n,e)}throw ov(n)}(n,e):Xi(n)}function H4(...n){return Wo(n,cc(n))}function Cv(n={}){const{connector:e=(()=>new Uo),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return r=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),o=c=void 0,u=d=!1},g=()=>{const m=o;p(),m?.unsubscribe()};return Zn((m,y)=>{l++,!d&&!u&&f();const M=c=c??e();y.add(()=>{l--,0===l&&!d&&!u&&(a=$h(g,s))}),M.subscribe(y),!o&&l>0&&(o=new n1({next:w=>M.next(w),error:w=>{d=!0,f(),a=$h(p,t,w),M.error(w)},complete:()=>{u=!0,f(),a=$h(p,i),M.complete()}}),Xi(m).subscribe(o))})(r)}}function $h(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new n1({next:()=>{i.unsubscribe(),n()}});return Xi(e(...t)).subscribe(i)}function vv(n,e){return Zn((t,i)=>{let s=null,r=0,o=!1;const a=()=>o&&!s&&i.complete();t.subscribe(Jn(i,c=>{s?.unsubscribe();let l=0;const u=r++;Xi(n(c,u)).subscribe(s=Jn(i,d=>i.next(e?e(c,d,u,l++):d),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function Ev(n,e=ac){return n=n??TB,Zn((t,i)=>{let s,r=!0;t.subscribe(Jn(i,o=>{const a=e(o);(r||!n(s,a))&&(r=!1,s=a,i.next(o))}))})}function TB(n,e){return n===e}function Qe(n){for(let e in n)if(n[e]===Qe)return e;throw Error("Could not find renamed property on target object.")}function x4(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ht(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ht).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function qh(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const _B=Qe({__forward_ref__:Qe});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return Ht(this())},n}function ge(n){return Kh(n)?n():n}function Kh(n){return"function"==typeof n&&n.hasOwnProperty(_B)&&n.__forward_ref__===Xe}function Yh(n){return n&&!!n.\u0275providers}const yv="https://g.co/ng/security#xss";class O extends Error{constructor(e,t){super(function I4(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ve(n){return"string"==typeof n?n:null==n?"":String(n)}function O4(n,e){throw new O(-201,!1)}function Di(n,e){null==n&&function Ue(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function V4(n){return bv(n,P4)||bv(n,Sv)}function bv(n,e){return n.hasOwnProperty(e)?n[e]:null}function wv(n){return n&&(n.hasOwnProperty(Qh)||n.hasOwnProperty(xB))?n[Qh]:null}const P4=Qe({\u0275prov:Qe}),Qh=Qe({\u0275inj:Qe}),Sv=Qe({ngInjectableDef:Qe}),xB=Qe({ngInjectorDef:Qe});var Ne=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ne||{});let Xh;function Ln(n){const e=Xh;return Xh=n,e}function Tv(n,e,t){const i=V4(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Ne.Optional?null:void 0!==e?e:void O4(Ht(n))}const et=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lc={},Zh="__NG_DI_FLAG__",F4="ngTempTokenPath",OB=/\n/gm,_v="__source";let s1;function jr(n){const e=s1;return s1=n,e}function FB(n,e=Ne.Default){if(void 0===s1)throw new O(-203,!1);return null===s1?Tv(n,void 0,e):s1.get(n,e&Ne.Optional?null:void 0,e)}function q(n,e=Ne.Default){return(function Mv(){return Xh}()||FB)(ge(n),e)}function Ie(n,e=Ne.Default){return q(n,z4(e))}function z4(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Jh(n){const e=[];for(let t=0;t<n.length;t++){const i=ge(n[t]);if(Array.isArray(i)){if(0===i.length)throw new O(900,!1);let s,r=Ne.Default;for(let o=0;o<i.length;o++){const a=i[o],c=zB(a);"number"==typeof c?-1===c?s=a.token:r|=c:s=a}e.push(q(s,r))}else e.push(q(i))}return e}function uc(n,e){return n[Zh]=e,n.prototype[Zh]=e,n}function zB(n){return n[Zh]}function or(n){return{toString:n}.toString()}var k4=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(k4||{}),Ai=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ai||{});const bs={},ke=[],G4=Qe({\u0275cmp:Qe}),ef=Qe({\u0275dir:Qe}),tf=Qe({\u0275pipe:Qe}),Av=Qe({\u0275mod:Qe}),ar=Qe({\u0275fac:Qe}),dc=Qe({__NG_ELEMENT_ID__:Qe}),Rv=Qe({__NG_ENV_ID__:Qe});function Lv(n,e,t){let i=n.length;for(;;){const s=n.indexOf(e,t);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=e.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}t=s+1}}function nf(n,e,t){let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const r=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,r)}else{const r=s,o=t[++i];Hv(r)?n.setProperty(e,r,o):n.setAttribute(e,r,o),i++}}return i}function Nv(n){return 3===n||4===n||6===n}function Hv(n){return 64===n.charCodeAt(0)}function hc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?t=s:0===t||xv(n,t,s,null,-1===t||2===t?e[++i]:null)}}return n}function xv(n,e,t,i,s){let r=0,o=n.length;if(-1===e)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,e),r=o+1),n.splice(r++,0,t),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}const Iv="ng-template";function BB(n,e,t){let i=0,s=!0;for(;i<n.length;){let r=n[i++];if("string"==typeof r&&s){const o=n[i++];if(t&&"class"===r&&-1!==Lv(o.toLowerCase(),e,0))return!0}else{if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}"number"==typeof r&&(s=!1)}}return!1}function Ov(n){return 4===n.type&&n.value!==Iv}function UB(n,e,t){return e===(4!==n.type||t?n.value:Iv)}function WB(n,e,t){let i=4;const s=n.attrs||[],r=function qB(n){for(let e=0;e<n.length;e++)if(Nv(n[e]))return e;return n.length}(s);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!UB(n,c,t)||""===c&&1===e.length){if(Zi(i))return!1;o=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!BB(n.attrs,l,t)){if(Zi(i))return!1;o=!0}continue}const d=jB(8&i?"class":c,s,Ov(n),t);if(-1===d){if(Zi(i))return!1;o=!0;continue}if(""!==l){let f;f=d>r?"":s[d+1].toLowerCase();const p=8&i?f:null;if(p&&-1!==Lv(p,l,0)||2&i&&l!==f){if(Zi(i))return!1;o=!0}}}}else{if(!o&&!Zi(i)&&!Zi(c))return!1;if(o&&Zi(c))continue;o=!1,i=c|1&i}}return Zi(i)||o}function Zi(n){return 0==(1&n)}function jB(n,e,t,i){if(null===e)return-1;let s=0;if(i||!t){let r=!1;for(;s<e.length;){const o=e[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=e[++s];for(;"string"==typeof a;)a=e[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function KB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Vv(n,e,t=!1){for(let i=0;i<e.length;i++)if(WB(n,e[i],t))return!0;return!1}function YB(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function Pv(n,e){return n?":not("+e.trim()+")":e}function QB(n){let e=n[0],t=1,i=2,s="",r=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!Zi(o)&&(e+=Pv(r,s),s=""),i=o,r=r||!Zi(i);t++}return""!==s&&(e+=Pv(r,s)),e}function $r(n){return or(()=>{const e=zv(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===k4.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ai.Emulated,styles:n.styles||ke,_:null,schemas:n.schemas||null,tView:null,id:""};kv(t);const i=n.dependencies;return t.directiveDefs=B4(i,!1),t.pipeDefs=B4(i,!0),t.id=function sU(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const s of t)e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function eU(n){return We(n)||an(n)}function tU(n){return null!==n}function Qt(n){return or(()=>({type:n.type,bootstrap:n.bootstrap||ke,declarations:n.declarations||ke,imports:n.imports||ke,exports:n.exports||ke,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Fv(n,e){if(null==n)return bs;const t={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),t[s]=i,e&&(e[s]=r)}return t}function de(n){return or(()=>{const e=zv(n);return kv(e),e})}function We(n){return n[G4]||null}function an(n){return n[ef]||null}function Hn(n){return n[tf]||null}function zv(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||bs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ke,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fv(n.inputs,e),outputs:Fv(n.outputs)}}function kv(n){n.features?.forEach(e=>e(n))}function B4(n,e){if(!n)return null;const t=e?Hn:eU;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(tU)}const xt=0,Q=1,Ee=2,gt=3,Ji=4,pc=5,cn=6,r1=7,Mt=8,o1=9,$o=10,ye=11,gc=12,Gv=13,a1=14,Tt=15,mc=16,c1=17,ws=18,Cc=19,Bv=20,qr=21,cr=22,U4=23,W4=24,_e=25,sf=1,Uv=2,Ss=7,l1=9,ln=11;function ni(n){return Array.isArray(n)&&"object"==typeof n[sf]}function xn(n){return Array.isArray(n)&&!0===n[sf]}function rf(n){return 0!=(4&n.flags)}function qo(n){return n.componentOffset>-1}function $4(n){return 1==(1&n.flags)}function es(n){return!!n.template}function af(n){return 0!=(512&n[Ee])}function Ko(n,e){return n.hasOwnProperty(ar)?n[ar]:null}let uU=et.WeakRef??class lU{constructor(e){this.ref=e}deref(){return this.ref}},hU=0,Ms=null,q4=!1;function Bt(n){const e=Ms;return Ms=n,e}class Kv{constructor(){this.id=hU++,this.ref=function dU(n){return new uU(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,t]of this.producers){const i=t.producerNode.deref();if(null!=i&&t.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(e),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=q4;q4=!0;try{for(const[t,i]of this.consumers){const s=i.consumerNode.deref();null!=s&&s.trackingVersion===i.atTrackingVersion?s.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),s?.producers.delete(this.id))}}finally{q4=e}}producerAccessed(){if(q4)throw new Error("");if(null===Ms)return;let e=Ms.producers.get(this.id);void 0===e?(e={consumerNode:Ms.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ms.trackingVersion},Ms.producers.set(this.id,e),this.consumers.set(Ms.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Ms.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ms?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let Yv=null;const Xv=()=>{};class mU extends Kv{constructor(e,t,i){super(),this.watch=e,this.schedule=t,this.dirty=!1,this.cleanupFn=Xv,this.registerOnCleanup=s=>{this.cleanupFn=s},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Bt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Xv,this.watch(this.registerOnCleanup)}finally{Bt(e)}}cleanup(){this.cleanupFn()}}class CU{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ii(){return Zv}function Zv(n){return n.type.prototype.ngOnChanges&&(n.setInput=EU),vU}function vU(){const n=eE(this),e=n?.current;if(e){const t=n.previous;if(t===bs)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function EU(n,e,t,i){const s=this.declaredInputs[t],r=eE(n)||function yU(n,e){return n[Jv]=e}(n,{previous:bs,current:null}),o=r.current||(r.current={}),a=r.previous,c=a[s];o[s]=new CU(c&&c.currentValue,e,a===bs),n[i]=e}ii.ngInherit=!0;const Jv="__ngSimpleChanges__";function eE(n){return n[Jv]||null}const Ts=function(n,e,t){};function ct(n){for(;Array.isArray(n);)n=n[xt];return n}function Q4(n,e){return ct(e[n])}function In(n,e){return ct(e[n.index])}function iE(n,e){return n.data[e]}function si(n,e){const t=e[n];return ni(t)?t:t[xt]}function Kr(n,e){return null==e?null:n[e]}function sE(n){n[c1]=0}function DU(n){1024&n[Ee]||(n[Ee]|=1024,oE(n,1))}function rE(n){1024&n[Ee]&&(n[Ee]&=-1025,oE(n,-1))}function oE(n,e){let t=n[gt];if(null===t)return;t[pc]+=e;let i=t;for(t=t[gt];null!==t&&(1===e&&1===i[pc]||-1===e&&0===i[pc]);)t[pc]+=e,i=t,t=t[gt]}const he={lFrame:CE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function lE(){return he.bindingsEnabled}function d1(){return null!==he.skipHydrationRootTNode}function z(){return he.lFrame.lView}function Oe(){return he.lFrame.tView}function lr(n){return he.lFrame.contextLView=n,n[Mt]}function ur(n){return he.lFrame.contextLView=null,n}function Xt(){let n=uE();for(;null!==n&&64===n.type;)n=n.parent;return n}function uE(){return he.lFrame.currentTNode}function _s(n,e){const t=he.lFrame;t.currentTNode=n,t.isParent=e}function ff(){return he.lFrame.isParent}function pf(){he.lFrame.isParent=!1}function h1(){return he.lFrame.bindingIndex++}function zU(n,e){const t=he.lFrame;t.bindingIndex=t.bindingRootIndex=n,gf(e)}function gf(n){he.lFrame.currentDirectiveIndex=n}function pE(){return he.lFrame.currentQueryIndex}function Cf(n){he.lFrame.currentQueryIndex=n}function GU(n){const e=n[Q];return 2===e.type?e.declTNode:1===e.type?n[cn]:null}function gE(n,e,t){if(t&Ne.SkipSelf){let s=e,r=n;for(;!(s=s.parent,null!==s||t&Ne.Host||(s=GU(r),null===s||(r=r[a1],10&s.type))););if(null===s)return!1;e=s,n=r}const i=he.lFrame=mE();return i.currentTNode=e,i.lView=n,!0}function vf(n){const e=mE(),t=n[Q];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function mE(){const n=he.lFrame,e=null===n?null:n.child;return null===e?CE(n):e}function CE(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function vE(){const n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const EE=vE;function Ef(){const n=vE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function bn(){return he.lFrame.selectedIndex}function Yo(n){he.lFrame.selectedIndex=n}function mt(){const n=he.lFrame;return iE(n.tView,n.selectedIndex)}function yf(){he.lFrame.currentNamespace="svg"}let wE=!0;function X4(){return wE}function Yr(n){wE=n}function Z4(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const r=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=r;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function J4(n,e,t){SE(n,e,3,t)}function eu(n,e,t,i){(3&n[Ee])===t&&SE(n,e,t,i)}function bf(n,e){let t=n[Ee];(3&t)===e&&(t&=8191,t+=1,n[Ee]=t)}function SE(n,e,t,i){const r=i??-1,o=e.length-1;let a=0;for(let c=void 0!==i?65535&n[c1]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[c1]+=65536),(a<r||-1==r)&&(qU(n,t,e,c),n[c1]=(4294901760&n[c1])+c+2),c++}function ME(n,e){Ts(4,n,e);const t=Bt(null);try{e.call(n)}finally{Bt(t),Ts(5,n,e)}}function qU(n,e,t,i){const s=t[i]<0,r=t[i+1],a=n[s?-t[i]:t[i]];s?n[Ee]>>13<n[c1]>>16&&(3&n[Ee])===e&&(n[Ee]+=8192,ME(a,r)):ME(a,r)}const f1=-1;class yc{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function TE(n){return n!==f1}function tu(n){return 32767&n}function nu(n,e){let t=function XU(n){return n>>16}(n),i=e;for(;t>0;)i=i[a1],t--;return i}let Sf=!0;function iu(n){const e=Sf;return Sf=n,e}const _E=255,DE=5;let ZU=0;const Ds={};function su(n,e){const t=AE(n,e);if(-1!==t)return t;const i=e[Q];i.firstCreatePass&&(n.injectorIndex=e.length,Mf(i.data,n),Mf(e,null),Mf(i.blueprint,null));const s=Tf(n,e),r=n.injectorIndex;if(TE(s)){const o=tu(s),a=nu(s,e),c=a[Q].data;for(let l=0;l<8;l++)e[r+l]=a[o+l]|c[o+l]}return e[r+8]=s,r}function Mf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function AE(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Tf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,s=e;for(;null!==s;){if(i=OE(s),null===i)return f1;if(t++,s=s[a1],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return f1}function _f(n,e,t){!function JU(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(dc)&&(i=t[dc]),null==i&&(i=t[dc]=ZU++);const s=i&_E;e.data[n+(s>>DE)]|=1<<s}(n,e,t)}function RE(n,e,t){if(t&Ne.Optional||void 0!==n)return n;O4()}function LE(n,e,t,i){if(t&Ne.Optional&&void 0===i&&(i=null),!(t&(Ne.Self|Ne.Host))){const s=n[o1],r=Ln(void 0);try{return s?s.get(e,i,t&Ne.Optional):Tv(e,i,t&Ne.Optional)}finally{Ln(r)}}return RE(i,0,t)}function NE(n,e,t,i=Ne.Default,s){if(null!==n){if(2048&e[Ee]&&!(i&Ne.Self)){const o=function sW(n,e,t,i,s){let r=n,o=e;for(;null!==r&&null!==o&&2048&o[Ee]&&!(512&o[Ee]);){const a=HE(r,o,t,i|Ne.Self,Ds);if(a!==Ds)return a;let c=r.parent;if(!c){const l=o[Bv];if(l){const u=l.get(t,Ds,i);if(u!==Ds)return u}c=OE(o),o=o[a1]}r=c}return s}(n,e,t,i,Ds);if(o!==Ds)return o}const r=HE(n,e,t,i,Ds);if(r!==Ds)return r}return LE(e,t,i,s)}function HE(n,e,t,i,s){const r=function nW(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(dc)?n[dc]:void 0;return"number"==typeof e?e>=0?e&_E:iW:e}(t);if("function"==typeof r){if(!gE(e,n,i))return i&Ne.Host?RE(s,0,i):LE(e,t,i,s);try{const o=r(i);if(null!=o||i&Ne.Optional)return o;O4()}finally{EE()}}else if("number"==typeof r){let o=null,a=AE(n,e),c=f1,l=i&Ne.Host?e[Tt][cn]:null;for((-1===a||i&Ne.SkipSelf)&&(c=-1===a?Tf(n,e):e[a+8],c!==f1&&IE(i,!1)?(o=e[Q],a=tu(c),e=nu(c,e)):a=-1);-1!==a;){const u=e[Q];if(xE(r,a,u.data)){const d=tW(a,e,t,o,i,l);if(d!==Ds)return d}c=e[a+8],c!==f1&&IE(i,e[Q].data[a+8]===l)&&xE(r,a,e)?(o=u,a=tu(c),e=nu(c,e)):a=-1}}return s}function tW(n,e,t,i,s,r){const o=e[Q],a=o.data[n+8],u=ru(a,o,t,null==i?qo(a)&&Sf:i!=o&&0!=(3&a.type),s&Ne.Host&&r===a);return null!==u?Qo(e,o,u,a):Ds}function ru(n,e,t,i,s){const r=n.providerIndexes,o=e.data,a=1048575&r,c=n.directiveStart,u=r>>20,f=s?a+u:n.directiveEnd;for(let p=i?a:a+u;p<f;p++){const g=o[p];if(p<c&&t===g||p>=c&&g.type===t)return p}if(s){const p=o[c];if(p&&es(p)&&p.type===t)return c}return null}function Qo(n,e,t,i){let s=n[t];const r=e.data;if(function KU(n){return n instanceof yc}(s)){const o=s;o.resolving&&function DB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new O(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ve(n)}(r[t]));const a=iu(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Ln(o.injectImpl):null;gE(n,i,Ne.Default);try{s=n[t]=o.factory(void 0,r,n,i),e.firstCreatePass&&t>=i.directiveStart&&function $U(n,e,t){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=e.type.prototype;if(i){const o=Zv(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}s&&(t.preOrderHooks??=[]).push(0-n,s),r&&((t.preOrderHooks??=[]).push(n,r),(t.preOrderCheckHooks??=[]).push(n,r))}(t,r[t],e)}finally{null!==c&&Ln(c),iu(a),o.resolving=!1,EE()}}return s}function xE(n,e,t){return!!(t[e+(n>>DE)]&1<<n)}function IE(n,e){return!(n&Ne.Self||n&Ne.Host&&e)}class p1{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return NE(this._tNode,this._lView,e,z4(i),t)}}function iW(){return new p1(Xt(),z())}function Ut(n){return or(()=>{const e=n.prototype.constructor,t=e[ar]||Df(e),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[ar]||Df(s);if(r&&r!==t)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function Df(n){return Kh(n)?()=>{const e=Df(ge(n));return e&&e()}:Ko(n)}function OE(n){const e=n[Q],t=e.type;return 2===t?e.declTNode:1===t?n[cn]:null}const m1="__parameters__";function v1(n,e,t){return or(()=>{const i=function Af(n){return function(...t){if(n){const i=n(...t);for(const s in i)this[s]=i[s]}}}(e);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(m1)?c[m1]:Object.defineProperty(c,m1,{value:[]})[m1];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}function wc(n,e){n.forEach(t=>Array.isArray(t)?wc(t,e):e(t))}function PE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function au(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Sc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function ri(n,e,t){let i=y1(n,e);return i>=0?n[1|i]=t:(i=~i,function dW(n,e,t,i){let s=n.length;if(s==e)n.push(t,i);else if(1===s)n.push(i,n[0]),n[0]=t;else{for(s--,n.push(n[s-1],n[s]);s>e;)n[s]=n[s-2],s--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Rf(n,e){const t=y1(n,e);if(t>=0)return n[1|t]}function y1(n,e){return function FE(n,e,t){let i=0,s=n.length>>t;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<t];if(e===o)return r<<t;o>e?s=r:i=r+1}return~(s<<t)}(n,e,1)}const Nf=uc(v1("Optional"),8),Hf=uc(v1("SkipSelf"),4);function fu(n){return 128==(128&n.flags)}var Qr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Qr||{});const Vf=new Map;let OW=0;const Ff="__ngContext__";function un(n,e){ni(e)?(n[Ff]=e[Cc],function PW(n){Vf.set(n[Cc],n)}(e)):n[Ff]=e}let zf;function kf(n,e){return zf(n,e)}function _c(n){const e=n[gt];return xn(e)?e[gt]:e}function sy(n){return oy(n[gc])}function ry(n){return oy(n[Ji])}function oy(n){for(;null!==n&&!xn(n);)n=n[Ji];return n}function S1(n,e,t,i,s){if(null!=i){let r,o=!1;xn(i)?r=i:ni(i)&&(o=!0,i=i[xt]);const a=ct(i);0===n&&null!==t?null==s?dy(e,t,a):Xo(e,t,a,s||null,!0):1===n&&null!==t?Xo(e,t,a,s||null,!0):2===n?function Eu(n,e,t){const i=Cu(n,e);i&&function nj(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=r&&function rj(n,e,t,i,s){const r=t[Ss];r!==ct(t)&&S1(e,n,i,r,s);for(let a=ln;a<t.length;a++){const c=t[a];Ac(c[Q],c,n,e,i,r)}}(e,n,r,t,s)}}function mu(n,e,t){return n.createElement(e,t)}function cy(n,e){const t=n[l1],i=t.indexOf(e);rE(e),t.splice(i,1)}function Bf(n,e){if(n.length<=ln)return;const t=ln+e,i=n[t];if(i){const s=i[mc];null!==s&&s!==n&&cy(s,i),e>0&&(n[t-1][Ji]=i[Ji]);const r=au(n,ln+e);!function KW(n,e){Ac(n,e,e[ye],2,null,null),e[xt]=null,e[cn]=null}(i[Q],i);const o=r[ws];null!==o&&o.detachView(r[Q]),i[gt]=null,i[Ji]=null,i[Ee]&=-129}return i}function ly(n,e){if(!(256&e[Ee])){const t=e[ye];e[U4]?.destroy(),e[W4]?.destroy(),t.destroyNode&&Ac(n,e,t,3,null,null),function XW(n){let e=n[gc];if(!e)return Uf(n[Q],n);for(;e;){let t=null;if(ni(e))t=e[gc];else{const i=e[ln];i&&(t=i)}if(!t){for(;e&&!e[Ji]&&e!==n;)ni(e)&&Uf(e[Q],e),e=e[gt];null===e&&(e=n),ni(e)&&Uf(e[Q],e),t=e&&e[Ji]}e=t}}(e)}}function Uf(n,e){if(!(256&e[Ee])){e[Ee]&=-129,e[Ee]|=256,function tj(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const s=e[t[i]];if(!(s instanceof yc)){const r=t[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],c=r[o+1];Ts(4,a,c);try{c.call(a)}finally{Ts(5,a,c)}}else{Ts(4,s,r);try{r.call(s)}finally{Ts(5,s,r)}}}}}(n,e),function ej(n,e){const t=n.cleanup,i=e[r1];if(null!==t)for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const o=t[r+3];o>=0?i[o]():i[-o].unsubscribe(),r+=2}else t[r].call(i[t[r+1]]);null!==i&&(e[r1]=null);const s=e[qr];if(null!==s){e[qr]=null;for(let r=0;r<s.length;r++)(0,s[r])()}}(n,e),1===e[Q].type&&e[ye].destroy();const t=e[mc];if(null!==t&&xn(e[gt])){t!==e[gt]&&cy(t,e);const i=e[ws];null!==i&&i.detachView(n)}!function FW(n){Vf.delete(n[Cc])}(e)}}function Wf(n,e,t){return function uy(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[xt];{const{componentOffset:s}=i;if(s>-1){const{encapsulation:r}=n.data[i.directiveStart+s];if(r===Ai.None||r===Ai.Emulated)return null}return In(i,t)}}(n,e.parent,t)}function Xo(n,e,t,i,s){n.insertBefore(e,t,i,s)}function dy(n,e,t){n.appendChild(e,t)}function hy(n,e,t,i,s){null!==i?Xo(n,e,t,i,s):dy(n,e,t)}function Cu(n,e){return n.parentNode(e)}function fy(n,e,t){return gy(n,e,t)}let jf,yu,Yf,bu,gy=function py(n,e,t){return 40&n.type?In(n,t):null};function vu(n,e,t,i){const s=Wf(n,i,e),r=e[ye],a=fy(i.parent||e[cn],i,e);if(null!=s)if(Array.isArray(t))for(let c=0;c<t.length;c++)hy(r,s,t[c],a,!1);else hy(r,s,t,a,!1);void 0!==jf&&jf(r,i,e,t,s)}function Dc(n,e){if(null!==e){const t=e.type;if(3&t)return In(e,n);if(4&t)return $f(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Dc(n,i);{const s=n[e.index];return xn(s)?$f(-1,s):ct(s)}}if(32&t)return kf(e,n)()||ct(n[e.index]);{const i=Cy(n,e);return null!==i?Array.isArray(i)?i[0]:Dc(_c(n[Tt]),i):Dc(n,e.next)}}return null}function Cy(n,e){return null!==e?n[Tt][cn].projection[e.projection]:null}function $f(n,e){const t=ln+n+1;if(t<e.length){const i=e[t],s=i[Q].firstChild;if(null!==s)return Dc(i,s)}return e[Ss]}function qf(n,e,t,i,s,r,o){for(;null!=t;){const a=i[t.index],c=t.type;if(o&&0===e&&(a&&un(ct(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)qf(n,e,t.child,i,s,r,!1),S1(e,n,s,a,r);else if(32&c){const l=kf(t,i);let u;for(;u=l();)S1(e,n,s,u,r);S1(e,n,s,a,r)}else 16&c?Ey(n,e,i,t,s,r):S1(e,n,s,a,r);t=o?t.projectionNext:t.next}}function Ac(n,e,t,i,s,r){qf(t,i,n.firstChild,e,s,r,!1)}function Ey(n,e,t,i,s,r){const o=t[Tt],c=o[cn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)S1(e,n,s,c[l],r);else{let l=c;const u=o[gt];fu(i)&&(l.flags|=128),qf(n,e,l,u,s,r,!0)}}function yy(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function by(n,e,t){const{mergedAttrs:i,classes:s,styles:r}=t;null!==i&&nf(n,e,i),null!==s&&yy(n,e,s),null!==r&&function aj(n,e,t){n.setAttribute(e,"style",t)}(n,e,r)}function M1(n){return function Kf(){if(void 0===yu&&(yu=null,et.trustedTypes))try{yu=et.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yu}()?.createHTML(n)||n}function Rc(){if(void 0!==Yf)return Yf;if(typeof document<"u")return document;throw new O(210,!1)}function wy(n){return function Qf(){if(void 0===bu&&(bu=null,et.trustedTypes))try{bu=et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bu}()?.createHTML(n)||n}class Zo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yv})`}}class hj extends Zo{getTypeName(){return"HTML"}}class fj extends Zo{getTypeName(){return"Style"}}class pj extends Zo{getTypeName(){return"Script"}}class gj extends Zo{getTypeName(){return"URL"}}class mj extends Zo{getTypeName(){return"ResourceURL"}}function oi(n){return n instanceof Zo?n.changingThisBreaksApplicationSecurity:n}function As(n,e){const t=function Cj(n){return n instanceof Zo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${yv})`)}return t===e}class Sj{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(M1(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Mj{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=M1(e),t}}const _j=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wu(n){return(n=String(n)).match(_j)?n:"unsafe:"+n}function fr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Lc(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const _y=fr("area,br,col,hr,img,wbr"),Dy=fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ay=fr("rp,rt"),Xf=Lc(_y,Lc(Dy,fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lc(Ay,fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lc(Ay,Dy)),Zf=fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ry=Lc(Zf,fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dj=fr("script,style,template");class Aj{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=this.checkClobberedElement(t,t.nextSibling);if(s){t=s;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Xf.hasOwnProperty(t))return this.sanitizedSomething=!0,!Dj.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let s=0;s<i.length;s++){const r=i.item(s),o=r.name,a=o.toLowerCase();if(!Ry.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=r.value;Zf[a]&&(c=wu(c)),this.buf.push(" ",o,'="',Ly(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Xf.hasOwnProperty(t)&&!_y.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ly(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Rj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lj=/([^\#-~ |!])/g;function Ly(n){return n.replace(/&/g,"&amp;").replace(Rj,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Lj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Su;function Ny(n,e){let t=null;try{Su=Su||function Ty(n){const e=new Mj(n);return function Tj(){try{return!!(new window.DOMParser).parseFromString(M1(""),"text/html")}catch{return!1}}()?new Sj(e):e}(n);let i=e?String(e):"";t=Su.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=t.innerHTML,t=Su.getInertBodyElement(i)}while(i!==r);return M1((new Aj).sanitizeChildren(Jf(t)||t))}finally{if(t){const i=Jf(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Jf(n){return"content"in n&&function Nj(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Li=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Li||{});function Hy(n){const e=function Nc(){const n=z();return n&&n[$o].sanitizer}();return e?wy(e.sanitize(Li.HTML,n)||""):As(n,"HTML")?wy(oi(n)):Ny(Rc(),ve(n))}class Y{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mu=new Y("ENVIRONMENT_INITIALIZER"),Oy=new Y("INJECTOR",-1),Vy=new Y("INJECTOR_DEF_TYPES");class Py{get(e,t=lc){if(t===lc){const i=new Error(`NullInjectorError: No provider for ${Ht(e)}!`);throw i.name="NullInjectorError",i}return t}}function Fj(...n){return{\u0275providers:Fy(0,n),\u0275fromNgModule:!0}}function Fy(n,...e){const t=[],i=new Set;let s;return wc(e,r=>{const o=r;t8(o,t,[],i)&&(s||=[],s.push(o))}),void 0!==s&&zy(s,t),t}function zy(n,e){for(let t=0;t<n.length;t++){const{providers:s}=n[t];n8(s,r=>{e.push(r)})}}function t8(n,e,t,i){if(!(n=ge(n)))return!1;let s=null,r=wv(n);const o=!r&&We(n);if(r||o){if(o&&!o.standalone)return!1;s=n}else{const c=n.ngModule;if(r=wv(c),!r)return!1;s=c}const a=i.has(s);if(o){if(a)return!1;if(i.add(s),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)t8(l,e,t,i)}}else{if(!r)return!1;{if(null!=r.imports&&!a){let l;i.add(s);try{wc(r.imports,u=>{t8(u,e,t,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&zy(l,e)}if(!a){const l=Ko(s)||(()=>new s);e.push({provide:s,useFactory:l,deps:ke},{provide:Vy,useValue:s,multi:!0},{provide:Mu,useValue:()=>q(s),multi:!0})}const c=r.providers;null==c||a||n8(c,u=>{e.push(u)})}}return s!==n&&void 0!==n.providers}function n8(n,e){for(let t of n)Yh(t)&&(t=t.\u0275providers),Array.isArray(t)?n8(t,e):e(t)}const zj=Qe({provide:String,useValue:Qe});function i8(n){return null!==n&&"object"==typeof n&&zj in n}function Jo(n){return"function"==typeof n}const s8=new Y("Set Injector scope."),Tu={},Gj={};let r8;function _u(){return void 0===r8&&(r8=new Py),r8}class ea{}class o8 extends ea{get destroyed(){return this._destroyed}constructor(e,t,i,s){super(),this.parent=t,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,c8(e,o=>this.processProvider(o)),this.records.set(Oy,T1(void 0,this)),s.has("environment")&&this.records.set(ea,T1(void 0,this));const r=this.records.get(s8);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Vy.multi,ke,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=jr(this),i=Ln(void 0);try{return e()}finally{jr(t),Ln(i)}}get(e,t=lc,i=Ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Rv))return e[Rv](this);i=z4(i);const s=jr(this),r=Ln(void 0);try{if(!(i&Ne.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function $j(n){return"function"==typeof n||"object"==typeof n&&n instanceof Y}(e)&&V4(e);a=c&&this.injectableDefInScope(c)?T1(a8(e),Tu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&Ne.Self?_u():this.parent).get(e,t=i&Ne.Optional&&t===lc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[F4]=o[F4]||[]).unshift(Ht(e)),s)throw o;return function kB(n,e,t,i){const s=n[F4];throw e[_v]&&s.unshift(e[_v]),n.message=function GB(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let s=Ht(e);if(Array.isArray(e))s=e.map(Ht).join(" -> ");else if("object"==typeof e){let r=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):Ht(a)))}s=`{${r.join(", ")}}`}return`${t}${i?"("+i+")":""}[${s}]: ${n.replace(OB,"\n  ")}`}("\n"+n.message,s,t,i),n.ngTokenPath=s,n[F4]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Ln(r),jr(s)}}resolveInjectorInitializers(){const e=jr(this),t=Ln(void 0);try{const i=this.get(Mu.multi,ke,Ne.Self);for(const s of i)s()}finally{jr(e),Ln(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Ht(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){let t=Jo(e=ge(e))?e:ge(e&&e.provide);const i=function Uj(n){return i8(n)?T1(void 0,n.useValue):T1(By(n),Tu)}(e);if(Jo(e)||!0!==e.multi)this.records.get(t);else{let s=this.records.get(t);s||(s=T1(void 0,Tu,!0),s.factory=()=>Jh(s.multi),this.records.set(t,s)),t=e,s.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Tu&&(t.value=Gj,t.value=t.factory()),"object"==typeof t.value&&t.value&&function jj(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ge(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function a8(n){const e=V4(n),t=null!==e?e.factory:Ko(n);if(null!==t)return t;if(n instanceof Y)throw new O(204,!1);if(n instanceof Function)return function Bj(n){const e=n.length;if(e>0)throw Sc(e,"?"),new O(204,!1);const t=function HB(n){return n&&(n[P4]||n[Sv])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new O(204,!1)}function By(n,e,t){let i;if(Jo(n)){const s=ge(n);return Ko(s)||a8(s)}if(i8(n))i=()=>ge(n.useValue);else if(function Gy(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Jh(n.deps||[]));else if(function ky(n){return!(!n||!n.useExisting)}(n))i=()=>q(ge(n.useExisting));else{const s=ge(n&&(n.useClass||n.provide));if(!function Wj(n){return!!n.deps}(n))return Ko(s)||a8(s);i=()=>new s(...Jh(n.deps))}return i}function T1(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function c8(n,e){for(const t of n)Array.isArray(t)?c8(t,e):t&&Yh(t)?c8(t.\u0275providers,e):e(t)}const Du=new Y("AppId",{providedIn:"root",factory:()=>qj}),qj="ng",Uy=new Y("Platform Initializer"),Xr=new Y("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Au=new Y("AnimationModuleType"),l8=new Y("CSP nonce",{providedIn:"root",factory:()=>Rc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jy=(n,e)=>null;function $y(n,e){return jy(n,e)}class n${}class Yy{}class s${resolveComponentFactory(e){throw function i$(n){const e=Error(`No component factory found for ${Ht(n)}.`);return e.ngComponent=n,e}(e)}}let Ic=(()=>{class n{}return n.NULL=new s$,n})();function r$(){return D1(Xt(),z())}function D1(n,e){return new dn(In(n,e))}let dn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=r$,n})();function o$(n){return n instanceof dn?n.nativeElement:n}class Oc{}let Zr=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function a$(){const n=z(),t=si(Xt().index,n);return(ni(t)?t:n)[ye]}(),n})(),c$=(()=>{class n{}return n.\u0275prov=le({token:n,providedIn:"root",factory:()=>null}),n})();class A1{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const l$=new A1("16.1.6"),y8={};function Vc(n){for(;n;){n[Ee]|=64;const e=_c(n);if(af(n)&&!e)return n;n=e}return null}function b8(n){return n.ngOriginalError}class ta{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&b8(e);for(;t&&b8(t);)t=b8(t);return t||null}}const Jy=new Y("",{providedIn:"root",factory:()=>!1});function eb(n){return n.ownerDocument.defaultView}class rb extends Kv{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Vc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,t,i){const s=Bt(this);this.trackingVersion++;try{e(t,i)}finally{Bt(s)}}destroy(){this.trackingVersion++}}let Iu=null;function ob(){return Iu??=new rb,Iu}function ab(n,e){return n[e]??ob()}function cb(n,e){const t=ob();t.hasReadASignal&&(n[e]=Iu,t.lView=n,Iu=new rb)}const be={};function Lt(n){lb(Oe(),z(),bn()+n,!1)}function lb(n,e,t,i){if(!i)if(3==(3&e[Ee])){const r=n.preOrderCheckHooks;null!==r&&J4(e,r,t)}else{const r=n.preOrderHooks;null!==r&&eu(e,r,0,t)}Yo(t)}function fb(n,e=null,t=null,i){const s=pb(n,e,t,i);return s.resolveInjectorInitializers(),s}function pb(n,e=null,t=null,i,s=new Set){const r=[t||ke,Fj(n)];return i=i||("object"==typeof n?void 0:Ht(n)),new o8(r,e||_u(),i||null,s)}let gr=(()=>{class n{static create(t,i){if(Array.isArray(t))return fb({name:""},i,t,"");{const s=t.name??"";return fb({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=lc,n.NULL=new Py,n.\u0275prov=le({token:n,providedIn:"any",factory:()=>q(Oy)}),n.__NG_ELEMENT_ID__=-1,n})();function P(n,e=Ne.Default){const t=z();return null===t?q(n,e):NE(Xt(),t,ge(n),e)}function Ou(n,e,t,i,s,r,o,a,c,l,u){const d=e.blueprint.slice();return d[xt]=s,d[Ee]=140|i,(null!==l||n&&2048&n[Ee])&&(d[Ee]|=2048),sE(d),d[gt]=d[a1]=n,d[Mt]=t,d[$o]=o||n&&n[$o],d[ye]=a||n&&n[ye],d[o1]=c||n&&n[o1]||null,d[cn]=r,d[Cc]=function VW(){return OW++}(),d[cr]=u,d[Bv]=l,d[Tt]=2==e.type?n[Tt]:d,d}function L1(n,e,t,i,s){let r=n.data[e];if(null===r)r=function w8(n,e,t,i,s){const r=uE(),o=ff(),c=n.data[e]=function R$(n,e,t,i,s,r){let o=e?e.injectorIndex:-1,a=0;return d1()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,t,e,i,s);return null===n.firstChild&&(n.firstChild=c),null!==r&&(o?null==r.child&&null!==c.parent&&(r.child=c):null===r.next&&(r.next=c,c.prev=r)),c}(n,e,t,i,s),function FU(){return he.lFrame.inI18n}()&&(r.flags|=32);else if(64&r.type){r.type=t,r.value=i,r.attrs=s;const o=function Ec(){const n=he.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return _s(r,!0),r}function Pc(n,e,t,i){if(0===t)return-1;const s=e.length;for(let r=0;r<t;r++)e.push(i),n.blueprint.push(i),n.data.push(null);return s}function mb(n,e,t,i,s){const r=ab(e,U4),o=bn(),a=2&i;try{if(Yo(-1),a&&e.length>_e&&lb(n,e,_e,!1),Ts(a?2:0,s),a)r.runInContext(t,i,s);else{const l=Bt(null);try{t(i,s)}finally{Bt(l)}}}finally{a&&null===e[U4]&&cb(e,U4),Yo(o),Ts(a?3:1,s)}}function S8(n,e,t){if(rf(e)){const i=Bt(null);try{const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Bt(i)}}}function M8(n,e,t){lE()&&(function V$(n,e,t,i){const s=t.directiveStart,r=t.directiveEnd;qo(t)&&function U$(n,e,t){const i=In(e,n),s=Cb(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Vu(n,Ou(n,s,null,o,i,e,null,n[$o].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[s+t.componentOffset]),n.firstCreatePass||su(t,e),un(i,e);const o=t.initialInputs;for(let a=s;a<r;a++){const c=n.data[a],l=Qo(e,n,a,t);un(l,e),null!==o&&W$(0,a-s,l,c,0,o),es(c)&&(si(t.index,e)[Mt]=Qo(e,n,a,t))}}(n,e,t,In(t,e)),64==(64&t.flags)&&wb(n,e,t))}function T8(n,e,t=In){const i=e.localNames;if(null!==i){let s=e.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?t(e,n):n[o];n[s++]=a}}}function Cb(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=_8(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function _8(n,e,t,i,s,r,o,a,c,l,u){const d=_e+i,f=d+s,p=function S$(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:be);return t}(d,f),g="function"==typeof l?l():l;return p[Q]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let vb=n=>null;function Eb(n,e,t,i){for(let s in n)if(n.hasOwnProperty(s)){t=null===t?{}:t;const r=n[s];null===i?yb(t,e,s,r):i.hasOwnProperty(s)&&yb(t,e,i[s],r)}return t}function yb(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function ai(n,e,t,i,s,r,o,a){const c=In(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(N8(n,t,u,i,s),qo(e)&&function H$(n,e){const t=si(e,n);16&t[Ee]||(t[Ee]|=64)}(t,e.index)):3&e.type&&(i=function N$(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,e.value||"",i):s,r.setProperty(c,i,s))}function D8(n,e,t,i){if(lE()){const s=null===i?null:{"":-1},r=function F$(n,e){const t=n.directiveRegistry;let i=null,s=null;if(t)for(let r=0;r<t.length;r++){const o=t[r];if(Vv(e,o.selectors,!1))if(i||(i=[]),es(o))if(null!==o.findHostDirectiveDefs){const a=[];s=s||new Map,o.findHostDirectiveDefs(o,a,s),i.unshift(...a,o),A8(n,e,a.length)}else i.unshift(o),A8(n,e,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,i,s),i.push(o)}return null===i?null:[i,s]}(n,t);let o,a;null===r?o=a=null:[o,a]=r,null!==o&&bb(n,e,t,o,s,a),s&&function z$(n,e,t){if(e){const i=n.localNames=[];for(let s=0;s<e.length;s+=2){const r=t[e[s+1]];if(null==r)throw new O(-301,!1);i.push(e[s],r)}}}(t,i,s)}t.mergedAttrs=hc(t.mergedAttrs,t.attrs)}function bb(n,e,t,i,s,r){for(let l=0;l<i.length;l++)_f(su(t,e),n,i[l].type);!function G$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Pc(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=hc(t.mergedAttrs,u.hostAttrs),B$(n,t,e,c,u),k$(c,u,s),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function L$(n,e,t){const s=e.directiveEnd,r=n.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<s;u++){const d=r[u],f=t?t.get(d):null,g=f?f.outputs:null;c=Eb(d.inputs,u,c,f?f.inputs:null),l=Eb(d.outputs,u,l,g);const m=null===c||null===o||Ov(e)?null:j$(c,u,o);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,r)}function wb(n,e,t){const i=t.directiveStart,s=t.directiveEnd,r=t.index,o=function kU(){return he.lFrame.currentDirectiveIndex}();try{Yo(r);for(let a=i;a<s;a++){const c=n.data[a],l=e[a];gf(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&P$(c,l)}}finally{Yo(-1),gf(o)}}function P$(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function A8(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function k$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;es(e)&&(t[""]=n)}}function B$(n,e,t,i,s){n.data[i]=s;const r=s.factory||(s.factory=Ko(s.type)),o=new yc(r,es(s),P);n.blueprint[i]=o,t[i]=o,function I$(n,e,t,i,s){const r=s.hostBindings;if(r){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function O$(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,r)}}(n,e,i,Pc(n,t,s.hostVars,be),s)}function Rs(n,e,t,i,s,r){const o=In(n,e);!function R8(n,e,t,i,s,r,o){if(null==r)n.removeAttribute(e,s,t);else{const a=null==o?ve(r):o(r,i||"",s);n.setAttribute(e,s,a,t)}}(e[ye],o,r,n.value,t,i,s)}function W$(n,e,t,i,s,r){const o=r[e];if(null!==o)for(let a=0;a<o.length;)Sb(i,t,o[a++],o[a++],o[a++])}function Sb(n,e,t,i,s){const r=Bt(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(s=o[i].call(e,s)),null!==n.setInput?n.setInput(e,s,t,i):e[i]=s}finally{Bt(r)}}function j$(n,e,t){let i=null,s=0;for(;s<t.length;){const r=t[s];if(0!==r)if(5!==r){if("number"==typeof r)break;if(n.hasOwnProperty(r)){null===i&&(i=[]);const o=n[r];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(r,o[a+1],t[s+1]);break}}s+=2}else s+=2;else s+=4}return i}function Mb(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function Tb(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i+1];if(-1!==r){const o=n.data[r];Cf(t[i]),o.contentQueries(2,e[r],r)}}}function Vu(n,e){return n[gc]?n[Gv][Ji]=e:n[gc]=e,n[Gv]=e,e}function L8(n,e,t){Cf(0);const i=Bt(null);try{e(n,t)}finally{Bt(i)}}function _b(n){return n[r1]||(n[r1]=[])}function Db(n){return n.cleanup||(n.cleanup=[])}function Rb(n,e){const t=n[o1],i=t?t.get(ta,null):null;i&&i.handleError(e)}function N8(n,e,t,i,s){for(let r=0;r<t.length;){const o=t[r++],a=t[r++];Sb(n.data[o],e[o],i,a,s)}}function $$(n,e){const t=si(e,n),i=t[Q];!function q$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const s=t[xt];null!==s&&null===t[cr]&&(t[cr]=$y(s,t[o1])),H8(i,t,t[Mt])}function H8(n,e,t){vf(e);try{const i=n.viewQuery;null!==i&&L8(1,i,t);const s=n.template;null!==s&&mb(n,e,s,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Tb(n,e),n.staticViewQueries&&L8(2,n.viewQuery,t);const r=n.components;null!==r&&function K$(n,e){for(let t=0;t<e.length;t++)$$(n,e[t])}(e,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ee]&=-5,Ef()}}let Lb=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,s){const r=typeof Zone>"u"?null:Zone.current,o=new mU(t,l=>{this.all.has(l)&&this.queue.set(l,r)},s);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n}),n})();function Pu(n,e,t){let i=t?n.styles:null,s=t?n.classes:null,r=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?r=a:1==r?s=qh(s,a):2==r&&(i=qh(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=s:n.classesWithoutHost=s}function Fc(n,e,t,i,s=!1){for(;null!==t;){const r=e[t.index];if(null!==r&&i.push(ct(r)),xn(r)){for(let a=ln;a<r.length;a++){const c=r[a],l=c[Q].firstChild;null!==l&&Fc(c[Q],c,l,i)}r[Ss]!==r[xt]&&i.push(r[Ss])}const o=t.type;if(8&o)Fc(n,e,t.child,i);else if(32&o){const a=kf(t,e);let c;for(;c=a();)i.push(c)}else if(16&o){const a=Cy(e,t);if(Array.isArray(a))i.push(...a);else{const c=_c(e[Tt]);Fc(c[Q],c,a,i,!0)}}t=s?t.projectionNext:t.next}return i}function Fu(n,e,t,i=!0){const s=e[$o].rendererFactory;s.begin&&s.begin();try{Nb(n,e,n.template,t)}catch(o){throw i&&Rb(e,o),o}finally{s.end&&s.end(),e[$o].effectManager?.flush()}}function Nb(n,e,t,i){const s=e[Ee];if(256!=(256&s)){e[$o].effectManager?.flush(),vf(e);try{sE(e),function hE(n){return he.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&mb(n,e,t,2,i);const o=3==(3&s);if(o){const l=n.preOrderCheckHooks;null!==l&&J4(e,l,null)}else{const l=n.preOrderHooks;null!==l&&eu(e,l,0,null),bf(e,0)}if(function J$(n){for(let e=sy(n);null!==e;e=ry(e)){if(!e[Uv])continue;const t=e[l1];for(let i=0;i<t.length;i++){DU(t[i])}}}(e),Hb(e,2),null!==n.contentQueries&&Tb(n,e),o){const l=n.contentCheckHooks;null!==l&&J4(e,l)}else{const l=n.contentHooks;null!==l&&eu(e,l,1),bf(e,1)}!function w$(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=ab(e,W4);try{for(let s=0;s<t.length;s++){const r=t[s];if(r<0)Yo(~r);else{const o=r,a=t[++s],c=t[++s];zU(a,o),i.runInContext(c,2,e[o])}}}finally{null===e[W4]&&cb(e,W4),Yo(-1)}}(n,e);const a=n.components;null!==a&&Ib(e,a,0);const c=n.viewQuery;if(null!==c&&L8(2,c,i),o){const l=n.viewCheckHooks;null!==l&&J4(e,l)}else{const l=n.viewHooks;null!==l&&eu(e,l,2),bf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ee]&=-73,rE(e)}finally{Ef()}}}function Hb(n,e){for(let t=sy(n);null!==t;t=ry(t))for(let i=ln;i<t.length;i++)xb(t[i],e)}function eq(n,e,t){xb(si(e,n),t)}function xb(n,e){if(!function TU(n){return 128==(128&n[Ee])}(n))return;const t=n[Q];if(80&n[Ee]&&0===e||1024&n[Ee]||2===e)Nb(t,n,t.template,n[Mt]);else if(n[pc]>0){Hb(n,1);const s=n[Q].components;null!==s&&Ib(n,s,1)}}function Ib(n,e,t){for(let i=0;i<e.length;i++)eq(n,e[i],t)}class zc{get rootNodes(){const e=this._lView,t=e[Q];return Fc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mt]}set context(e){this._lView[Mt]=e}get destroyed(){return 256==(256&this._lView[Ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[gt];if(xn(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Bf(e,i),au(t,i))}this._attachedToViewContainer=!1}ly(this._lView[Q],this._lView)}onDestroy(e){!function aE(n,e){if(256==(256&n[Ee]))throw new O(911,!1);null===n[qr]&&(n[qr]=[]),n[qr].push(e)}(this._lView,e)}markForCheck(){Vc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ee]&=-129}reattach(){this._lView[Ee]|=128}detectChanges(){Fu(this._lView[Q],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function QW(n,e){Ac(n,e,e[ye],2,null,null)}(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e}}class tq extends zc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Fu(e[Q],e,e[Mt],!1)}checkNoChanges(){}get context(){return null}}class Ob extends Ic{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=We(e);return new kc(t,this.ngModule)}}function Vb(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class iq{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=z4(i);const s=this.injector.get(e,y8,i);return s!==y8||t===y8?s:this.parentInjector.get(e,t,i)}}class kc extends Yy{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=Vb(e.inputs);if(null!==t)for(const s of i)t.hasOwnProperty(s.propName)&&(s.transform=t[s.propName]);return i}get outputs(){return Vb(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function XB(n){return n.map(QB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,s){let r=(s=s||this.ngModule)instanceof ea?s:s?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);const o=r?new iq(e,r):e,a=o.get(Oc,null);if(null===a)throw new O(407,!1);const u={rendererFactory:a,sanitizer:o.get(c$,null),effectManager:o.get(Lb,null)},d=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function M$(n,e,t,i){const r=i.get(Jy,!1)||t===Ai.ShadowDom,o=n.selectRootElement(e,r);return function T$(n){vb(n)}(o),o}(d,i,this.componentDef.encapsulation,o):mu(d,f,function nq(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528,M=_8(0,null,null,1,0,null,null,null,null,null,null),w=Ou(null,M,null,y,null,null,u,d,o,null,null);let T,R;vf(w);try{const N=this.componentDef;let k,j=null;N.findHostDirectiveDefs?(k=[],j=new Map,N.findHostDirectiveDefs(N,k,j),k.push(N)):k=[N];const ae=function rq(n,e){const t=n[Q],i=_e;return n[i]=e,L1(t,i,2,"#host",null)}(w,p),Se=function oq(n,e,t,i,s,r,o){const a=s[Q];!function aq(n,e,t,i){for(const s of n)e.mergedAttrs=hc(e.mergedAttrs,s.hostAttrs);null!==e.mergedAttrs&&(Pu(e,e.mergedAttrs,!0),null!==t&&by(i,t,e))}(i,n,e,o);let c=null;null!==e&&(c=$y(e,s[o1]));const l=r.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=Ou(s,Cb(t),null,u,s[n.index],n,r,l,null,null,c);return a.firstCreatePass&&A8(a,n,i.length-1),Vu(s,d),s[n.index]=d}(ae,p,N,k,w,u,d);R=iE(M,_e),p&&function lq(n,e,t,i){if(i)nf(n,t,["ng-version",l$.full]);else{const{attrs:s,classes:r}=function ZB(n){const e=[],t=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&e.push(r,n[++i]):8===s&&t.push(r);else{if(!Zi(s))break;s=r}i++}return{attrs:e,classes:t}}(e.selectors[0]);s&&nf(n,t,s),r&&r.length>0&&yy(n,t,r.join(" "))}}(d,N,p,i),void 0!==t&&function uq(n,e,t){const i=n.projection=[];for(let s=0;s<e.length;s++){const r=t[s];i.push(null!=r?Array.from(r):null)}}(R,this.ngContentSelectors,t),T=function cq(n,e,t,i,s,r){const o=Xt(),a=s[Q],c=In(o,s);bb(a,s,o,t,null,i);for(let u=0;u<t.length;u++)un(Qo(s,a,o.directiveStart+u,o),s);wb(a,s,o),c&&un(c,s);const l=Qo(s,a,o.directiveStart+o.componentOffset,o);if(n[Mt]=s[Mt]=l,null!==r)for(const u of r)u(l,e);return S8(a,o,n),l}(Se,N,k,j,w,[dq]),H8(M,w,null)}finally{Ef()}return new sq(this.componentType,T,D1(R,w),w,R)}}class sq extends n${constructor(e,t,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new tq(s),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let s;if(null!==i&&(s=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const r=this._rootLView;N8(r[Q],r,s,e,t),this.previousInputValues.set(e,t),Vc(si(this._tNode.index,r))}}get injector(){return new p1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function dq(){const n=Xt();Z4(z()[Q],n)}function Ge(n){let e=function Pb(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let s;if(es(n))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);s=e.\u0275dir}if(s){if(t){i.push(s);const o=n;o.inputs=zu(n.inputs),o.inputTransforms=zu(n.inputTransforms),o.declaredInputs=zu(n.declaredInputs),o.outputs=zu(n.outputs);const a=s.hostBindings;a&&gq(n,a);const c=s.viewQuery,l=s.contentQueries;if(c&&fq(n,c),l&&pq(n,l),x4(n.inputs,s.inputs),x4(n.declaredInputs,s.declaredInputs),x4(n.outputs,s.outputs),null!==s.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),x4(o.inputTransforms,s.inputTransforms)),es(s)&&s.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===Ge&&(t=!1)}}e=Object.getPrototypeOf(e)}!function hq(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=e+=s.hostVars,s.hostAttrs=hc(s.hostAttrs,t=hc(t,s.hostAttrs))}}(i)}function zu(n){return n===bs?{}:n===ke?[]:n}function fq(n,e){const t=n.viewQuery;n.viewQuery=t?(i,s)=>{e(i,s),t(i,s)}:e}function pq(n,e){const t=n.contentQueries;n.contentQueries=t?(i,s,r)=>{e(i,s,r),t(i,s,r)}:e}function gq(n,e){const t=n.hostBindings;n.hostBindings=t?(i,s)=>{e(i,s),t(i,s)}:e}function ku(n){return!!function x8(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function hn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ci(n,e,t,i){const s=z();return hn(s,h1(),e)&&(Oe(),Rs(mt(),s,n,e,t,i)),ci}function Cr(n,e,t,i,s,r,o,a){const c=z(),l=Oe(),u=n+_e,d=l.firstCreatePass?function Gq(n,e,t,i,s,r,o,a,c){const l=e.consts,u=L1(e,n,4,o||null,Kr(l,a));D8(e,t,u,Kr(l,c)),Z4(e,u);const d=u.tView=_8(2,u,i,s,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,i,s,r,o):l.data[u];_s(d,!1);const f=Jb(l,c,d,n);X4()&&vu(l,c,f,d),un(f,c),Vu(c,c[u]=Mb(f,c,f,d)),$4(d)&&M8(l,c,d),null!=o&&T8(c,d,a)}let Jb=function ew(n,e,t,i){return Yr(!0),e[ye].createComment("")};function z8(n){return function u1(n,e){return n[e]}(function PU(){return he.lFrame.contextLView}(),_e+n)}function bt(n,e,t){const i=z();return hn(i,h1(),e)&&ai(Oe(),mt(),i,n,e,i[ye],t,!1),bt}function k8(n,e,t,i,s){const o=s?"class":"style";N8(n,t,e.inputs[o],o,i)}function tt(n,e,t,i){const s=z(),r=Oe(),o=_e+n,a=s[ye],c=r.firstCreatePass?function jq(n,e,t,i,s,r){const o=e.consts,c=L1(e,n,2,i,Kr(o,s));return D8(e,t,c,Kr(o,r)),null!==c.attrs&&Pu(c,c.attrs,!1),null!==c.mergedAttrs&&Pu(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,r,s,e,t,i):r.data[o],l=tw(r,s,c,a,e,n);s[o]=l;const u=$4(c);return _s(c,!0),by(a,l,c),32!=(32&c.flags)&&X4()&&vu(r,s,l,c),0===function RU(){return he.lFrame.elementDepthCount}()&&un(l,s),function LU(){he.lFrame.elementDepthCount++}(),u&&(M8(r,s,c),S8(r,c,s)),null!==i&&T8(s,c),tt}function ht(){let n=Xt();ff()?pf():(n=n.parent,_s(n,!1));const e=n;(function HU(n){return he.skipHydrationRootTNode===n})(e)&&function VU(){he.skipHydrationRootTNode=null}(),function NU(){he.lFrame.elementDepthCount--}();const t=Oe();return t.firstCreatePass&&(Z4(t,n),rf(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function YU(n){return 0!=(8&n.flags)}(e)&&k8(t,e,z(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function QU(n){return 0!=(16&n.flags)}(e)&&k8(t,e,z(),e.stylesWithoutHost,!1),ht}function Hi(n,e,t,i){return tt(n,e,t,i),ht(),Hi}let tw=(n,e,t,i,s,r)=>(Yr(!0),mu(i,s,function bE(){return he.lFrame.currentNamespace}()));function ia(){return z()}function ju(n){return!!n&&"function"==typeof n.then}function sw(n){return!!n&&"function"==typeof n.subscribe}function Ct(n,e,t,i){const s=z(),r=Oe(),o=Xt();return function ow(n,e,t,i,s,r,o){const a=$4(i),l=n.firstCreatePass&&Db(n),u=e[Mt],d=_b(e);let f=!0;if(3&i.type||o){const m=In(i,e),y=o?o(m):m,M=d.length,w=o?R=>o(ct(R[i.index])):i.index;let T=null;if(!o&&a&&(T=function Xq(n,e,t,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===t&&s[r+1]===i){const a=e[r1],c=s[r+2];return a.length>c?a[c]:null}"string"==typeof o&&(r+=2)}return null}(n,e,s,i.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=r,T.__ngLastListenerFn__=r,f=!1;else{r=cw(i,e,u,r,!1);const R=t.listen(y,s,r);d.push(r,R),l&&l.push(s,w,M,M+1)}}else r=cw(i,e,u,r,!1);const p=i.outputs;let g;if(f&&null!==p&&(g=p[s])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const N=e[g[y]][g[y+1]].subscribe(r),k=d.length;d.push(r,N),l&&l.push(s,i.index,k,-(k+1))}}}(r,s,s[ye],o,n,e,i),Ct}function aw(n,e,t,i){try{return Ts(6,e,t),!1!==t(i)}catch(s){return Rb(n,s),!1}finally{Ts(7,e,t)}}function cw(n,e,t,i,s){return function r(o){if(o===Function)return i;Vc(n.componentOffset>-1?si(n.index,e):e);let c=aw(e,t,i,o),l=r.__ngNextListenerFn__;for(;l;)c=aw(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return s&&!1===c&&o.preventDefault(),c}}function Vn(n=1){return function BU(n){return(he.lFrame.contextLView=function UU(n,e){for(;n>0;)e=e[a1],n--;return e}(n,he.lFrame.contextLView))[Mt]}(n)}function Zq(n,e){let t=null;const i=function $B(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let s=0;s<e.length;s++){const r=e[s];if("*"!==r){if(null===i?Vv(n,r,!0):YB(i,r))return s}else t=s}return t}function U8(n){const e=z()[Tt][cn];if(!e.projection){const i=e.projection=Sc(n?n.length:1,null),s=i.slice();let r=e.child;for(;null!==r;){const o=n?Zq(r,n):0;null!==o&&(s[o]?s[o].projectionNext=r:i[o]=r,s[o]=r),r=r.next}}}function W8(n,e=0,t){const i=z(),s=Oe(),r=L1(s,_e+n,16,null,t||null);null===r.projection&&(r.projection=e),pf(),(!i[cr]||d1())&&32!=(32&r.flags)&&function sj(n,e,t){Ey(e[ye],0,e,t,Wf(n,t,e),fy(t.parent||e[cn],t,e))}(s,i,r)}function $u(n,e){return n<<17|e<<2}function Jr(n){return n>>17&32767}function $8(n){return 2|n}function sa(n){return(131068&n)>>2}function q8(n,e){return-131069&n|e<<2}function K8(n){return 1|n}function vw(n,e,t,i,s){const r=n[t+1],o=null===e;let a=i?Jr(r):sa(r),c=!1;for(;0!==a&&(!1===c||o);){const u=n[a+1];sK(n[a],e)&&(c=!0,n[a+1]=i?K8(u):$8(u)),a=i?Jr(u):sa(u)}c&&(n[t+1]=i?$8(r):K8(r))}function sK(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&y1(n,e)>=0}function vr(n,e){return function ts(n,e,t,i){const s=z(),r=Oe(),o=function hr(n){const e=he.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);r.firstUpdatePass&&function Dw(n,e,t,i){const s=n.data;if(null===s[t+1]){const r=s[bn()],o=function _w(n,e){return e>=n.expandoStartIndex}(n,t);(function Nw(n,e){return 0!=(n.flags&(e?8:16))})(r,i)&&null===e&&!o&&(e=!1),e=function fK(n,e,t,i){const s=function mf(n){const e=he.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let r=i?e.residualClasses:e.residualStyles;if(null===s)0===(i?e.classBindings:e.styleBindings)&&(t=jc(t=Y8(null,n,e,t,i),e.attrs,i),r=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==s)if(t=Y8(s,n,e,t,i),null===r){let c=function pK(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==sa(i))return n[Jr(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=Y8(null,n,e,c[1],i),c=jc(c,e.attrs,i),function gK(n,e,t,i){n[Jr(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else r=function mK(n,e,t){let i;const s=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<s;r++)i=jc(i,n[r].hostAttrs,t);return jc(i,e.attrs,t)}(n,e,i)}return void 0!==r&&(i?e.residualClasses=r:e.residualStyles=r),t}(s,r,e,i),function nK(n,e,t,i,s,r){let o=r?e.classBindings:e.styleBindings,a=Jr(o),c=sa(o);n[i]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||y1(t,u)>0)&&(l=!0)):u=t,s)if(0!==c){const f=Jr(n[a+1]);n[i+1]=$u(f,a),0!==f&&(n[f+1]=q8(n[f+1],i)),n[a+1]=function eK(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=$u(a,0),0!==a&&(n[a+1]=q8(n[a+1],i)),a=i;else n[i+1]=$u(c,0),0===a?a=i:n[c+1]=q8(n[c+1],i),c=i;l&&(n[i+1]=$8(n[i+1])),vw(n,u,i,!0),vw(n,u,i,!1),function iK(n,e,t,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof e&&y1(r,e)>=0&&(t[i+1]=K8(t[i+1]))}(e,u,n,i,r),o=$u(a,c),r?e.classBindings=o:e.styleBindings=o}(s,r,e,t,o,i)}}(r,n,o,i),e!==be&&hn(s,o,e)&&function Rw(n,e,t,i,s,r,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function tK(n){return 1==(1&n)}(l)?Lw(c,e,t,s,sa(l),o):void 0;qu(u)||(qu(r)||function Jq(n){return 2==(2&n)}(l)&&(r=Lw(c,null,t,s,a,o)),function oj(n,e,t,i,s){if(e)s?n.addClass(t,i):n.removeClass(t,i);else{let r=-1===i.indexOf("-")?void 0:Qr.DashCase;null==s?n.removeStyle(t,i,r):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),r|=Qr.Important),n.setStyle(t,i,s,r))}}(i,o,Q4(bn(),t),s,r))}(r,r.data[bn()],s,s[ye],n,s[o+1]=function yK(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ht(oi(n)))),n}(e,t),i,o)}(n,e,null,!0),vr}function Y8(n,e,t,i,s){let r=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(r=e[a],i=jc(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function jc(n,e,t){const i=t?1:2;let s=-1;if(null!==e)for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ri(n,o,!!t||e[++r]))}return void 0===n?null:n}function Lw(n,e,t,i,s,r){const o=null===e;let a;for(;s>0;){const c=n[s],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=t[s+1];f===be&&(f=d?ke:void 0);let p=d?Rf(f,i):u===i?f:void 0;if(l&&!qu(p)&&(p=Rf(c,i)),qu(p)&&(a=p,o))return a;const g=n[s+1];s=o?Jr(g):sa(g)}if(null!==e){let c=r?e.residualClasses:e.residualStyles;null!=c&&(a=Rf(c,i))}return a}function qu(n){return void 0!==n}function G1(n,e=""){const t=z(),i=Oe(),s=n+_e,r=i.firstCreatePass?L1(i,s,1,e,null):i.data[s],o=Hw(i,t,r,e,n);t[s]=o,X4()&&vu(i,t,o,r),_s(r,!1)}let Hw=(n,e,t,i,s)=>(Yr(!0),function gu(n,e){return n.createText(e)}(e[ye],i));function $c(n,e,t){const i=z(),s=function H1(n,e,t,i){return hn(n,h1(),t)?e+ve(t)+i:be}(i,n,e,t);return s!==be&&function mr(n,e,t){const i=Q4(e,n);!function ay(n,e,t){n.setValue(e,t)}(n[ye],i,t)}(i,bn(),s),$c}function Ku(n,e,t){const i=z();return hn(i,h1(),e)&&ai(Oe(),mt(),i,n,e,i[ye],t,!0),Ku}const U1="en-US";let eS=U1;function Z8(n,e,t,i,s){if(n=ge(n),Array.isArray(n))for(let r=0;r<n.length;r++)Z8(n[r],e,t,i,s);else{const r=Oe(),o=z();let a=Jo(n)?n:ge(n.provide),c=By(n);const l=Xt(),u=1048575&l.providerIndexes,d=l.directiveStart,f=l.providerIndexes>>20;if(Jo(n)||!n.multi){const p=new yc(c,s,P),g=e5(a,e,s?u:u+f,d);-1===g?(_f(su(l,o),r,a),J8(r,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),t.push(p),o.push(p)):(t[g]=p,o[g]=p)}else{const p=e5(a,e,u+f,d),g=e5(a,e,u,u+f),y=g>=0&&t[g];if(s&&!y||!s&&!(p>=0&&t[p])){_f(su(l,o),r,a);const M=function kY(n,e,t,i,s){const r=new yc(n,t,P);return r.multi=[],r.index=e,r.componentProviders=0,TS(r,s,i&&!t),r}(s?zY:FY,t.length,s,i,c);!s&&y&&(t[g].providerFactory=M),J8(r,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),t.push(M),o.push(M)}else J8(r,n,p>-1?p:g,TS(t[s?g:p],c,!s&&i));!s&&i&&y&&t[g].componentProviders++}}}function J8(n,e,t,i){const s=Jo(e),r=function kj(n){return!!n.useClass}(e);if(s||r){const c=(r?ge(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!s&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function TS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function e5(n,e,t,i){for(let s=t;s<i;s++)if(e[s]===n)return s;return-1}function FY(n,e,t,i){return t5(this.multi,[])}function zY(n,e,t,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Qo(t,t[Q],this.providerFactory.index,i);r=a.slice(0,o),t5(s,r);for(let c=o;c<a.length;c++)r.push(a[c])}else r=[],t5(s,r);return r}function t5(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function nt(n,e=[]){return t=>{t.providersResolver=(i,s)=>function PY(n,e,t){const i=Oe();if(i.firstCreatePass){const s=es(n);Z8(t,i.data,i.blueprint,s,!0),Z8(e,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,e)}}class W1{}class GY{}class n5 extends W1{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ob(this);const s=function ti(n,e){const t=n[Av]||null;if(!t&&!0===e)throw new Error(`Type ${Ht(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function pr(n){return n instanceof Function?n():n}(s.bootstrap),this._r3Injector=pb(e,t,[{provide:W1,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver},...i],Ht(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class i5 extends GY{constructor(e){super(),this.moduleType=e}create(e){return new n5(this.moduleType,e,[])}}function r5(n){return e=>{setTimeout(n,void 0,e)}}const G=class vQ extends Uo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let s=e,r=t||(()=>null),o=i;if(e&&"object"==typeof e){const c=e;s=c.next?.bind(c),r=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(r=r5(r),s&&(s=r5(s)),o&&(o=r5(o)));const a=super.subscribe({next:s,error:r,complete:o});return e instanceof Qi&&e.add(a),a}};function EQ(){return this._results[Symbol.iterator]()}class o5{get changes(){return this._changes||(this._changes=new G)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=o5.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=EQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const s=function Ri(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function lW(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=e[i];if(t&&(s=t(s),r=t(r)),r!==s)return!1}return!0}(i._results,s,t))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Er=(()=>{class n{}return n.__NG_ELEMENT_ID__=wQ,n})();const yQ=Er,bQ=class extends yQ{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t,null)}createEmbeddedViewImpl(e,t,i){const o=this._declarationTContainer.tView,a=Ou(this._declarationLView,o,e,4096&this._declarationLView[Ee]?4096:16,null,o.declTNode,null,null,null,t||null,i||null);a[mc]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[ws];return null!==l&&(a[ws]=l.createEmbeddedView(o)),H8(o,a,e),new zc(a)}};function wQ(){return Ju(Xt(),z())}function Ju(n,e){return 4&n.type?new bQ(e,n,D1(n,e)):null}let is=(()=>{class n{}return n.__NG_ELEMENT_ID__=RQ,n})();function RQ(){return US(Xt(),z())}const LQ=is,GS=class extends LQ{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return D1(this._hostTNode,this._hostLView)}get injector(){return new p1(this._hostTNode,this._hostLView)}get parentInjector(){const e=Tf(this._hostTNode,this._hostLView);if(TE(e)){const t=nu(e,this._hostLView),i=tu(e);return new p1(t[Q].data[i+8],t)}return new p1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=BS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(e,t,i){let s,r;"number"==typeof i?s=i:null!=i&&(s=i.index,r=i.injector);const a=e.createEmbeddedViewImpl(t||{},r,null);return this.insertImpl(a,s,false),a}createComponent(e,t,i,s,r){const o=e&&!function bc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const m=t||{};a=m.index,i=m.injector,s=m.projectableNodes,r=m.environmentInjector||m.ngModuleRef}const c=o?e:new kc(We(e)),l=i||this.parentInjector;if(!r&&null==c.ngModule){const y=(o?l:this.parentInjector).get(ea,null);y&&(r=y)}We(c.componentType??{});const p=c.create(l,s,null,r);return this.insertImpl(p.hostView,a,false),p}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const s=e._lView,r=s[Q];if(function _U(n){return xn(n[gt])}(s)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=s[gt],u=new GS(l,l[cn],l[gt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;if(function ZW(n,e,t,i){const s=ln+i,r=t.length;i>0&&(t[s-1][Ji]=e),i<r-ln?(e[Ji]=t[s],PE(t,ln+i,e)):(t.push(e),e[Ji]=null),e[gt]=t;const o=e[mc];null!==o&&t!==o&&function JW(n,e){const t=n[l1];e[Tt]!==e[gt][gt][Tt]&&(n[Uv]=!0),null===t?n[l1]=[e]:t.push(e)}(o,e);const a=e[ws];null!==a&&a.insertView(n),e[Ee]|=128}(r,s,a,o),!i){const c=$f(o,a),l=s[ye],u=Cu(l,a[Ss]);null!==u&&function YW(n,e,t,i,s,r){i[xt]=s,i[cn]=e,Ac(n,i,t,1,s,r)}(r,a[cn],l,s,u,c)}return e.attachToViewContainerRef(),PE(c5(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=BS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Bf(this._lContainer,t);i&&(au(c5(this._lContainer),t),ly(i[Q],i))}detach(e){const t=this._adjustIndex(e,-1),i=Bf(this._lContainer,t);return i&&null!=au(c5(this._lContainer),t)?new zc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function BS(n){return n[8]}function c5(n){return n[8]||(n[8]=[])}function US(n,e){let t;const i=e[n.index];return xn(i)?t=i:(t=Mb(i,e,null,n),e[n.index]=t,Vu(e,t)),WS(t,e,n,i),new GS(t,n,e)}let WS=function jS(n,e,t,i){if(n[Ss])return;let s;s=8&t.type?ct(i):function NQ(n,e){const t=n[ye],i=t.createComment(""),s=In(e,n);return Xo(t,Cu(t,s),i,function ij(n,e){return n.nextSibling(e)}(t,s),!1),i}(e,t),n[Ss]=s};class l5{constructor(e){this.queryList=e,this.matches=null}clone(){return new l5(this.queryList)}setDirty(){this.queryList.setDirty()}}class u5{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,s=[];for(let r=0;r<i;r++){const o=t.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new u5(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==QS(e,t).matches&&this.queries[t].setDirty()}}class $S{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class d5{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const s=null!==t?t.length:0,r=this.getByIndex(i).embeddedTView(e,s);r&&(r.indexInDeclarationView=i,null!==t?t.push(r):t=[r])}return null!==t?new d5(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class h5{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new h5(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(e,t,IQ(t,r)),this.matchTNodeWithReadOption(e,t,ru(t,e,r,!1,!1))}else i===Er?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ru(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===dn||s===is||s===Er&&4&t.type)this.addMatch(t.index,-2);else{const r=ru(t,e,s,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function IQ(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function VQ(n,e,t,i){return-1===t?function OQ(n,e){return 11&n.type?D1(n,e):4&n.type?Ju(n,e):null}(e,n):-2===t?function PQ(n,e,t){return t===dn?D1(e,n):t===Er?Ju(e,n):t===is?US(e,n):void 0}(n,e,i):Qo(n,n[Q],t,e)}function qS(n,e,t,i){const s=e[ws].queries[i];if(null===s.matches){const r=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:VQ(e,r[l],o[c+1],t.metadata.read))}s.matches=a}return s.matches}function f5(n,e,t,i){const s=n.queries.getByIndex(t),r=s.matches;if(null!==r){const o=qS(n,e,s,t);for(let a=0;a<r.length;a+=2){const c=r[a];if(c>0)i.push(o[a/2]);else{const l=r[a+1],u=e[-c];for(let d=ln;d<u.length;d++){const f=u[d];f[mc]===f[gt]&&f5(f[Q],f,l,i)}if(null!==u[l1]){const d=u[l1];for(let f=0;f<d.length;f++){const p=d[f];f5(p[Q],p,l,i)}}}}}return i}function p5(n){const e=z(),t=Oe(),i=pE();Cf(i+1);const s=QS(t,i);if(n.dirty&&function MU(n){return 4==(4&n[Ee])}(e)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?f5(t,e,i,[]):qS(t,e,s,i);n.reset(r,o$),n.notifyOnChanges()}return!0}return!1}function g5(n,e,t){const i=Oe();i.firstCreatePass&&(function YS(n,e,t){null===n.queries&&(n.queries=new d5),n.queries.track(new h5(e,t))}(i,new $S(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function KS(n,e,t){const i=new o5(4==(4&t));(function A$(n,e,t,i){const s=_b(e);s.push(t),n.firstCreatePass&&Db(n).push(i,s.length-1)})(n,e,i,i.destroy),null===e[ws]&&(e[ws]=new u5),e[ws].queries.push(new l5(i))}(i,z(),e)}function m5(){return function zQ(n,e){return n[ws].queries[e].queryList}(z(),pE())}function QS(n,e){return n.queries.getByIndex(e)}const cX=new Y("Application Initializer");let b5=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Ie(cX,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const s of this.appInits){const r=s();if(ju(r))t.push(r);else if(sw(r)){const o=new Promise((a,c)=>{r.subscribe({complete:a,error:c})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(s=>{this.reject(s)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xs=new Y("LocaleId",{providedIn:"root",factory:()=>Ie(xs,Ne.Optional|Ne.SkipSelf)||function uX(){return typeof $localize<"u"&&$localize.locale||U1}()});let w5=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new XC(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mM(...n){}class it{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new G(!1),this.onMicrotaskEmpty=new G(!1),this.onStable=new G(!1),this.onError=new G(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&t,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function mX(){const n="function"==typeof et.requestAnimationFrame;let e=et[n?"requestAnimationFrame":"setTimeout"],t=et[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function EX(n){const e=()=>{!function vX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(et,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,M5(n),n.isCheckStableRunning=!0,S5(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),M5(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,s,r,o,a)=>{try{return CM(n),t.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&e(),vM(n)}},onInvoke:(t,i,s,r,o,a,c)=>{try{return CM(n),t.invoke(s,r,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),vM(n)}},onHasTask:(t,i,s,r)=>{t.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,M5(n),S5(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,s,r)=>(t.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!it.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(it.isInAngularZone())throw new O(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,e,CX,mM,mM);try{return r.runTask(o,t,i)}finally{r.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const CX={};function S5(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function M5(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function CM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vM(n){n._nesting--,S5(n)}class yX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new G,this.onMicrotaskEmpty=new G,this.onStable=new G,this.onError=new G}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,s){return e.apply(t,i)}}const EM=new Y("",{providedIn:"root",factory:yM});function yM(){const n=Ie(it);let e=!0;return function MB(...n){const e=cc(n),t=function CB(n,e){return"number"==typeof jh(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Xi(i[0]):hv(t)(Wo(i,e)):Wh}(new kt(s=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{s.next(e),s.complete()})}),new kt(s=>{let r;n.runOutsideAngular(()=>{r=n.onStable.subscribe(()=>{it.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,s.next(!0))})})});const o=n.onUnstable.subscribe(()=>{it.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{s.next(!1)}))});return()=>{r.unsubscribe(),o.unsubscribe()}}).pipe(Cv()))}const bM=new Y(""),t0=new Y("");let D5,T5=(()=>{class n{constructor(t,i,s){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,D5||(function bX(n){D5=n}(s),s.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{it.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:s})}whenStable(t,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,s){return[]}}return n.\u0275fac=function(t){return new(t||n)(q(it),q(_5),q(t0))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),_5=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return D5?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),eo=null;const wM=new Y("AllowMultipleToken"),A5=new Y("PlatformDestroyListeners"),SM=new Y("appBootstrapListener");function _M(n,e,t=[]){const i=`Platform: ${e}`,s=new Y(i);return(r=[])=>{let o=R5();if(!o||o.injector.get(wM,!1)){const a=[...t,...r,{provide:s,useValue:!0}];n?n(a):function MX(n){if(eo&&!eo.get(wM,!1))throw new O(400,!1);(function MM(){!function pU(n){Yv=n}(()=>{throw new O(600,!1)})})(),eo=n;const e=n.get(AM);(function TM(n){n.get(Uy,null)?.forEach(t=>t())})(n)}(function DM(n=[],e){return gr.create({name:e,providers:[{provide:s8,useValue:"platform"},{provide:A5,useValue:new Set([()=>eo=null])},...n]})}(a,i))}return function _X(n){const e=R5();if(!e)throw new O(401,!1);return e}()}}function R5(){return eo?.get(AM)??null}let AM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const s=function DX(n="zone.js",e){return"noop"===n?new yX:"zone.js"===n?new it(e):n}(i?.ngZone,function RM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const r=function UY(n,e,t){return new n5(n,e,t)}(t.moduleType,this.injector,function IM(n){return[{provide:it,useFactory:n},{provide:Mu,multi:!0,useFactory:()=>{const e=Ie(RX,{optional:!0});return()=>e.initialize()}},{provide:xM,useFactory:AX},{provide:EM,useFactory:yM}]}(()=>s)),o=r.injector.get(ta,null);return s.runOutsideAngular(()=>{const a=s.onError.subscribe({next:c=>{o.handleError(c)}});r.onDestroy(()=>{n0(this._modules,r),a.unsubscribe()})}),function LM(n,e,t){try{const i=t();return ju(i)?i.catch(s=>{throw e.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(o,s,()=>{const a=r.injector.get(b5);return a.runInitializers(),a.donePromise.then(()=>(function tS(n){Di(n,"Expected localeId to be defined"),"string"==typeof n&&(eS=n.toLowerCase().replace(/_/g,"-"))}(r.injector.get(xs,U1)||U1),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,i=[]){const s=NM({},i);return function wX(n,e,t){const i=new i5(t);return Promise.resolve(i)}(0,0,t).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(t){const i=t.injector.get(q1);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new O(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(A5,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(q(gr))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function NM(n,e){return Array.isArray(e)?e.reduce(NM,n):{...n,...e}}let q1=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ie(xM),this.zoneIsStable=Ie(EM),this.componentTypes=[],this.components=[],this.isStable=Ie(w5).hasPendingTasks.pipe(vv(t=>t?H4(!1):this.zoneIsStable),Ev(),Cv()),this._injector=Ie(ea)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const s=t instanceof Yy;if(!this._injector.get(b5).done)throw!s&&function fc(n){const e=We(n)||an(n)||Hn(n);return null!==e&&e.standalone}(t),new O(405,!1);let o;o=s?t:this._injector.get(Ic).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function SX(n){return n.isBoundToModule}(o)?void 0:this._injector.get(W1),l=o.create(gr.NULL,[],i||o.selector,a),u=l.location.nativeElement,d=l.injector.get(bM,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),n0(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;n0(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(SM,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>n0(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new O(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const xM=new Y("",{providedIn:"root",factory:()=>Ie(ta).handleError.bind(void 0)});function AX(){const n=Ie(it),e=Ie(ta);return t=>n.runOutsideAngular(()=>e.handleError(t))}let RX=(()=>{class n{constructor(){this.zone=Ie(it),this.applicationRef=Ie(q1)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let L5=(()=>{class n{}return n.__NG_ELEMENT_ID__=NX,n})();function NX(n){return function HX(n,e,t){if(qo(n)&&!t){const i=si(n.index,e);return new zc(i,i)}return 47&n.type?new zc(e[Tt],e):null}(Xt(),z(),16==(16&n))}class FM{constructor(){}supports(e){return ku(e)}create(e){return new FX(e)}}const PX=(n,e)=>e;class FX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||PX}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,s=0,r=null;for(;t||i;){const o=!i||t&&t.currentIndex<kM(i,s,r)?t:i,a=kM(o,s,r),c=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)s++;else{r||(r=[]);const l=a-s,u=c-s;if(l!=u){for(let f=0;f<l;f++){const p=f<r.length?r[f]:r[f]=0,g=p+f;u<=g&&g<l&&(r[f]=p+1)}r[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ku(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,r,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)r=e[a],o=this._trackByFn(a,r),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,r,o,a)),Object.is(t.item,r)||this._addIdentityChange(t,r)):(t=this._mismatch(t,r,o,a),i=!0),t=t._next}else s=0,function Sq(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(s,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,s)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,s),i=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,s){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,s)):e=this._addAfter(new zX(t,i),r,s),e}_verifyReinsertion(e,t,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,r=e._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new zM),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class zX{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class zM{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new kX,this.map.set(t,i)),i.add(e)}get(e,t){const s=this.map.get(e);return s?s.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kM(n,e,t){const i=n.previousIndex;if(null===i)return i;let s=0;return t&&i<t.length&&(s=t[i]),i+e+s}function BM(){return new o0([new FM])}let o0=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||BM()),deps:[[n,new Hf,new Nf]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(null!=i)return i;throw new O(901,!1)}}return n.\u0275prov=le({token:n,providedIn:"root",factory:BM}),n})();const jX=_M(null,"core",[]);let $X=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(q(q1))},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({}),n})();let F5=null;function nl(){return F5}class iZ{}const Zt=new Y("DocumentToken");function sT(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[s,r]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}class jZ{constructor(e,t,i,s){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let aT=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((s,r,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new jZ(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,o),cT(a,s)}});for(let s=0,r=i.length;s<r;s++){const a=i.get(s).context;a.index=s,a.count=r,a.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{cT(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(P(is),P(Er),P(o0))},n.\u0275dir=de({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function cT(n,e){n.context.$implicit=e.item}let lT=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new $Z,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(P(is),P(Er))},n.\u0275dir=de({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class $Z{constructor(){this.$implicit=null,this.ngIf=null}}function uT(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ht(e)}'.`)}let fT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({}),n})();const pT="browser";function gT(n){return"server"===n}class CT{}class WJ extends iZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tp extends WJ{static makeCurrent(){!function nZ(n){F5||(F5=n)}(new tp)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function jJ(){return ol=ol||document.querySelector("base"),ol?ol.getAttribute("href"):null}();return null==t?null:function $J(n){y0=y0||document.createElement("a"),y0.setAttribute("href",n);const e=y0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ol=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sT(document.cookie,e)}}let y0,ol=null,KJ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const np=new Y("EventManagerPlugins");let wT=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(r=>r.supports(t)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(q(np),q(it))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class ST{constructor(e){this._doc=e}}const ip="ng-app-id";let MT=(()=>{class n{constructor(t,i,s,r={}){this.doc=t,this.appId=i,this.nonce=s,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gT(r),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(s=>s.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${ip}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(t,i){const s=this.styleRef;if(s.has(t)){const r=s.get(t);return r.usage+=i,r.usage}return s.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const s=this.styleNodesInDOM,r=s?.get(i);if(r?.parentNode===t)return s.delete(i),r.removeAttribute(ip),r;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(ip,this.appId),o}}addStyleToHost(t,i){const s=this.getStyleElement(t,i);t.appendChild(s);const r=this.styleRef,o=r.get(i)?.elements;o?o.push(s):r.set(i,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(q(Zt),q(Du),q(l8,8),q(Xr))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const sp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rp=/%COMP%/g,ZJ=new Y("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _T(n,e){return e.map(t=>t.replace(rp,n))}let op=(()=>{class n{constructor(t,i,s,r,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=r,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=gT(a),this.defaultRenderer=new ap(t,o,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ai.ShadowDom&&(i={...i,encapsulation:Ai.Emulated});const s=this.getOrCreateRenderer(t,i);return s instanceof AT?s.applyToHost(t):s instanceof cp&&s.applyStyles(),s}getOrCreateRenderer(t,i){const s=this.rendererByCompId;let r=s.get(i.id);if(!r){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Ai.Emulated:r=new AT(c,l,i,this.appId,u,o,a,d);break;case Ai.ShadowDom:return new nee(c,l,t,i,o,a,this.nonce,d);default:r=new cp(c,l,i,u,o,a,d)}s.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(q(wT),q(MT),q(Du),q(ZJ),q(Zt),q(Xr),q(it),q(l8))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class ap{constructor(e,t,i,s){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(sp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(DT(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(DT(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new O(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;const r=sp[s];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const s=sp[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(Qr.DashCase|Qr.Important)?e.style.setProperty(t,i,s&Qr.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Qr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=nl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function DT(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class nee extends ap{constructor(e,t,i,s,r,o,a,c){super(e,r,o,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=_T(s.id,s.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cp extends ap{constructor(e,t,i,s,r,o,a,c){super(e,r,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=c?_T(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class AT extends cp{constructor(e,t,i,s,r,o,a,c){const l=s+"-"+i.id;super(e,t,i,r,o,a,c,l),this.contentAttr=function JJ(n){return"_ngcontent-%COMP%".replace(rp,n)}(l),this.hostAttr=function eee(n){return"_nghost-%COMP%".replace(rp,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let iee=(()=>{class n extends ST{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}}return n.\u0275fac=function(t){return new(t||n)(q(Zt))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const RT=["alt","control","meta","shift"],see={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ree={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let oee=(()=>{class n extends ST{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nl().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),RT.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const c={};return c.domEventName=s,c.fullKey=o,c}static matchEventFullKeyCode(t,i){let s=see[t.key]||t.key,r="";return i.indexOf("code.")>-1&&(s=t.code,r="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),RT.forEach(o=>{o!==s&&(0,ree[o])(t)&&(r+=o+".")}),r+=s,r===i)}static eventCallback(t,i,s){return r=>{n.matchEventFullKeyCode(r,t)&&s.runGuarded(()=>i(r))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(q(Zt))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const NT=[{provide:Xr,useValue:pT},{provide:Uy,useValue:function aee(){tp.makeCurrent()},multi:!0},{provide:Zt,useFactory:function lee(){return function dj(n){Yf=n}(document),document},deps:[]}],uee=_M(jX,"browser",NT),dee=new Y(""),HT=[{provide:t0,useClass:class qJ{addToWindow(e){et.getAngularTestability=(i,s=!0)=>{const r=e.findTestabilityInTree(i,s);if(null==r)throw new O(5103,!1);return r},et.getAllAngularTestabilities=()=>e.getAllTestabilities(),et.getAllAngularRootElements=()=>e.getAllRootElements(),et.frameworkStabilizers||(et.frameworkStabilizers=[]),et.frameworkStabilizers.push(i=>{const s=et.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(c){o=o||c,r--,0==r&&i(o)};s.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?nl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:bM,useClass:T5,deps:[it,_5,t0]},{provide:T5,useClass:T5,deps:[it,_5,t0]}],xT=[{provide:s8,useValue:"root"},{provide:ta,useFactory:function cee(){return new ta},deps:[]},{provide:np,useClass:iee,multi:!0,deps:[Zt,it,Xr]},{provide:np,useClass:oee,multi:!0,deps:[Zt]},op,MT,wT,{provide:Oc,useExisting:op},{provide:CT,useClass:KJ,deps:[]},[]];let IT=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Du,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(q(dee,12))},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({providers:[...xT,...HT],imports:[fT,$X]}),n})();typeof window<"u"&&window;let PT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=le({token:n,factory:function(t){let i=null;return i=t?new(t||n):q(FT),i},providedIn:"root"}),n})(),FT=(()=>{class n extends PT{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Li.NONE:return i;case Li.HTML:return As(i,"HTML")?oi(i):Ny(this._doc,String(i)).toString();case Li.STYLE:return As(i,"Style")?oi(i):i;case Li.SCRIPT:if(As(i,"Script"))return oi(i);throw new O(5200,!1);case Li.URL:return As(i,"URL")?oi(i):wu(String(i));case Li.RESOURCE_URL:if(As(i,"ResourceURL"))return oi(i);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(t){return function vj(n){return new hj(n)}(t)}bypassSecurityTrustStyle(t){return function Ej(n){return new fj(n)}(t)}bypassSecurityTrustScript(t){return function yj(n){return new pj(n)}(t)}bypassSecurityTrustUrl(t){return function bj(n){return new gj(n)}(t)}bypassSecurityTrustResourceUrl(t){return function wj(n){return new mj(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(q(Zt))},n.\u0275prov=le({token:n,factory:function(t){let i=null;return i=t?new t:function Cee(n){return new FT(n.get(Zt))}(q(gr)),i},providedIn:"root"}),n})();function al(n){return(al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function fe(n,e,t){return(e=function Eee(n){var e=function vee(n,e){if("object"!==al(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==al(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===al(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kT(n,e){return Zn((t,i)=>{let s=0;t.subscribe(Jn(i,r=>n.call(e,r,s++)&&i.next(r)))})}function GT(n){return Zn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class b0{}class w0{}class Is{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const s=t.slice(0,i),r=s.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Is?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Is;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Is?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...i),this.headers.set(t,s);break;case"d":const r=e.value;if(r){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(r=>r.toString()),s=e.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class bee{encodeKey(e){return BT(e)}encodeValue(e){return BT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const See=/%(\d[a-f0-9])/gi,Mee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BT(n){return encodeURIComponent(n).replace(See,(e,t)=>Mee[t]??e)}function S0(n){return`${n}`}class no{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new bee,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function wee(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,r)),e.decodeValue(s.slice(r+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],s=Array.isArray(i)?i.map(S0):[S0(i)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const s=e[i];Array.isArray(s)?s.forEach(r=>{t.push({param:i,value:r,op:"a"})}):t.push({param:i,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new no({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(S0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const s=i.indexOf(S0(e.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Tee{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function UT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WT(n){return typeof Blob<"u"&&n instanceof Blob}function jT(n){return typeof FormData<"u"&&n instanceof FormData}class cl{constructor(e,t,i,s){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function _ee(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Is),this.context||(this.context=new Tee),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new no,this.urlWithParams=t}serializeBody(){return null===this.body?null:UT(this.body)||WT(this.body)||jT(this.body)||function Dee(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof no?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jT(this.body)?null:WT(this.body)?this.body.type||null:UT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof no?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new cl(t,i,r,{params:l,headers:c,context:u,reportProgress:a,responseType:s,withCredentials:o})}}var Y1=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Y1||{});class up{constructor(e,t=200,i="OK"){this.headers=e.headers||new Is,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class dp extends up{constructor(e={}){super(e),this.type=Y1.ResponseHeader}clone(e={}){return new dp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Q1 extends up{constructor(e={}){super(e),this.type=Y1.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Q1({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $T extends up{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function hp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let fp=(()=>{class n{constructor(t){this.handler=t}request(t,i,s={}){let r;if(t instanceof cl)r=t;else{let c,l;c=s.headers instanceof Is?s.headers:new Is(s.headers),s.params&&(l=s.params instanceof no?s.params:new no({fromObject:s.params})),r=new cl(t,i,void 0!==s.body?s.body:null,{headers:c,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=H4(r).pipe(function yee(n,e){return St(e)?N4(n,e,1):N4(n,1)}(c=>this.handler.handle(c)));if(t instanceof cl||"events"===s.observe)return o;const a=o.pipe(kT(c=>c instanceof Q1));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(sr(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(sr(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(sr(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(sr(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new no).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,s={}){return this.request("PATCH",t,hp(s,i))}post(t,i,s={}){return this.request("POST",t,hp(s,i))}put(t,i,s={}){return this.request("PUT",t,hp(s,i))}}return n.\u0275fac=function(t){return new(t||n)(q(b0))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function YT(n,e){return e(n)}function Ree(n,e){return(t,i)=>e.intercept(t,{handle:s=>n(s,i)})}const Nee=new Y(""),ll=new Y(""),QT=new Y("");function Hee(){let n=null;return(e,t)=>{null===n&&(n=(Ie(Nee,{optional:!0})??[]).reduceRight(Ree,YT));const i=Ie(w5),s=i.add();return n(e,t).pipe(GT(()=>i.remove(s)))}}let XT=(()=>{class n extends b0{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=Ie(w5)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(ll),...this.injector.get(QT,[])]));this.chain=s.reduceRight((r,o)=>function Lee(n,e,t){return(i,s)=>t.runInContext(()=>e(i,r=>n(r,s)))}(r,o,this.injector),YT)}const i=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(GT(()=>this.pendingTasks.remove(i)))}}return n.\u0275fac=function(t){return new(t||n)(q(w0),q(ea))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const Vee=/^\)\]\}',?\n/;let JT=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new O(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Wo(i.\u0275loadImpl()):H4(null)).pipe(vv(()=>new kt(r=>{const o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((m,y)=>o.setRequestHeader(m,y.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const m=t.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(t.responseType){const m=t.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=o.statusText||"OK",y=new Is(o.getAllResponseHeaders()),M=function Pee(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return c=new dp({headers:y,status:o.status,statusText:m,url:M}),c},u=()=>{let{headers:m,status:y,statusText:M,url:w}=l(),T=null;204!==y&&(T=typeof o.response>"u"?o.responseText:o.response),0===y&&(y=T?200:0);let R=y>=200&&y<300;if("json"===t.responseType&&"string"==typeof T){const N=T;T=T.replace(Vee,"");try{T=""!==T?JSON.parse(T):null}catch(k){T=N,R&&(R=!1,T={error:k,text:T})}}R?(r.next(new Q1({body:T,headers:m,status:y,statusText:M,url:w||void 0})),r.complete()):r.error(new $T({error:T,headers:m,status:y,statusText:M,url:w||void 0}))},d=m=>{const{url:y}=l(),M=new $T({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:y||void 0});r.error(M)};let f=!1;const p=m=>{f||(r.next(l()),f=!0);let y={type:Y1.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===t.responseType&&o.responseText&&(y.partialText=o.responseText),r.next(y)},g=m=>{let y={type:Y1.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),r.next(y)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),t.reportProgress&&(o.addEventListener("progress",p),null!==a&&o.upload&&o.upload.addEventListener("progress",g)),o.send(a),r.next({type:Y1.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),t.reportProgress&&(o.removeEventListener("progress",p),null!==a&&o.upload&&o.upload.removeEventListener("progress",g)),o.readyState!==o.DONE&&o.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(q(CT))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const pp=new Y("XSRF_ENABLED"),e_=new Y("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),t_=new Y("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class n_{}let kee=(()=>{class n{constructor(t,i,s){this.doc=t,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sT(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(q(Zt),q(Xr),q(e_))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();function Gee(n,e){const t=n.url.toLowerCase();if(!Ie(pp)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Ie(n_).getToken(),s=Ie(t_);return null!=i&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,i)})),e(n)}var io=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(io||{});function aa(n,e){return{\u0275kind:n,\u0275providers:e}}function Bee(...n){const e=[fp,JT,XT,{provide:b0,useExisting:XT},{provide:w0,useExisting:JT},{provide:ll,useValue:Gee,multi:!0},{provide:pp,useValue:!0},{provide:n_,useClass:kee}];for(const t of n)e.push(...t.\u0275providers);return function e8(n){return{\u0275providers:n}}(e)}const i_=new Y("LEGACY_INTERCEPTOR_FN");let Wee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({providers:[Bee(aa(io.LegacyInterceptors,[{provide:i_,useFactory:Hee},{provide:ll,useExisting:i_,multi:!0}]))]}),n})();function so(n){return null==n||""===n?null:n}function I(n,e=!1){return null!=n&&(""!==n||e)}function ne(n){return!I(n)}function ui(n){return null==n||0===n.length}function ul(n){return null!=n&&"function"==typeof n.toString?n.toString():null}function Oi(n){if(void 0===n)return;if(null===n||""===n)return null;if("number"==typeof n)return isNaN(n)?void 0:n;const e=parseInt(n,10);return isNaN(e)?void 0:e}function Os(n){if(void 0!==n)return null!==n&&""!==n&&("boolean"==typeof n?n:/true/i.test(n))}function ca(n){if(n instanceof Set||n instanceof Map){const e=[];return n.forEach(t=>e.push(t)),e}return Object.values(n)}var ete=Object.freeze({__proto__:null,makeNull:so,exists:I,missing:ne,missingOrEmpty:ui,toStringOrNull:ul,attrToNumber:Oi,attrToBoolean:Os,attrToString:function Qee(n){if(null!=n&&""!==n)return n},referenceCompare:function Xee(n,e){return null==n&&null==e||!(null==n&&null!=e||null!=n&&null==e)&&n===e},jsonEquals:function Zee(n,e){return(n?JSON.stringify(n):null)===(e?JSON.stringify(e):null)},defaultComparator:function Jee(n,e,t=!1){const i=null==n,s=null==e;if(n&&n.toNumber&&(n=n.toNumber()),e&&e.toNumber&&(e=e.toNumber()),i&&s)return 0;if(i)return-1;if(s)return 1;function r(o,a){return o>a?1:o<a?-1:0}if("string"!=typeof n||!t)return r(n,e);try{return n.localeCompare(e)}catch{return r(n,e)}},values:ca});class tte{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=ul(e);let i=0;for(;;){let s;if(e?(s=e,0!==i&&(s+="_"+i)):t?(s=t,0!==i&&(s+="_"+i)):s=""+i,!this.existingKeys[s])return this.existingKeys[s]=!0,s;i++}}}function lt(n,e){null!=n&&(Array.isArray(n)?n.forEach((t,i)=>e(`${i}`,t)):Object.keys(n).forEach(t=>e(t,n[t])))}function gp(n){const e={},t=Object.keys(n);for(let i=0;i<t.length;i++){const s=t[i];e[s]=n[s]}return e}function T0(n,e){if(!n)return;const t=n,i={};return Object.keys(t).forEach(s=>{if(e&&e.indexOf(s)>=0)return;const r=t[s];i[s]=_0(r)&&r.constructor===Object?T0(r):r}),i}function s_(n,e){return n[e]}function r_(n,e,t){n[e]=t}function o_(n,e,t,i){const s=s_(n,t);void 0!==s&&r_(e,t,i?i(s):s)}function a_(n){const e={};return n.filter(t=>null!=t).forEach(t=>{Object.keys(t).forEach(i=>e[i]=null)}),Object.keys(e)}function Vs(n){if(!n)return[];const e=Object;if("function"==typeof e.values)return e.values(n);const t=[];for(const i in n)n.hasOwnProperty(i)&&n.propertyIsEnumerable(i)&&t.push(n[i]);return t}function di(n,e,t=!0,i=!1){I(e)&&lt(e,(s,r)=>{let o=n[s];o!==r&&(i&&null==o&&null!=r&&"object"==typeof r&&r.constructor===Object&&(o={},n[s]=o),_0(r)&&_0(o)&&!Array.isArray(o)?di(o,r,t,i):(t||void 0!==r)&&(n[s]=r))})}function X1(n,e,t){if(!e||!n)return;if(!t)return n[e];const i=e.split(".");let s=n;for(let r=0;r<i.length;r++){if(null==s)return;s=s[i[r]]}return s}function c_(n,e){Object.keys(n).forEach(s=>{"object"==typeof n[s]&&(n[s]=void 0)});const t=Object.getPrototypeOf(n),i={};Object.keys(t).forEach(s=>{"function"==typeof t[s]&&(i[s]={value:()=>{console.warn(`AG Grid: ${e} function ${s}() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.`)},writable:!0})}),Object.defineProperties(n,i)}function _0(n){return"object"==typeof n&&null!==n}var ate=Object.freeze({__proto__:null,iterateObject:lt,cloneObject:gp,deepCloneObject:function nte(n){return JSON.parse(JSON.stringify(n))},deepCloneDefinition:T0,getProperty:s_,setProperty:r_,copyPropertiesIfPresent:function ite(n,e,...t){t.forEach(i=>o_(n,e,i))},copyPropertyIfPresent:o_,getAllKeysInObjects:a_,getAllValuesInObject:Vs,mergeDeep:di,missingOrEmptyObject:function ste(n){return ne(n)||0===Object.keys(n).length},get:function rte(n,e,t){if(null==n)return t;const i=e.split(".");let s=n;for(;i.length>1;)if(s=s[i.shift()],null==s)return t;return s[i[0]]??t},set:function ote(n,e,t){if(null==n)return;const i=e.split(".");let s=n;i.forEach((r,o)=>{s[r]||(s[r]={}),o<i.length-1&&(s=s[r])}),s[i[i.length-1]]=t},getValueUsingField:X1,removeAllReferences:c_,isNonNullObject:_0});const l_={};function Le(n,e){l_[e]||(n(),l_[e]=!0)}function D0(n){if(n.name)return n.name;const e=/function\s+([^\(]+)/.exec(n.toString());return e&&2===e.length?e[1].trim():null}function A0(n){return!!(n&&n.constructor&&n.call&&n.apply)}function u_(n){d_(n,400)}const mp=[];let Cp=!1;function vp(n){mp.push(n),!Cp&&(Cp=!0,window.setTimeout(()=>{const e=mp.slice();mp.length=0,Cp=!1,e.forEach(t=>t())},0))}function d_(n,e=0){n.length>0&&window.setTimeout(()=>n.forEach(t=>t()),e)}function Ps(n,e){let t;return function(...i){const s=this;window.clearTimeout(t),t=window.setTimeout(function(){n.apply(s,i)},e)}}function Ep(n,e){let t=0;return function(...i){const r=(new Date).getTime();r-t<e||(t=r,n.apply(this,i))}}function yp(n,e,t=100,i){const s=(new Date).getTime();let r=null,o=!1;const a=()=>{const c=(new Date).getTime()-s>t;(n()||c)&&(e(),o=!0,null!=r&&(window.clearInterval(r),r=null),c&&i&&console.warn(i))};a(),o||(r=window.setInterval(a,10))}function h_(n){n&&n()}var lte=Object.freeze({__proto__:null,doOnce:Le,getFunctionName:D0,isFunction:A0,executeInAWhile:u_,executeNextVMTurn:vp,executeAfter:d_,debounce:Ps,throttle:Ep,waitUntil:yp,compose:function cte(...n){return e=>n.reduce((t,i)=>i(t),e)},callIfPresent:h_,noop:()=>{}}),K=function(n){return n.CommunityCoreModule="@ag-grid-community/core",n.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",n.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",n.CsvExportModule="@ag-grid-community/csv-export",n.EnterpriseCoreModule="@ag-grid-enterprise/core",n.RowGroupingModule="@ag-grid-enterprise/row-grouping",n.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",n.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",n.MenuModule="@ag-grid-enterprise/menu",n.SetFilterModule="@ag-grid-enterprise/set-filter",n.MultiFilterModule="@ag-grid-enterprise/multi-filter",n.StatusBarModule="@ag-grid-enterprise/status-bar",n.SideBarModule="@ag-grid-enterprise/side-bar",n.RangeSelectionModule="@ag-grid-enterprise/range-selection",n.MasterDetailModule="@ag-grid-enterprise/master-detail",n.RichSelectModule="@ag-grid-enterprise/rich-select",n.GridChartsModule="@ag-grid-enterprise/charts",n.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",n.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",n.ExcelExportModule="@ag-grid-enterprise/excel-export",n.ClipboardModule="@ag-grid-enterprise/clipboard",n.SparklinesModule="@ag-grid-enterprise/sparklines",n.AngularModule="@ag-grid-community/angular",n.ReactModule="@ag-grid-community/react",n.VueModule="@ag-grid-community/vue",n}(K||{});let ie=(()=>{class n{static register(t){n.__register(t,!0,void 0)}static registerModules(t){n.__registerModules(t,!0,void 0)}static __register(t,i,s){n.runVersionChecks(t),void 0!==s?(n.areGridScopedModules=!0,void 0===n.gridModulesMap[s]&&(n.gridModulesMap[s]={}),n.gridModulesMap[s][t.moduleName]=t):n.globalModulesMap[t.moduleName]=t,n.setModuleBased(i)}static __unRegisterGridModules(t){delete n.gridModulesMap[t]}static __registerModules(t,i,s){n.setModuleBased(i),t&&t.forEach(r=>n.__register(r,i,s))}static isValidModuleVersion(t){const[i,s]=t.version.split(".")||[],[r,o]=n.currentModuleVersion.split(".")||[];return i===r&&s===o}static runVersionChecks(t){if(n.currentModuleVersion||(n.currentModuleVersion=t.version),t.version?n.isValidModuleVersion(t)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is version ${t.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is incompatible. Please update all modules to the same version.`),t.validate){const i=t.validate();i.isValid||console.error(`AG Grid: ${i.message}`)}}static setModuleBased(t){void 0===n.moduleBased?n.moduleBased=t:n.moduleBased!==t&&Le(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){n.isBundled=!0}static __assertRegistered(t,i,s){var r;if(this.__isRegistered(t,s))return!0;const o=i+t;let a;if(n.isBundled)a=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(n.moduleBased||void 0===n.moduleBased){let c=null===(r=Object.entries(K).find(([l,u])=>u===t))||void 0===r?void 0:r[0];a=`AG Grid: unable to use ${i} as the ${c} is not registered${n.areGridScopedModules?` for gridId: ${s}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${c} } from '${t}';\n    \n    ModuleRegistry.registerModules([ ${c} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else a=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/`;return Le(()=>{console.warn(a)},o),!1}static __isRegistered(t,i){var s;return!!n.globalModulesMap[t]||!(null===(s=n.gridModulesMap[i])||void 0===s||!s[t])}static __getRegisteredModules(t){return[...ca(n.globalModulesMap),...ca(n.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){var i;return ca(null!==(i=n.gridModulesMap[t])&&void 0!==i?i:{})||[]}static __isPackageBased(){return!n.moduleBased}}return n.globalModulesMap={},n.gridModulesMap={},n.areGridScopedModules=!1,n})();class ute{constructor(e,t){if(this.beanWrappers={},this.destroyed=!1,!e||!e.beanClasses)return;this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();const i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return ca(this.beanWrappers).map(e=>e.beanInstance)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e}wireBeans(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),I(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),lt(this.beanWrappers,(t,i)=>{let s;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(s=i.bean.__agBeanMetaData.autowireMethods.agConstructor);const r=this.getBeansForParameters(s,i.bean.name),o=new(i.bean.bind.apply(i.bean,[null,...r]));i.beanInstance=o});const e=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${e}`)}createBeanWrapper(e){const t=e.__agBeanMetaData;if(!t){let s;return s=e.prototype.constructor?D0(e.prototype.constructor):""+e,void console.error(`Context item ${s} is not a bean`)}this.beanWrappers[t.beanName]={bean:e,beanInstance:null,beanName:t.beanName}}autoWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(i,s)=>{const r=i.agClassAttributes;r&&r.forEach(o=>{const a=this.lookupBeanInstance(s,o.beanName,o.optional);t[o.attributeName]=a})})})}methodWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(i,s)=>{lt(i.autowireMethods,(r,o)=>{if("agConstructor"===r)return;const a=this.getBeansForParameters(o,s);t[r].apply(t,a)})})})}forEachMetaDataInHierarchy(e,t){let i=Object.getPrototypeOf(e);for(;null!=i;){const s=i.constructor;s.hasOwnProperty("__agBeanMetaData")&&t(s.__agBeanMetaData,this.getBeanName(s)),i=Object.getPrototypeOf(i)}}getBeanName(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;const t=e.toString();return t.substring(9,t.indexOf("("))}getBeansForParameters(e,t){const i=[];return e&&lt(e,(s,r)=>{const o=this.lookupBeanInstance(t,r);i[Number(s)]=o}),i}lookupBeanInstance(e,t,i=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${t} is used after the grid is destroyed!`),null;if("context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];const s=this.beanWrappers[t];return s?s.beanInstance:(i||console.error(`AG Grid: unable to find bean reference ${t} while initialising ${e}`),null)}callLifeCycleMethods(e,t){e.forEach(i=>this.callLifeCycleMethodsOnBean(i,t))}callLifeCycleMethodsOnBean(e,t,i){const s={};this.forEachMetaDataInHierarchy(e,o=>{const a=o[t];a&&a.forEach(c=>{c!=i&&(s[c]=!0)})}),Object.keys(s).forEach(o=>e[o]())}getBean(e){return this.lookupBeanInstance("getBean",e,!0)}destroy(){if(this.destroyed)return;this.logger.log(">> Shutting down ag-Application Context");const e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,ie.__unRegisterGridModules(this.contextParams.gridId),this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(e){e&&this.destroyBeans([e])}destroyBeans(e){return e?(e.forEach(t=>{this.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy"),"function"==typeof t.destroy&&t.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}}function f_(n,e,t){const i=la(n.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(e)}function B(n,e,t){const i=la(n.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(e)}function Wt(n,e,t){const i=la(n.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(e)}function $(n){return e=>{la(e).beanName=n}}function C(n){return(e,t,i)=>{p_(e,n,!1,0,t,null)}}function Pe(n){return(e,t,i)=>{p_(e,n,!0,0,t,null)}}function p_(n,e,t,i,s,r){if(null===e)return void console.error("AG Grid: Autowired name should not be null");if("number"==typeof r)return void console.error("AG Grid: Autowired should be on an attribute");const o=la(n.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:s,beanName:e,optional:t})}function Tn(n){return(e,t,i)=>{const s="function"==typeof e?e:e.constructor;let r;if("number"==typeof i){let o;t?(r=la(s),o=t):(r=la(s),o="agConstructor"),r.autowireMethods||(r.autowireMethods={}),r.autowireMethods[o]||(r.autowireMethods[o]={}),r.autowireMethods[o][i]=n}}}function la(n){return n.hasOwnProperty("__agBeanMetaData")||(n.__agBeanMetaData={}),n.__agBeanMetaData}var g_=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},R0=function(n,e){return function(t,i){e(t,i,n)}};let as=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t,i,s=null){if(this.frameworkOverrides=i,this.gridOptionsService=t,s){const r=t.useAsyncEvents();this.addGlobalListener(s,r)}}getListeners(e,t,i){const s=t?this.allAsyncListeners:this.allSyncListeners;let r=s.get(e);return!r&&i&&(r=new Set,s.set(e,r)),r}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const s=this.getListeners(e,i,!1);s&&(s.delete(t),0===s.size&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;if(this.gridOptionsService){const{api:i,columnApi:s,context:r}=this.gridOptionsService;t.api=i,t.columnApi=s,t.context=r}this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const r=new Set(this.getListeners(i,t,!1));r&&(a=>{a.forEach(c=>{t?this.dispatchAsync(()=>c(e)):c(e)})})(r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{t?this.dispatchAsync(()=>this.frameworkOverrides.dispatchEvent(i,()=>a(i,e),!0)):this.frameworkOverrides.dispatchEvent(i,()=>a(i,e),!0)})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};g_([R0(0,Tn("loggerFactory")),R0(1,Tn("gridOptionsService")),R0(2,Tn("frameworkOverrides")),R0(3,Tn("globalEventListener"))],as.prototype,"setBeans",null),as=g_([$("eventService")],as);var L0=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let dte=0;function m_(){return dte++}let Fe=(()=>{class n{constructor(t,i,s,r){this.instanceId=m_(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new as,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=i,this.colId=s,this.primary=r,this.setState(t)}getInstanceId(){return this.instanceId}setState(t){void 0!==t.sort?("asc"===t.sort||"desc"===t.sort)&&(this.sort=t.sort):("asc"===t.initialSort||"desc"===t.initialSort)&&(this.sort=t.initialSort);const i=Oi(t.sortIndex),s=Oi(t.initialSortIndex);void 0!==i?null!==i&&(this.sortIndex=i):null!==s&&(this.sortIndex=s);const r=Os(t.hide),o=Os(t.initialHide);this.visible=void 0!==r?!r:!o,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);const a=Oi(t.flex),c=Oi(t.initialFlex);void 0!==a?this.flex=a:void 0!==c&&(this.flex=c)}setColDef(t,i){this.colDef=t,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(t){this.parent=t}getParent(){return this.parent}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()}initDotNotation(){const t=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=I(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=I(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t}initMinAndMaxWidths(){const t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)}initTooltip(){this.tooltipEnabled=I(this.colDef.tooltipField)||I(this.colDef.tooltipValueGetter)||I(this.colDef.tooltipComponent)}resetActualWidth(t="api"){const i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,t,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(t){return!ne(this.colDef)&&!ne(this.colDef.showRowGroup)&&(!0===this.colDef.showRowGroup||this.colDef.showRowGroup===t)}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}validate(){const t=this.colDef;function i(r,o,a){Le(()=>{a?console.warn(r,a):Le(()=>console.warn(r),o)},o)}if(this.gridOptionsService.isRowModelType("clientSide")&&!ie.__isRegistered(K.RowGroupingModule,this.gridOptionsService.getGridId())){const o=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(a=>I(t[a]));o.length>0&&ie.__assertRegistered(K.RowGroupingModule,o.map(a=>"colDef."+a).join(", "),this.gridOptionsService.getGridId())}if(("agRichSelect"===this.colDef.cellEditor||"agRichSelectCellEditor"===this.colDef.cellEditor)&&ie.__assertRegistered(K.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.isTreeData()){const o=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(a=>I(t[a]));o.length>0&&i(`AG Grid: ${o.join()} is not possible when doing tree data, your column definition should not have ${o.join()}`,"TreeDataCannotRowGroup")}if(I(t.menuTabs))if(Array.isArray(t.menuTabs)){const r=["filterMenuTab"],o=["columnsMenuTab","generalMenuTab"],a=o.filter(c=>t.menuTabs.includes(c));a.length>0&&ie.__assertRegistered(K.MenuModule,`menuTab(s): ${a.map(c=>`'${c}'`).join()}`,this.gridOptionsService.getGridId()),t.menuTabs.forEach(c=>{!o.includes(c)&&!r.includes(c)&&i(`AG Grid: '${c}' is not valid for 'colDef.menuTabs'. Valid values are: ${[...r,...o].map(l=>`'${l}'`).join()}.`,"wrongValue_menuTabs_"+c)})}else i("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof t.menuTabs,"wrongType_menuTabs");I(t.columnsMenuParams)&&ie.__assertRegistered(K.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),I(t.columnsMenuParams)&&ie.__assertRegistered(K.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),I(this.colDef.width)&&"number"!=typeof this.colDef.width&&i("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),I(t.columnGroupShow)&&"closed"!==t.columnGroupShow&&"open"!==t.columnGroupShow&&i(`AG Grid: '${t.columnGroupShow}' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null`,"columnGroupShow_invalid")}addEventListener(t,i){this.eventService.addEventListener(t,i)}removeEventListener(t,i){this.eventService.removeEventListener(t,i)}createColumnFunctionCallbackParams(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}}isSuppressNavigable(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const i=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(i)}return!1}isCellEditable(t){return!(t.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)}isSuppressFillHandle(){return!!Os(this.colDef.suppressFillHandle)}isAutoHeight(){return!!Os(this.colDef.autoHeight)}isAutoHeaderHeight(){return!!Os(this.colDef.autoHeaderHeight)}isRowDrag(t){return this.isColumnFunc(t,this.colDef.rowDrag)}isDndSource(t){return this.isColumnFunc(t,this.colDef.dndSource)}isCellCheckboxSelection(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)}isSuppressPaste(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!Os(this.colDef.resizable)}isColumnFunc(t,i){return"boolean"==typeof i?i:"function"==typeof i&&i(this.createColumnFunctionCallbackParams(t))}setMoving(t,i="api"){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(t,i){return{type:t,column:this,columns:[this],source:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}isMoving(){return this.moving}getSort(){return this.sort}setSort(t,i="api"){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",i))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(t,i="api"){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return ne(this.sort)}isSorting(){return I(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(t,i="api"){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(t,i="api",s){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));const r=this.createColumnEvent("filterChanged",i);s&&di(r,s),this.eventService.dispatchEvent(r)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(t,i="api"){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(t,i="api"){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(t,i="api"){const s=!0===t;this.visible!==s&&(this.visible=s,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",i))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const i=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,i}createBaseColDefParams(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}getColSpan(t){if(ne(this.colDef.colSpan))return 1;const i=this.createBaseColDefParams(t),s=this.colDef.colSpan(i);return Math.max(s,1)}getRowSpan(t){if(ne(this.colDef.rowSpan))return 1;const i=this.createBaseColDefParams(t),s=this.colDef.rowSpan(i);return Math.max(s,1)}setActualWidth(t,i="api",s=!1){null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==i&&"gridInitializing"!==i&&(this.flex=null),s||this.fireColumnWidthChangedEvent(i)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))}isGreaterThanMax(t){return null!=this.maxWidth&&t>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")}setMinimum(t="api"){I(this.minWidth)&&this.setActualWidth(this.minWidth,t)}setRowGroupActive(t,i="api"){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(t,i="api"){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(t,i="api"){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}getMenuTabs(t){let i=this.getColDef().menuTabs;return null==i&&(i=t),i}dispatchStateUpdatedEvent(t){this.eventService.dispatchEvent({type:n.EVENT_STATE_UPDATED,key:t})}}return n.EVENT_MOVING_CHANGED="movingChanged",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_WIDTH_CHANGED="widthChanged",n.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",n.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",n.EVENT_VISIBLE_CHANGED="visibleChanged",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_COL_DEF_CHANGED="colDefChanged",n.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",n.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_PIVOT_CHANGED="columnPivotChanged",n.EVENT_VALUE_CHANGED="columnValueChanged",n.EVENT_STATE_UPDATED="columnStateUpdated",n})();L0([C("gridOptionsService")],Fe.prototype,"gridOptionsService",void 0),L0([C("columnUtils")],Fe.prototype,"columnUtils",void 0),L0([C("columnHoverService")],Fe.prototype,"columnHoverService",void 0),L0([B],Fe.prototype,"initialise",null);let vt=(()=>{class n{constructor(t,i,s,r){this.localEventService=new as,this.expandable=!1,this.instanceId=m_(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=i,this.expanded=!!t&&!!t.openByDefault,this.padding=s,this.level=r}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(t,i){this.colGroupDef=t,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(t=>t.isVisible())}isPadding(){return this.padding}setExpanded(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:n.EVENT_EXPANDED_CHANGED})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(t){this.children=t}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}addLeafColumns(t){this.children&&this.children.forEach(i=>{i instanceof Fe?t.push(i):i instanceof n&&i.addLeafColumns(t)})}getColumnGroupShow(){const t=this.colGroupDef;if(t)return t.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,i=!1,s=!1;const r=this.findChildrenRemovingPadding();for(let a=0,c=r.length;a<c;a++){const l=r[a];if(!l.isVisible())continue;const u=l.getColumnGroupShow();"open"===u?(t=!0,s=!0):"closed"===u?(i=!0,s=!0):(t=!0,i=!0)}const o=t&&i&&s;this.expandable!==o&&(this.expandable=o,this.localEventService.dispatchEvent({type:n.EVENT_EXPANDABLE_CHANGED}))}findChildrenRemovingPadding(){const t=[],i=s=>{s.forEach(r=>{r instanceof n&&r.isPadding()?i(r.children):t.push(r)})};return i(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(t,i){this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService.removeEventListener(t,i)}}return n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_EXPANDABLE_CHANGED="expandableChanged",n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([Wt],vt.prototype,"destroy",null);const fte={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function C_(...n){for(let e=0;e<n.length;e++){const t=n[e];if(I(t))return t}return null}function qe(n){if(n&&n.length)return n[n.length-1]}function ro(n,e,t){return null==n&&null==e||null!=n&&null!=e&&n.length===e.length&&n.every((i,s)=>t?t(i,e[s]):e[s]===i)}function v_(n){return n.sort((e,t)=>e-t)}function fn(n,e){const t=n.indexOf(e);t>=0&&n.splice(t,1)}function bp(n,e){e.forEach(t=>fn(n,t))}function dl(n,e,t){n.splice(t,0,e)}function wp(n,e,t){bp(n,e),e.slice().reverse().forEach(i=>dl(n,i,t))}function Vi(n,e){return n.indexOf(e)>-1}function E_(n){return[].concat.apply([],n)}function Sp(n,e){null==e||null==n||e.forEach(t=>n.push(t))}var yte=Object.freeze({__proto__:null,firstExistingValue:C_,existsAndNotEmpty:function pte(n){return null!=n&&n.length>0},last:qe,areEqual:ro,shallowCompare:function gte(n,e){return ro(n,e)},sortNumerically:v_,removeRepeatsFromArray:function mte(n,e){if(n)for(let t=n.length-2;t>=0;t--)n[t]===e&&n[t+1]===e&&n.splice(t+1,1)},removeFromArray:fn,removeAllFromArray:bp,insertIntoArray:dl,insertArrayIntoArray:function Cte(n,e,t){if(null!=n&&null!=e)for(let i=e.length-1;i>=0;i--)dl(n,e[i],t)},moveInArray:wp,includes:Vi,flatten:E_,pushAll:Sp,toStrings:function vte(n){return n.map(ul)},forEachReverse:function Ete(n,e){if(null!=n)for(let t=n.length-1;t>=0;t--)e(n[t],t)}});const y_="__ag_Grid_Stop_Propagation",bte=["touchstart","touchend","touchmove","touchcancel","scroll"],Mp={};function wr(n){n[y_]=!0}function Fs(n){return!0===n[y_]}const Tp=(()=>{const n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if("boolean"==typeof Mp[t])return Mp[t];const i=document.createElement(n[t]||"div");return Mp[t="on"+t]=t in i}})();function N0(n,e,t){let i=e;for(;i;){const s=n.getDomData(i,t);if(s)return s;i=i.parentElement}return null}function H0(n,e){return!(!e||!n)&&w_(e).indexOf(n)>=0}function b_(n){const e=[];let t=n.target;for(;t;)e.push(t),t=t.parentElement;return e}function w_(n){const e=n;return e.path?e.path:e.composedPath?e.composedPath():b_(e)}function S_(n,e,t,i){const r=Vi(bte,t)?{passive:!0}:void 0;n&&n.addEventListener&&n.addEventListener(e,t,i,r)}var wte=Object.freeze({__proto__:null,stopPropagationForAgGrid:wr,isStopPropagationForAgGrid:Fs,isEventSupported:Tp,getCtrlForEventTarget:N0,isElementInEventPath:H0,createEventPath:b_,getEventPath:w_,addSafePassiveEventListener:S_}),ua=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let V=(()=>{class n{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(t=>t()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:n.EVENT_DESTROYED})}addEventListener(t,i){this.localEventService||(this.localEventService=new as),this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService&&this.localEventService.removeEventListener(t,i)}dispatchEventAsync(t){window.setTimeout(()=>this.dispatchEvent(t),0)}dispatchEvent(t){this.localEventService&&this.localEventService.dispatchEvent(t)}addManagedListener(t,i,s){if(this.destroyed)return;t instanceof HTMLElement?S_(this.getFrameworkOverrides(),t,i,s):t.addEventListener(i,s);const r=()=>(t.removeEventListener(i,s),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==r),null);return this.destroyFunctions.push(r),r}addManagedPropertyListener(t,i){if(this.destroyed)return;this.gridOptionsService.addEventListener(t,i);const s=()=>(this.gridOptionsService.removeEventListener(t,i),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==s),null);return this.destroyFunctions.push(s),s}addDestroyFunc(t){this.isAlive()?this.destroyFunctions.push(t):t()}createManagedBean(t,i){const s=this.createBean(t,i);return this.addDestroyFunc(this.destroyBean.bind(this,t,i)),s}createBean(t,i,s){return(i||this.getContext()).createBean(t,s)}destroyBean(t,i){return(i||this.getContext()).destroyBean(t)}destroyBeans(t,i){return t&&t.forEach(s=>this.destroyBean(s,i)),[]}}return n.EVENT_DESTROYED="destroyed",n})();ua([C("frameworkOverrides")],V.prototype,"frameworkOverrides",void 0),ua([C("context")],V.prototype,"context",void 0),ua([C("eventService")],V.prototype,"eventService",void 0),ua([C("gridOptionsService")],V.prototype,"gridOptionsService",void 0),ua([C("localeService")],V.prototype,"localeService",void 0),ua([C("environment")],V.prototype,"environment",void 0),ua([Wt],V.prototype,"destroy",null);var x0=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Z1=class extends V{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,i){const s=new tte,{existingCols:r,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);s.addExistingKeys(a);const c=this.recursivelyCreateColumns(e,0,t,r,s,o),l=this.findMaxDept(c,0);this.logger.log("Number of levels for grouped columns is "+l);const u=this.balanceColumnTree(c,0,l,s);return this.columnUtils.depthFirstOriginalTreeSearch(null,u,(f,p)=>{f instanceof vt&&f.setupExpandable(),f.setOriginalParent(p)}),{columnTree:u,treeDept:l}}extractExistingTreeData(e){const t=[],i=[],s=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,r=>{if(r instanceof vt)i.push(r);else{const o=r;s.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:i,existingColKeys:s}}createForAutoGroups(e,t){return e.map(i=>this.createAutoGroupTreeItem(t,i))}createAutoGroupTreeItem(e,t){let s=t;for(let r=this.findDepth(e)-1;r>=0;r--){const o=new vt(null,`FAKE_PATH_${t.getId()}}_${r}`,!0,r);this.createBean(o),o.setChildren([s]),s.setOriginalParent(o),s=o}return s}findDepth(e){let t=0,i=e;for(;i&&i[0]&&i[0]instanceof vt;)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,s){const r=[];for(let o=0;o<e.length;o++){const a=e[o];if(a instanceof vt){const c=a,l=this.balanceColumnTree(c.getChildren(),t+1,i,s);c.setChildren(l),r.push(c)}else{let c,l;for(let u=i-1;u>=t;u--){const d=s.getUniqueKey(null,null),f=this.createMergedColGroupDef(null),p=new vt(f,d,!0,t);this.createBean(p),l&&l.setChildren([p]),l=p,c||(c=l)}if(c&&l){if(r.push(c),e.some(d=>d instanceof vt)){l.setChildren([a]);continue}l.setChildren(e);break}r.push(a)}}return r}findMaxDept(e,t){let i=t;for(let s=0;s<e.length;s++){const r=e[s];if(r instanceof vt){const a=this.findMaxDept(r.getChildren(),t+1);i<a&&(i=a)}}return i}recursivelyCreateColumns(e,t,i,s,r,o){return(e||[]).map(a=>this.isColumnGroup(a)?this.createColumnGroup(i,a,t,s,r,o):this.createColumn(i,a,s,r))}createColumnGroup(e,t,i,s,r,o){const a=this.createMergedColGroupDef(t),c=r.getUniqueKey(a.groupId||null,null),l=new vt(a,c,!1,i);this.createBean(l);const u=this.findExistingGroup(t,o);u&&fn(o,u),u&&u.isExpanded()&&l.setExpanded(!0);const d=this.recursivelyCreateColumns(a.children,i+1,e,s,r,o);return l.setChildren(d),l}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,s){let r=this.findExistingColumn(t,i);if(i&&r&&fn(i,r),r){const o=this.mergeColDefs(t,r.getColId());r.setColDef(o,t),this.applyColumnState(r,o)}else{const o=s.getUniqueKey(t.colId,t.field),a=this.mergeColDefs(t,o);r=new Fe(a,t,o,e),this.context.createBean(r)}return this.dataTypeService.addColumnListeners(r),r}applyColumnState(e,t){const i=Oi(t.flex);if(void 0!==i&&e.setFlex(i),e.getFlex()<=0){const a=Oi(t.width);if(null!=a)e.setActualWidth(a);else{const c=e.getActualWidth();e.setActualWidth(c)}}void 0!==t.sort&&e.setSort("asc"==t.sort||"desc"==t.sort?t.sort:void 0);const r=Oi(t.sortIndex);void 0!==r&&e.setSortIndex(r);const o=Os(t.hide);void 0!==o&&e.setVisible(!o),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){return(t||[]).find(i=>{const s=i.getUserProvidedColDef();if(!s)return!1;const o=null!=e.field;return null!=e.colId?i.getId()===e.colId:o?s.field===e.field:s===e})}findExistingGroup(e,t){return t.find(i=>!(!i.getColGroupDef()||null==e.groupId)&&i.getId()===e.groupId)}mergeColDefs(e,t){const i={};di(i,this.gridOptionsService.get("defaultColDef"),!1,!0);const r=this.dataTypeService.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),di(i,e,!1,!0);const o=this.gridOptionsService.get("autoGroupColumnDef"),a=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&o&&a&&di(i,{sort:o.sort,initialSort:o.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},fte);lt(this.gridOptionsService.get("columnTypes")||{},(r,o)=>{r in i?console.warn(`AG Grid: the column type '${r}' is a default column type and cannot be overridden.`):i[r]=o}),e.forEach(r=>{const o=i[r.trim()];o?di(t,o,!1,!0):console.warn("AG Grid: colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return void 0!==e.children}};var e;x0([C("columnUtils")],Z1.prototype,"columnUtils",void 0),x0([C("dataTypeService")],Z1.prototype,"dataTypeService",void 0),x0([(0,e=Tn("loggerFactory"),function(t,i){e(t,i,0)})],Z1.prototype,"setBeans",null),Z1=x0([$("columnFactory")],Z1);let _n=(()=>{class n{constructor(t,i,s,r){this.displayedChildren=[],this.localEventService=new as,this.groupId=i,this.partId=s,this.providedColumnGroup=t,this.pinned=r}static createUniqueId(t,i){return t+"_"+i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(t){this.parent=t}getUniqueId(){return n.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(t=>{t instanceof n&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){const i=qe(this.displayedChildren).getLeft();this.setLeft(i)}else{const t=this.displayedChildren[0].getLeft();this.setLeft(t)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(t){return{type:t}}addEventListener(t,i){this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService.removeEventListener(t,i)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(t){let i=!1;return this.children.forEach(s=>{t===s&&(i=!0),s instanceof n&&s.isChildInThisGroupDeepSearch(t)&&(i=!0)}),i}getActualWidth(){let t=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{t+=i.getActualWidth()}),t}isResizable(){if(!this.displayedChildren)return!1;let t=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(t=!0)}),t}getMinWidth(){let t=0;return this.displayedChildren.forEach(i=>{t+=i.getMinWidth()||0}),t}addChild(t){this.children||(this.children=[]),this.children.push(t)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}getDisplayedLeafColumns(){const t=[];return this.addDisplayedLeafColumns(t),t}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(t){this.providedColumnGroup.setExpanded(t)}addDisplayedLeafColumns(t){this.displayedChildren.forEach(i=>{i instanceof Fe?t.push(i):i instanceof n&&i.addDisplayedLeafColumns(t)})}addLeafColumns(t){this.children.forEach(i=>{i instanceof Fe?t.push(i):i instanceof n&&i.addLeafColumns(t)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;null!=t&&t.isPadding();)t=t.getParent();if(!t||!t.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(s=>{if(!(s instanceof n)||s.displayedChildren&&s.displayedChildren.length)switch(s.getColumnGroupShow()){case"open":t.providedColumnGroup.isExpanded()&&this.displayedChildren.push(s);break;case"closed":t.providedColumnGroup.isExpanded()||this.displayedChildren.push(s);break;default:this.displayedChildren.push(s)}}),this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED))}}return n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([C("gridOptionsService")],_n.prototype,"gridOptionsService",void 0);let v=(()=>{class n{}return n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",n.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",n.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",n.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",n.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",n.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",n.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_ROW_DATA_CHANGED="rowDataChanged",n.EVENT_ROW_DATA_UPDATED="rowDataUpdated",n.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",n.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",n.EVENT_CHART_CREATED="chartCreated",n.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",n.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",n.EVENT_CHART_DESTROYED="chartDestroyed",n.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",n.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",n.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",n.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_CUT_START="cutStart",n.EVENT_CUT_END="cutEnd",n.EVENT_PASTE_START="pasteStart",n.EVENT_PASTE_END="pasteEnd",n.EVENT_FILL_START="fillStart",n.EVENT_FILL_END="fillEnd",n.EVENT_RANGE_DELETE_START="rangeDeleteStart",n.EVENT_RANGE_DELETE_END="rangeDeleteEnd",n.EVENT_UNDO_STARTED="undoStarted",n.EVENT_UNDO_ENDED="undoEnded",n.EVENT_REDO_STARTED="redoStarted",n.EVENT_REDO_ENDED="redoEnded",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_MOUSE_DOWN="cellMouseDown",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_EDIT_REQUEST="cellEditRequest",n.EVENT_ROW_VALUE_CHANGED="rowValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",n.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_CELL_KEY_DOWN="cellKeyDown",n.EVENT_CELL_MOUSE_OVER="cellMouseOver",n.EVENT_CELL_MOUSE_OUT="cellMouseOut",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_FILTER_OPENED="filterOpened",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",n.EVENT_VIEWPORT_CHANGED="viewportChanged",n.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",n.EVENT_FIRST_DATA_RENDERED="firstDataRendered",n.EVENT_DRAG_STARTED="dragStarted",n.EVENT_DRAG_STOPPED="dragStopped",n.EVENT_CHECKBOX_CHANGED="checkboxChanged",n.EVENT_ROW_EDITING_STARTED="rowEditingStarted",n.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",n.EVENT_CELL_EDITING_STARTED="cellEditingStarted",n.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",n.EVENT_BODY_SCROLL="bodyScroll",n.EVENT_BODY_SCROLL_END="bodyScrollEnd",n.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",n.EVENT_PAGINATION_CHANGED="paginationChanged",n.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",n.EVENT_STORE_REFRESHED="storeRefreshed",n.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",n.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",n.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",n.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",n.EVENT_FLASH_CELLS="flashCells",n.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",n.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",n.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",n.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",n.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",n.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",n.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",n.EVENT_ROW_DRAG_ENTER="rowDragEnter",n.EVENT_ROW_DRAG_MOVE="rowDragMove",n.EVENT_ROW_DRAG_LEAVE="rowDragLeave",n.EVENT_ROW_DRAG_END="rowDragEnd",n.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",n.EVENT_POPUP_TO_FRONT="popupToFront",n.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",n.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",n.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",n.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",n.EVENT_KEYBOARD_FOCUS="keyboardFocus",n.EVENT_MOUSE_FOCUS="mouseFocus",n.EVENT_STORE_UPDATED="storeUpdated",n.EVENT_FILTER_DESTROYED="filterDestroyed",n.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",n})();class M_{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return i="number"!=typeof t?0:t+1,this.existingIds[e]=i,i}}var _p=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const J1="ag-Grid-AutoColumn";let hl=class extends V{createAutoGroupColumns(e,t){const i=[],s=this.gridOptionsService.isTreeData();let r=this.gridOptionsService.isGroupMultiAutoColumn();return s&&r&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),r=!1),r?t.forEach((o,a)=>{i.push(this.createOneAutoGroupColumn(e,o,a))}):i.push(this.createOneAutoGroupColumn(e)),i}createOneAutoGroupColumn(e,t,i){let r,s=this.generateDefaultColDef(t);r=t?`${J1}-${t.getId()}`:J1,di(s,this.gridOptionsService.get("autoGroupColumnDef")),s=this.columnFactory.mergeColDefs(s,r),s.colId=r,this.gridOptionsService.isTreeData()||ne(s.field)&&ne(s.valueGetter)&&ne(s.filterValueGetter)&&"agGroupColumnFilter"!==s.filter&&(s.filter=!1),i&&i>0&&(s.headerCheckboxSelection=!1);const a=e.find(u=>u.getId()==r),c=this.gridOptionsService.isColumnsSortingCoupledToGroup();if(a)return c&&(s.sort=void 0,s.sortIndex=void 0),a.setColDef(s,null),this.columnFactory.applyColumnState(a,s),a;c&&(s.sort||s.initialSort||"sortIndex"in s)&&!s.field&&(s.sort=null,s.sortIndex=null,s.initialSort=null);const l=new Fe(s,null,r,!0);return this.context.createBean(l),l}generateDefaultColDef(e){const t=this.gridOptionsService.get("autoGroupColumnDef"),s={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(s.cellRenderer="agGroupCellRenderer"),e){const o=e.getColDef();Object.assign(s,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:o.headerValueGetter}),o.cellRenderer&&Object.assign(s,{cellRendererParams:{innerRenderer:o.cellRenderer,innerRendererParams:o.cellRendererParams}}),s.showRowGroup=e.getColId()}else s.showRowGroup=!0;return s}};_p([C("columnModel")],hl.prototype,"columnModel",void 0),_p([C("columnFactory")],hl.prototype,"columnFactory",void 0),hl=_p([$("autoGroupColService")],hl);const Tte=/[&<>"']/g,_te={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function T_(n){return n[0].toUpperCase()+n.substr(1).toLowerCase()}function zs(n,e){if(null==n)return null;const t=n.toString().toString();return e?t:t.replace(Tte,i=>_te[i])}function __(n){return n&&null!=n?n.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" "):null}function D_(n){return n.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}var Ate=Object.freeze({__proto__:null,utf8_encode:function Dte(n){const e=String.fromCharCode;function s(d,f){return e(d>>f&63|128)}function r(d){if(d>=0&&d<=31&&10!==d)return`_x${d.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(4294967168&d))return e(d);let f="";return 4294965248&d?4294901760&d?4292870144&d||(f=e(d>>18&7|240),f+=s(d,12),f+=s(d,6)):(function i(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}(d),f=e(d>>12&15|224),f+=s(d,6)):f=e(d>>6&31|192),f+=e(63&d|128),f}const o=function t(d){const f=[];if(!d)return[];const p=d.length;let m,y,g=0;for(;g<p;)m=d.charCodeAt(g++),m>=55296&&m<=56319&&g<p?(y=d.charCodeAt(g++),56320==(64512&y)?f.push(((1023&m)<<10)+(1023&y)+65536):(f.push(m),g--)):f.push(m);return f}(n),a=o.length;let l,c=-1,u="";for(;++c<a;)l=o[c],u+=r(l);return u},capitalise:T_,escapeString:zs,camelCaseToHumanText:__,camelCaseToHyphenated:D_});function Sr(n){const e=new Map;return n.forEach(t=>e.set(t[0],t[1])),e}var Nte=Object.freeze({__proto__:null,convertToMap:Sr,mapById:function Rte(n,e){const t=new Map;return n.forEach(i=>t.set(e(i),i)),t},keys:function Lte(n){const e=[];return n.forEach((t,i)=>e.push(i)),e}});class I0{}I0.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},I0.ALL_PROPERTIES=Object.keys(I0.ColDefPropertyMap);class at{}at.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],at.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions"],at.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],at.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],at.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard"],at.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer"],at.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],at.FUNCTION_PROPERTIES=[...at.FUNCTIONAL_PROPERTIES,...at.CALLBACK_PROPERTIES],at.ALL_PROPERTIES=[...at.ARRAY_PROPERTIES,...at.OBJECT_PROPERTIES,...at.STRING_PROPERTIES,...at.NUMBER_PROPERTIES,...at.FUNCTION_PROPERTIES,...at.BOOLEAN_PROPERTIES];class Te{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)}static getCoercionLookup(){let e={};return[...Te.ARRAY_PROPERTIES,...Te.OBJECT_PROPERTIES,...Te.STRING_PROPERTIES,...Te.FUNCTION_PROPERTIES,...Te.EVENT_CALLBACKS].forEach(t=>e[t]="none"),Te.BOOLEAN_PROPERTIES.forEach(t=>e[t]="boolean"),Te.NUMBER_PROPERTIES.forEach(t=>e[t]="number"),e}static getValue(e,t){const i=Te.coercionLookup[e];if(i){let s=t;switch(i){case"number":s=Te.toNumber(t);break;case"boolean":s=Te.toBoolean(t);break;case"none":"groupAggFiltering"===e&&"function"!=typeof t&&(s=Te.toBoolean(t))}return s}}static getGridOptionKeys(e,t){return Object.keys(t?Te.coercionLookup:e)}static copyAttributesToGridOptions(e,t,i=!1){"object"!=typeof e&&(e={});const s=e;return Te.getGridOptionKeys(t,i).forEach(o=>{const a=t[o];if(typeof a<"u"){const c=Te.getValue(o,a);void 0!==c&&(s[o]=c)}}),e}static processOnChange(e,t){if(!e||0===Object.keys(e).length)return;const i=Object.assign({},e);i.columnTypes&&(t.setColumnTypes(i.columnTypes.currentValue,"gridOptionsChanged"),delete i.columnTypes),i.autoGroupColumnDef&&(t.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.defaultColDef&&(t.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.columnDefs&&(t.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs),Object.keys(i).forEach(r=>{const o=r,a=Te.getValue(o,i[o].currentValue);t.__setProperty(o,a)});const s={type:v.EVENT_COMPONENT_STATE_CHANGED};lt(e,(r,o)=>{s[r]=o}),t.dispatchEvent(s)}static toBoolean(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)}static toNumber(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0}}function A_(n,e,t){const i={},s=n.filter(r=>!e.some(o=>o===r));return s.length>0&&s.forEach(r=>i[r]=Dp(r,t)),i}function Dp(n,e,t,i){let s=e.map(r=>({value:r,relevance:Hte(n.toLowerCase(),r.toLocaleLowerCase())}));if(s.sort((r,o)=>o.relevance-r.relevance),t&&(s=s.filter(r=>0!==r.relevance)),i&&i>0){const o=s[0].relevance*i;s=s.filter(a=>o-a.relevance<0)}return s.map(r=>r.value)}function Hte(n,e){const t=n.replace(/\s/g,""),i=e.replace(/\s/g,"");let s=0,r=-1;for(let o=0;o<t.length;o++){const a=i.indexOf(t[o],r+1);-1!==a&&(r=a,s+=100-100*r/1e4*100)}return s}Te.EVENTS=ca(v),Te.EXCLUDED_INTERNAL_EVENTS=[v.EVENT_SCROLLBAR_WIDTH_CHANGED,v.EVENT_CHECKBOX_CHANGED,v.EVENT_HEIGHT_SCALE_CHANGED,v.EVENT_BODY_HEIGHT_CHANGED,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,v.EVENT_SCROLL_VISIBILITY_CHANGED,v.EVENT_COLUMN_HOVER_CHANGED,v.EVENT_FLASH_CELLS,v.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,v.EVENT_DISPLAYED_ROWS_CHANGED,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,v.EVENT_POPUP_TO_FRONT,v.EVENT_KEYBOARD_FOCUS,v.EVENT_MOUSE_FOCUS,v.EVENT_STORE_UPDATED,v.EVENT_COLUMN_PANEL_ITEM_DRAG_START,v.EVENT_COLUMN_PANEL_ITEM_DRAG_END,v.EVENT_FILL_START,v.EVENT_FILL_END,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,v.EVENT_FULL_WIDTH_ROW_FOCUSED,v.EVENT_HEADER_HEIGHT_CHANGED,v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,v.EVENT_CELL_FOCUS_CLEARED,v.EVENT_GRID_STYLES_CHANGED,v.EVENT_FILTER_DESTROYED,v.EVENT_ROW_DATA_UPDATE_STARTED],Te.PUBLIC_EVENTS=Te.EVENTS.filter(n=>!Vi(Te.EXCLUDED_INTERNAL_EVENTS,n)),Te.EVENT_CALLBACKS=Te.EVENTS.map(n=>Te.getCallbackForEvent(n)),Te.STRING_PROPERTIES=at.STRING_PROPERTIES,Te.OBJECT_PROPERTIES=at.OBJECT_PROPERTIES,Te.ARRAY_PROPERTIES=at.ARRAY_PROPERTIES,Te.NUMBER_PROPERTIES=at.NUMBER_PROPERTIES,Te.BOOLEAN_PROPERTIES=at.BOOLEAN_PROPERTIES,Te.FUNCTION_PROPERTIES=at.FUNCTION_PROPERTIES,Te.ALL_PROPERTIES=at.ALL_PROPERTIES,Te.ALL_PROPERTIES_SET=new Set(at.ALL_PROPERTIES),Te.coercionLookup=Te.getCoercionLookup();var xte=Object.freeze({__proto__:null,fuzzyCheckStrings:A_,fuzzySuggestions:Dp}),O0=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};function Pi(n,e,t,i){const s=t?`Please use '${t}' instead. `:"";Le(()=>console.warn(`AG Grid: since v${n}, '${e}' is deprecated. ${s}${i??""}`),`Deprecated_${e}`)}const R_=["__ob__","__v_skip","__metadata__"];let e2=class{constructor(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0}}}pickOneWarning(e,t){console.warn(`AG Grid: ${e} and ${t} do not work with each other, you need to pick one.`)}init(){if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){const t=(i,s)=>`AG Grid: '${i}' is not supported on the Server-Side Row Model.`+(s?` Please use ${s} instead.`:"");this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(t("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(t("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(t("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?ie.__assertRegistered(K.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");const e=(t,i)=>this.gridOptionsService.exists(t)&&ie.__assertRegistered(i,t,this.gridOptionsService.getGridId());e("sideBar",K.SideBarModule),e("statusBar",K.StatusBarModule),e("enableCharts",K.GridChartsModule),e("getMainMenuItems",K.MenuModule),e("getContextMenuItems",K.MenuModule),e("allowContextMenuWithControlKey",K.MenuModule)}checkColumnDefProperties(){if(null==this.gridOptions.columnDefs)return;const e=I0.ALL_PROPERTIES,t=(i,s)=>{const r=Object.getOwnPropertyNames(i);this.checkProperties(r,[...e,...R_],e,s,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),i.children&&i.children.forEach(o=>t(o,"columnDefs.children"))};this.gridOptions.columnDefs.forEach(i=>t(i,"columnDefs")),this.gridOptions.defaultColDef&&t(this.gridOptions.defaultColDef,"defaultColDef")}checkColumnDefViolations(){var e;const t=null!==(e=this.gridOptionsService.get("rowModelType"))&&void 0!==e?e:"clientSide",s={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[t];if(!s?.length)return;const r=o=>{s.forEach(a=>{a in o&&o[a]&&console.warn(`AG Grid: Column property ${a} is not supported with the row model type ${t}.`)})};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(o=>r(o)),null!=this.gridOptions.autoGroupColumnDef&&r(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&r(this.gridOptions.defaultColDef)}checkGridOptionsProperties(){const e=Object.getOwnPropertyNames(this.gridOptions),t=[...at.ALL_PROPERTIES,...Te.EVENT_CALLBACKS],i=[...t,"api","columnApi",...R_,...Object.keys(this.deprecatedProperties)];this.checkProperties(e,i,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")}checkProperties(e,t,i,s,r){const o=A_(e,t,i);lt(o,(a,c)=>{Le(()=>console.warn(`AG Grid: invalid ${s} property '${a}' did you mean any of these: ${c.slice(0,8).join(", ")}`),"invalidProperty"+s+a)}),Object.keys(o).length>0&&Le(()=>console.warn(`AG Grid: to see all the valid ${s} properties please check: ${r}`),"invalidProperties"+s+r)}checkForDeprecated(){const e=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(([t,i])=>{var s;const r=e[t];r&&(Pi(i.version,t,i.newProp,i.message),i.copyToNewProp&&i.newProp&&null==e[i.newProp]&&(e[i.newProp]=null!==(s=i.newPropValue)&&void 0!==s?s:r))}),e.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),e.suppressServerSideInfiniteScroll="partial"!==e.serverSideStoreType)}checkForViolations(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()}treeDataViolations(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))}};function Ap(n,e){const t=["groupRows","multipleColumns","custom","singleColumn"];return t.indexOf(e)<0?(console.warn(`AG Grid: '${e}' is not a valid groupDisplayType value - possible values are: '${t.join("', '")}'`),!1):e===n}O0([C("gridOptions")],e2.prototype,"gridOptions",void 0),O0([C("gridOptionsService")],e2.prototype,"gridOptionsService",void 0),O0([B],e2.prototype,"init",null),e2=O0([$("gridOptionsValidator")],e2);var Jt=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Vt=class extends V{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");const e=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",()=>this.onAutoGroupColumnDefChanged()),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.onAutoGroupColumnDefChanged()),this.addManagedPropertyListener("defaultColDef",t=>this.onSharedColDefChanged(t.source)),this.addManagedPropertyListener("columnTypes",t=>this.onSharedColDefChanged(t.source))}onAutoGroupColumnDefChanged(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))}onSharedColDefChanged(e="api"){this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,e)}setColumnDefs(e,t="api"){const i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,t)}recreateColumnDefs(e="api"){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){const i={};if(!e)return;this.columnUtils.depthFirstOriginalTreeSearch(null,e,r=>{i[r.getInstanceId()]=r}),t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,r=>{i[r.getInstanceId()]=null});const s=Object.values(i).filter(r=>null!=r);this.destroyBeans(s)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t="api"){const i=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const s=this.primaryColumns,o=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.destroyOldColumns(this.primaryColumnTree,o.columnTree),this.primaryColumnTree=o.columnTree,this.primaryHeaderRowCount=o.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(l=>this.primaryColumnsMap[l.getId()]=l),this.extractRowGroupColumns(t,s),this.extractPivotColumns(t,s),this.extractValueColumns(t,s),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),e&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),i&&i(),this.dispatchNewColumnsLoaded()}dispatchNewColumnsLoaded(){this.eventService.dispatchEvent({type:v.EVENT_NEW_COLUMNS_LOADED})}dispatchEverythingChanged(e="api"){this.eventService.dispatchEvent({type:v.EVENT_COLUMN_EVERYTHING_CHANGED,source:e})}orderGridColumnsLikePrimary(){const e=this.primaryColumns;e&&(this.gridColumns.sort((t,i)=>{const s=e.indexOf(t),r=e.indexOf(i),o=s>=0,a=r>=0;return o&&a?s-r:o?1:a?-1:this.gridColumns.indexOf(t)-this.gridColumns.indexOf(i)}),this.gridColumns=this.placeLockedColumns(this.gridColumns))}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(e){let t=e;const i=[];for(;null!=t;)i.push(t),t=this.getDisplayedColAfter(t);return i}checkViewportColumns(){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:v.EVENT_VIRTUAL_COLUMNS_CHANGED})}setViewportPosition(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return!e||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)}setPivotMode(e,t="api"){e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.eventService.dispatchEvent({type:v.EVENT_COLUMN_PIVOT_MODE_CHANGED}))}getSecondaryPivotColumn(e,t){if(ne(this.secondaryColumns))return null;const i=this.getPrimaryColumn(t);let s=null;return this.secondaryColumns.forEach(r=>{const o=r.getColDef().pivotKeys,a=r.getColDef().pivotValueColumn;ro(o,e)&&a===i&&(s=r)}),s}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,i;this.gridOptionsService.is("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?qe(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?qe(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(s=>{s.setLastLeftPinned(s===t,e),s.setFirstRightPinned(s===i,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));const{columns:t,skipHeader:i,skipHeaderGroups:s,stopAtGroup:r,source:o="api"}=e;this.animationFrameService.flushAllFrames();const a=[];let c=-1;const l=i??this.gridOptionsService.is("skipHeaderOnAutoSize"),u=s??l;for(;0!==c;)c=0,this.actionOnGridColumns(t,d=>{if(a.indexOf(d)>=0)return!1;const f=this.autoWidthCalculator.getPreferredWidthForColumn(d,l);if(f>0){const p=this.normaliseColumnWidth(d,f);d.setActualWidth(p,o),a.push(d),c++}return!0},o);u||this.autoSizeColumnGroupsByColumns(t,o,r),this.dispatchColumnResizedEvent(a,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,i,s=null){e&&e.length&&this.eventService.dispatchEvent({type:v.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:s,finished:t,source:i})}dispatchColumnChangedEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&1==t.length?t[0]:null,source:i})}dispatchColumnMovedEvent(e){const{movedColumns:t,source:i,toIndex:s,finished:r}=e;this.eventService.dispatchEvent({type:v.EVENT_COLUMN_MOVED,columns:t,column:t&&1===t.length?t[0]:null,toIndex:s,finished:r,source:i})}dispatchColumnPinnedEvent(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,s=this.getCommonValue(e,o=>o.getPinned());this.eventService.dispatchEvent({type:v.EVENT_COLUMN_PINNED,pinned:s??null,columns:e,column:i,source:t})}dispatchColumnVisibleEvent(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,s=this.getCommonValue(e,o=>o.isVisible());this.eventService.dispatchEvent({type:v.EVENT_COLUMN_VISIBLE,visible:s,columns:e,column:i,source:t})}autoSizeColumn(e,t,i="api"){e&&this.autoSizeColumns({columns:[e],skipHeader:t,skipHeaderGroups:!0,source:i})}autoSizeColumnGroupsByColumns(e,t,i){const s=new Set;let o;this.getGridColumns(e).forEach(c=>{let l=c.getParent();for(;l&&l!=i;)l.isPadding()||s.add(l),l=l.getParent()});for(const c of s){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(o=l.getHeaderCtrlForColumn(c),o)break;o&&o.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t="api"){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,t));const i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:e,source:t})}getColumnsFromTree(e){const t=[],i=s=>{for(let r=0;r<s.length;r++){const o=s[r];o instanceof Fe?t.push(o):o instanceof vt&&i(o.getChildren())}};return i(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,i,s){const r=[];let o=null;for(let a=0;a<t.length;a++){const c=t[a],l=t.length-a,u=Math.min(c.getColSpan(e),l),d=[c];if(u>1){const p=u-1;for(let g=1;g<=p;g++)d.push(t[a+g]);a+=p}let f;i?(f=!1,d.forEach(p=>{i(p)&&(f=!0)})):f=!0,f&&(0===r.length&&o&&s&&s(c)&&r.push(o),r.push(c)),o=c}return r}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const i=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,i,s=>{const r=s.getLeft();return I(r)&&r>this.viewportLeft})}getAriaColumnIndex(e){return this.getAllGridColumns().indexOf(e)+1}isColumnInHeaderViewport(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,r=this.viewportRight+200;return!(t<s&&i<s||t>r&&i>r)}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,i,s,r,o="api"){if(!e||ui(e))return;let a=!1;e.forEach(l=>{const u=this.getPrimaryColumn(l);if(u){if(i){if(t.indexOf(u)>=0)return;t.push(u)}else{if(t.indexOf(u)<0)return;fn(t,u)}s(u),a=!0}}),a&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:r,columns:t,column:1===t.length?t[0]:null,source:o}))}setRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(t,!1,i),!e&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(t,!0,i))}addRowGroupColumn(e,t="api"){e&&this.addRowGroupColumns([e],t)}addRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),v.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),v.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumn(e,t="api"){e&&this.removeRowGroupColumns([e],t)}addPivotColumns(e,t="api"){this.updatePrimaryColumnList(e,this.pivotColumns,!0,i=>i.setPivotActive(!0,t),v.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t="api"){this.setPrimaryColumnList(e,this.pivotColumns,v.EVENT_COLUMN_PIVOT_CHANGED,(i,s)=>{s.setPivotActive(i,t)},t)}addPivotColumn(e,t="api"){this.addPivotColumns([e],t)}removePivotColumns(e,t="api"){this.updatePrimaryColumnList(e,this.pivotColumns,!1,i=>i.setPivotActive(!1,t),v.EVENT_COLUMN_PIVOT_CHANGED,t)}removePivotColumn(e,t="api"){this.removePivotColumns([e],t)}setPrimaryColumnList(e,t,i,s,r){t.length=0,I(e)&&e.forEach(o=>{const a=this.getPrimaryColumn(o);a&&t.push(a)}),(this.primaryColumns||[]).forEach(o=>{const a=t.indexOf(o)>=0;s(a,o)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.dispatchColumnChangedEvent(i,t,r)}setValueColumns(e,t="api"){this.setPrimaryColumnList(e,this.valueColumns,v.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc())){const s=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(s)}}addValueColumns(e,t="api"){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),v.EVENT_COLUMN_VALUE_CHANGED,t)}addValueColumn(e,t="api"){e&&this.addValueColumns([e],t)}removeValueColumn(e,t="api"){this.removeValueColumns([e],t)}removeValueColumns(e,t="api"){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),v.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){const i=e.getMinWidth();I(i)&&t<i&&(t=i);const s=e.getMaxWidth();return I(s)&&e.isGreaterThanMax(t)&&(t=s),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,i,s="api"){const r=[];e.forEach(o=>{const a=this.getPrimaryOrGridColumn(o.key);if(a&&(r.push({width:o.newWidth,ratios:[1],columns:[a]}),"shift"===this.gridOptionsService.get("colResizeDefault")&&(t=!t),t)){const l=this.getDisplayedColAfter(a);if(!l)return;const u=a.getActualWidth()-o.newWidth,d=l.getActualWidth()+u;r.push({width:d,ratios:[1],columns:[l]})}}),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:i,source:s})}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let s=0,r=0,o=!0;return t.forEach(l=>{const u=l.getMinWidth();s+=u||0;const d=l.getMaxWidth();I(d)&&d>0?r+=d:o=!1}),i>=s&&(!o||i<=r)}resizeColumnSets(e){const{resizeSets:t,finished:i,source:s}=e;if(t&&!t.every(d=>this.checkMinAndMaxWidthsForSet(d)))return void(i&&this.dispatchColumnResizedEvent(t&&t.length>0?t[0].columns:null,i,s));const o=[],a=[];t.forEach(d=>{const{width:f,columns:p,ratios:g}=d,m={},y={};p.forEach(T=>a.push(T));let M=!0,w=0;for(;M;){if(w++,w>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}M=!1;const T=[];let R=0,N=f;p.forEach((j,ae)=>{y[j.getId()]?N-=m[j.getId()]:(T.push(j),R+=g[ae])});const k=1/R;T.forEach((j,ae)=>{let Je;ae===T.length-1?Je=N:(Je=Math.round(g[ae]*f*k),N-=Je);const Qn=j.getMinWidth(),rn=j.getMaxWidth();I(Qn)&&Je<Qn?(Je=Qn,y[j.getId()]=!0,M=!0):I(rn)&&rn>0&&Je>rn&&(Je=rn,y[j.getId()]=!0,M=!0),m[j.getId()]=Je})}p.forEach(T=>{const R=m[T.getId()];T.getActualWidth()!==R&&(T.setActualWidth(R,s),o.push(T))})});const c=o.length>0;let l=[];c&&(l=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());const u=a.concat(l);(c||i)&&this.dispatchColumnResizedEvent(u,i,s,l)}setColumnAggFunc(e,t,i="api"){if(!e)return;const s=this.getPrimaryColumn(e);s&&(s.setAggFunc(t),this.dispatchColumnChangedEvent(v.EVENT_COLUMN_VALUE_CHANGED,[s],i))}moveRowGroupColumn(e,t,i="api"){const s=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,s),this.eventService.dispatchEvent({type:v.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:i})}moveColumns(e,t,i="api",s=!0){if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");const r=this.getGridColumns(e);this.doesMovePassRules(r,t)&&(wp(this.gridColumns,r,t),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:r,source:i,toIndex:t,finished:s}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const i=this.gridColumns.slice();return wp(i,e,t),i}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(i=>this.gridColumns.indexOf(i)<0).length>0||e.sort((i,s)=>this.gridColumns.indexOf(i)-this.gridColumns.indexOf(s))}doesMovePassLockedPositions(e){let t=0,i=!0;return e.forEach(r=>{const o=(r=>r?!0===r||"left"===r?0:2:1)(r.getColDef().lockPosition);o<t&&(i=!1),t=o}),i}doesMovePassMarryChildren(e){let t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{if(!(i instanceof vt))return;const s=i,r=s.getColGroupDef();if(!r||!r.marryChildren)return;const a=[];s.getLeafColumns().forEach(f=>{const p=e.indexOf(f);a.push(p)}),Math.max.apply(Math,a)-Math.min.apply(Math,a)>s.getLeafColumns().length-1&&(t=!1)}),t}moveColumn(e,t,i="api"){this.moveColumns([e],t,i)}moveColumnByIndex(e,t,i="api"){this.moveColumn(this.gridColumns[e],t,i)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((t,i)=>this.gridColumns.indexOf(t)-this.gridColumns.indexOf(i)):this.lastPrimaryOrder&&e.sort((t,i)=>this.lastPrimaryOrder.indexOf(t)-this.lastPrimaryOrder.indexOf(i)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns.slice():null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns.slice():null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){return this.gridColumns}isEmpty(){return ui(this.gridColumns)}isRowGroupEmpty(){return ui(this.rowGroupColumns)}setColumnVisible(e,t,i="api"){this.setColumnsVisible([e],t,i)}setColumnsVisible(e,t=!1,i="api"){this.applyColumnState({state:e.map(s=>({colId:"string"==typeof s?s:s.getColId(),hide:!t}))},i)}setColumnPinned(e,t,i="api"){e&&this.setColumnsPinned([e],t,i)}setColumnsPinned(e,t,i="api"){if(this.gridOptionsService.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");let s;this.columnAnimationService.start(),s=!0===t||"left"===t?"left":"right"===t?"right":null,this.actionOnGridColumns(e,r=>r.getPinned()!==s&&(r.setPinned(s),!0),i,()=>({type:v.EVENT_COLUMN_PINNED,pinned:s,column:null,columns:null,source:i})),this.columnAnimationService.finish()}actionOnGridColumns(e,t,i,s){if(ui(e))return;const r=[];if(e.forEach(o=>{const a=this.getGridColumn(o);a&&!1!==t(a)&&r.push(a)}),r.length&&(this.updateDisplayedColumns(i),I(s)&&s)){const o=s();o.columns=r,o.column=1===r.length?r[0]:null,this.eventService.dispatchEvent(o)}}getDisplayedColBefore(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i>0?t[i-1]:null}getDisplayedColAfter(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getDisplayedGroupAfter(e){return this.getDisplayedGroupAtDirection(e,"After")}getDisplayedGroupBefore(e){return this.getDisplayedGroupAtDirection(e,"Before")}getDisplayedGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),r="After"===t?qe(s):s[0],o=`getDisplayedCol${t}`;for(;;){const a=this[o](r);if(!a)return null;const c=this.getColumnGroupAtLevel(a,i);if(c!==e)return c}}getColumnGroupAtLevel(e,t){let s,r,i=e.getParent();for(;s=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(s+r<=t);)i=i.getParent();return i}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,s=e.isValueActive()?e.getAggFunc():null,r=null!=e.getSort()?e.getSort():null,o=null!=e.getSortIndex()?e.getSortIndex():null,a=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:r,sortIndex:o,aggFunc:s,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:i,flex:a}}getColumnState(){if(ne(this.primaryColumns)||!this.isAlive())return[];const t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t}orderColumnStateList(e){const t=Sr(this.gridColumns.map((i,s)=>[i.getColId(),s]));e.sort((i,s)=>(t.has(i.colId)?t.get(i.colId):-1)-(t.has(s.colId)?t.get(s.colId):-1))}resetColumnState(e="api"){const t=this.getColumnsFromTree(this.primaryColumnTree),i=[];let s=1e3,r=1e3,o=[];this.groupAutoColumns&&(o=o.concat(this.groupAutoColumns)),t&&(o=o.concat(t)),o.forEach(a=>{const c=this.getColumnStateFromColDef(a);ne(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=s++),ne(c.pivotIndex)&&c.pivot&&(c.pivotIndex=r++),i.push(c)}),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(m,y)=>m??y??null,i=e.getColDef(),s=t(i.sort,i.initialSort),r=t(i.sortIndex,i.initialSortIndex),o=t(i.hide,i.initialHide),a=t(i.pinned,i.initialPinned),c=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let u=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);null==u&&(null==d||0==d)&&(u=null,d=null);let f=t(i.pivotIndex,i.initialPivotIndex),p=t(i.pivot,i.initialPivot);null==f&&(null==p||0==p)&&(f=null,p=null);const g=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:r,hide:o,pinned:a,width:c,flex:l,rowGroup:d,rowGroupIndex:u,pivot:p,pivotIndex:f,aggFunc:g}}applyColumnState(e,t){if(ui(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=(o,a,c)=>{const l=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;const u=a.slice(),d={},f={},p=[],g=[];let m=0;const y=this.rowGroupColumns.slice(),M=this.pivotColumns.slice();o.forEach(N=>{const k=N.colId||"";if(k.startsWith(J1))return p.push(N),void g.push(N);const ae=c(k);ae?(this.syncColumnWithStateItem(ae,N,e.defaultState,d,f,!1,t),fn(u,ae)):(g.push(N),m+=1)});const w=N=>this.syncColumnWithStateItem(N,null,e.defaultState,d,f,!1,t);u.forEach(w);const T=(N,k,j,ae)=>{const Se=N[j.getId()],Je=N[ae.getId()],Qn=null!=Se,rn=null!=Je;if(Qn&&rn)return Se-Je;if(Qn)return-1;if(rn)return 1;const Xn=k.indexOf(j),Ti=k.indexOf(ae),T4=Xn>=0;return T4&&Ti>=0?Xn-Ti:T4?-1:1};this.rowGroupColumns.sort(T.bind(this,d,y)),this.pivotColumns.sort(T.bind(this,f,M)),this.updateGridColumns();const R=this.groupAutoColumns?this.groupAutoColumns.slice():[];return p.forEach(N=>{const k=this.getAutoColumn(N.colId);fn(R,k),this.syncColumnWithStateItem(k,N,e.defaultState,null,null,!0,t)}),R.forEach(w),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),l(),{unmatchedAndAutoStates:g,unmatchedCount:m}};this.columnAnimationService.start();let{unmatchedAndAutoStates:s,unmatchedCount:r}=i(e.state||[],this.primaryColumns||[],o=>this.getPrimaryColumn(o));return(s.length>0||I(e.defaultState))&&(r=i(s,this.secondaryColumns||[],o=>this.getSecondaryColumn(o)).unmatchedCount),this.columnAnimationService.finish(),0===r}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[];const i={};e.state.forEach(r=>{if(!r.colId||i[r.colId])return;const o=this.gridColumnsMap[r.colId];o&&(t.push(o),i[r.colId]=!0)});let s=0;this.gridColumns.forEach(r=>{const o=r.getColId();null==i[o]&&(o.startsWith(J1)?dl(t,r,s++):t.push(r))}),t=this.placeLockedColumns(t),this.doesMovePassMarryChildren(t)?this.gridColumns=t:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),s={};return i.forEach(r=>{s[r.colId]=r}),()=>{const r=this.getPrimaryAndSecondaryAndAutoColumns(),o=(m,y,M,w)=>{ro(y.map(w),M.map(w))||this.eventService.dispatchEvent({type:m,columns:M,column:1===M.length?M[0]:null,source:e})},a=m=>{const y=[];return r.forEach(M=>{const w=s[M.getColId()];w&&m(w,M)&&y.push(M)}),y},c=m=>m.getColId();o(v.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,c),o(v.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,c),a((m,y)=>{const M=null!=m.aggFunc,w=M!=y.isValueActive(),T=M&&m.aggFunc!=y.getAggFunc();return w||T}).length>0&&this.dispatchColumnChangedEvent(v.EVENT_COLUMN_VALUE_CHANGED,this.valueColumns,e),this.dispatchColumnResizedEvent(a((m,y)=>m.width!=y.getActualWidth()),!0,e),this.dispatchColumnPinnedEvent(a((m,y)=>m.pinned!=y.getPinned()),e),this.dispatchColumnVisibleEvent(a((m,y)=>m.hide==y.isVisible()),e),a((m,y)=>m.sort!=y.getSort()||m.sortIndex!=y.getSortIndex()).length>0&&this.sortController.dispatchSortChangedEvents(e),this.normaliseColumnMovedEventForColumnState(i,e)}}getCommonValue(e,t){if(!e||0==e.length)return;const i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}normaliseColumnMovedEventForColumnState(e,t){const i=this.getColumnState(),s={};i.forEach(l=>s[l.colId]=l);const r={};e.forEach(l=>{s[l.colId]&&(r[l.colId]=!0)});const o=e.filter(l=>r[l.colId]),a=i.filter(l=>r[l.colId]),c=[];a.forEach((l,u)=>{const d=o&&o[u];if(d&&d.colId!==l.colId){const f=this.getGridColumn(d.colId);f&&c.push(f)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:t,finished:!0})}syncColumnWithStateItem(e,t,i,s,r,o,a){if(!e)return;const c=(N,k)=>{const j={value1:void 0,value2:void 0};let ae=!1;return t&&(void 0!==t[N]&&(j.value1=t[N],ae=!0),I(k)&&void 0!==t[k]&&(j.value2=t[k],ae=!0)),!ae&&i&&(void 0!==i[N]&&(j.value1=i[N]),I(k)&&void 0!==i[k]&&(j.value2=i[k])),j},l=c("hide").value1;void 0!==l&&e.setVisible(!l,a);const u=c("pinned").value1;void 0!==u&&e.setPinned(u);const d=this.columnUtils.calculateColMinWidth(e.getColDef()),f=c("flex").value1;if(void 0!==f&&e.setFlex(f),e.getFlex()<=0){const N=c("width").value1;null!=N&&null!=d&&N>=d&&e.setActualWidth(N,a)}const g=c("sort").value1;void 0!==g&&e.setSort("desc"===g||"asc"===g?g:void 0,a);const m=c("sortIndex").value1;if(void 0!==m&&e.setSortIndex(m),o||!e.isPrimary())return;const y=c("aggFunc").value1;void 0!==y&&("string"==typeof y?(e.setAggFunc(y),e.isValueActive()||(e.setValueActive(!0,a),this.valueColumns.push(e))):(I(y)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,a),fn(this.valueColumns,e))));const{value1:M,value2:w}=c("rowGroup","rowGroupIndex");(void 0!==M||void 0!==w)&&("number"==typeof w||M?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),this.rowGroupColumns.push(e)),s&&"number"==typeof w&&(s[e.getId()]=w)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),fn(this.rowGroupColumns,e)));const{value1:T,value2:R}=c("pivot","pivotIndex");(void 0!==T||void 0!==R)&&("number"==typeof R||T?(e.isPivotActive()||(e.setPivotActive(!0,a),this.pivotColumns.push(e)),r&&"number"==typeof R&&(r[e.getId()]=R)):e.isPivotActive()&&(e.setPivotActive(!1,a),fn(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){const i=[];return e&&e.forEach(s=>{const r=t(s);r&&i.push(r)}),i}getColumnWithValidation(e){if(null==e)return null;const t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,i){if(!e)return null;if("string"==typeof e&&i[e])return i[e];for(let s=0;s<t.length;s++)if(this.columnsMatch(t[s],e))return t[s];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupColumns.slice(0);const i=this.getPrimaryColumn(t);return i?[i]:null}getAutoColumn(e){return this.groupAutoColumns&&I(this.groupAutoColumns)&&!ne(this.groupAutoColumns)&&this.groupAutoColumns.find(t=>this.columnsMatch(t,e))||null}columnsMatch(e,t){const i=e===t,s=e.getColDef()===t,r=e.getColId()==t;return i||s||r}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const s=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){const s=t?t.getColGroupDef():null;return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,r){const o=e.headerValueGetter;if(o){const a={colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof o?o(a):"string"==typeof o?this.expressionService.evaluate(o,a):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?__(e.field):""}wrapHeaderNameWithAggFunc(e,t){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn;let o,r=null;if(I(i)){const a=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,c=void 0!==e.getColDef().pivotTotalColumnIds;if(a&&!c)return t;r=i?i.getAggFunc():null,o=!0}else{const a=e.isValueActive(),c=this.pivotMode||!this.isRowGroupEmpty();a&&c?(r=e.getAggFunc(),o=!0):o=!1}if(o){const a="string"==typeof r?r:"func";return`${this.localeService.getLocaleTextFunc()(a,a)}(${t})`}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof _n)return e;const i=this.getAllDisplayedTrees(),s="number"==typeof t;let r=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,o=>{if(o instanceof _n){const a=o;let c;c=s?e===a.getGroupId()&&t===a.getPartId():e===a.getGroupId(),c&&(r=a)}}),r}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(i,s)=>i.setValueActive(s,e),()=>{},()=>{},i=>{const s=i.aggFunc;return null===s||""===s?null:void 0!==s?!!s:void 0},i=>null!=i.initialAggFunc&&""!=i.initialAggFunc),this.valueColumns.forEach(i=>{const s=i.getColDef();null!=s.aggFunc&&""!=s.aggFunc?i.setAggFunc(s.aggFunc):i.getAggFunc()||i.setAggFunc(s.initialAggFunc)})}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(i,s)=>i.setRowGroupActive(s,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractColumns(e=[],t=[],i,s,r,o,a){const c=[],l=[];(this.primaryColumns||[]).forEach(f=>{const p=e.indexOf(f)<0,g=f.getColDef(),m=Os(o(g)),y=Os(a(g)),M=Oi(s(g)),w=Oi(r(g));let T;T=void 0!==m?m:void 0!==M?null!==M&&M>=0:p?void 0!==y?y:void 0!==w&&null!=w&&w>=0:t.indexOf(f)>=0,T&&((p?null!=M||null!=w:null!=M)?c.push(f):l.push(f))});const u=f=>{const p=s(f.getColDef()),g=r(f.getColDef());return p??g};c.sort((f,p)=>{const g=u(f),m=u(p);return g===m?0:g<m?-1:1});const d=[].concat(c);return t.forEach(f=>{l.indexOf(f)>=0&&d.push(f)}),l.forEach(f=>{d.indexOf(f)<0&&d.push(f)}),t.forEach(f=>{d.indexOf(f)<0&&i(f,!1)}),d.forEach(f=>{t.indexOf(f)<0&&i(f,!0)}),d}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(i,s)=>i.setPivotActive(s,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}resetColumnGroupState(e="api"){const t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,i=>{if(i instanceof vt){const s=i.getColGroupDef(),r={groupId:i.getGroupId(),open:s?s.openByDefault:void 0};t.push(r)}}),this.setColumnGroupState(t,e)}getColumnGroupState(){const e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,t=>{t instanceof vt&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}setColumnGroupState(e,t="api"){this.columnAnimationService.start();const i=[];e.forEach(s=>{const o=s.open,a=this.getProvidedColumnGroup(s.groupId);a&&a.isExpanded()!==o&&(this.logger.log("columnGroupOpened("+a.getGroupId()+","+o+")"),a.setExpanded(o),i.push(a))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),i.forEach(s=>{this.eventService.dispatchEvent({type:v.EVENT_COLUMN_GROUP_OPENED,columnGroup:s})}),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i="api"){let s;s=e instanceof vt?e.getId():e||"",this.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColumnGroup(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");let t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{i instanceof vt&&i.getId()===e&&(t=i)}),t}calculateColumnsForDisplay(){let e;return e=this.pivotMode&&ne(this.secondaryColumns)?this.gridColumns.filter(t=>{const i=this.groupAutoColumns&&Vi(this.groupAutoColumns,t),s=this.valueColumns&&Vi(this.valueColumns,t);return i||s}):this.gridColumns.filter(t=>this.groupAutoColumns&&Vi(this.groupAutoColumns,t)||t.isVisible()),e}checkColSpanActiveInCols(e){let t=!1;return e.forEach(i=>{I(i.getColDef().colSpan)&&(t=!0)}),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(t=>{const i=t.getColDef(),s=i.showRowGroup;i&&I(s)&&(this.groupDisplayColumns.push(t),"string"==typeof s?this.groupDisplayColumnsMap[s]=t:!0===s&&this.getRowGroupColumns().forEach(r=>{this.groupDisplayColumnsMap[r.getId()]=t}))})}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return I(this.secondaryColumns)}setSecondaryColumns(e,t="api"){const i=e&&e.length>0;if(i||!ne(this.secondaryColumns)){if(i){this.processSecondaryColumnDefinitions(e);const s=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(r=>this.secondaryColumnsMap[r.getId()]=r),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){const t=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(!t&&!i)return;const s=r=>{r.forEach(o=>{if(I(o.children)){const c=o;i&&i(c),s(c.children)}else t&&t(o)})};e&&s(e)}updateGridColumns(){const e=this.gridBalancedTree;let t;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){const s=this.secondaryColumns.every(r=>void 0!==this.gridColumnsMap[r.getColId()]);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&(t=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,t=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&t){const s=Sr(this.groupAutoColumns.map(r=>[r,!0]));t=t.filter(r=>!s.has(r)),t=[...this.groupAutoColumns,...t]}this.addAutoGroupToGridColumns(),this.orderGridColsLike(t),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(s=>this.gridColumnsMap[s.getId()]=s),this.setAutoHeightActive(),ro(e,this.gridBalancedTree)||this.eventService.dispatchEvent({type:v.EVENT_GRID_COLUMNS_CHANGED})}setAutoHeightActive(){if(this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,!this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.isRowModelType("serverSide"))){const t="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";Le(()=>console.warn(t),"autoHeightActive.wrongRowModel")}}orderGridColsLike(e){if(ne(e))return;const t=Sr(e.map((l,u)=>[l,u]));let i=!0;if(this.gridColumns.forEach(l=>{t.has(l)&&(i=!1)}),i)return;const s=Sr(this.gridColumns.map(l=>[l,!0])),r=e.filter(l=>s.has(l)),o=Sr(r.map(l=>[l,!0])),a=this.gridColumns.filter(l=>!o.has(l)),c=r.slice();a.forEach(l=>{let u=l.getOriginalParent();if(!u)return void c.push(l);const d=[];for(;!d.length&&u;)u.getLeafColumns().forEach(m=>{const y=c.indexOf(m)>=0,M=d.indexOf(m)<0;y&&M&&d.push(m)}),u=u.getOriginalParent();if(!d.length)return void c.push(l);const f=d.map(g=>c.indexOf(g)),p=Math.max(...f);dl(c,l,p+1)}),this.gridColumns=c}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=null!==(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==e?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?t:t.filter(i=>i.isVisible()||i.isRowGroupActive())}placeLockedColumns(e){const t=[],i=[],s=[];return e.forEach(r=>{const o=r.getColDef().lockPosition;"right"===o?s.push(r):"left"===o||!0===o?t.push(r):i.push(r)}),[...t,...i,...s]}addAutoGroupToGridColumns(){if(ne(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:v.EVENT_DISPLAYED_COLUMNS_CHANGED})}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(t=>t.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinDisplayedColumns(){this.displayedColumns=this.gridOptionsService.is("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const t=this.primaryColumns.slice(0),i=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(s=>{if(i){let r=this.getWidthOfColsInList(s);s.forEach(o=>{r-=o.getActualWidth(),o.setLeft(r,e)})}else{let r=0;s.forEach(o=>{o.setLeft(r,e),r+=o.getActualWidth()})}bp(t,s)}),t.forEach(s=>{s.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(t=>{t instanceof _n&&t.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,i=>{i instanceof Fe&&t.push(i)})}extractViewportColumns(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let i;switch(e){case"left":i=this.viewportRowLeft[t];break;case"right":i=this.viewportRowRight[t];break;default:i=this.viewportRowCenter[t]}return ne(i)&&(i=[]),i}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(i=>e[i.getId()]=!0);const t=(i,s,r)=>{let o=!1;for(let a=0;a<i.length;a++){const c=i[a];let l=!1;if(c instanceof Fe)l=!0===e[c.getId()];else{const d=c.getDisplayedChildren();d&&(l=t(d,s,r+1))}l&&(o=!0,s[r]||(s[r]=[]),s[r].push(c))}return o};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){this.extractViewportColumns();const t=this.viewportColumns.map(s=>`${s.getId()}-${s.getPinned()||"normal"}`).join("#"),i=this.viewportColumnsHash!==t;return i&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),i}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let i=-1;e.resizingCols&&e.resizingCols.forEach(d=>{const f=this.displayedColumnsCenter.indexOf(d);i<f&&(i=f)});const s=d=>{const f=this.displayedColumnsCenter.indexOf(d)>i;return d.getFlex()&&f},r=this.displayedColumnsCenter.filter(d=>!s(d)),o=this.displayedColumnsCenter.filter(d=>s(d)),a=[];if(!o.length)return[];const c=[];let l;e:for(;;){const d=o.reduce((f,p)=>f+p.getFlex(),0);l=this.flexViewportWidth-this.getWidthOfColsInList(r);for(let f=0;f<o.length;f++){const p=o[f],g=l*p.getFlex()/d;let m=0;const y=p.getMinWidth(),M=p.getMaxWidth();if(I(y)&&g<y?m=y:I(M)&&g>M&&(m=M),m){p.setActualWidth(m,t),fn(o,p),a.push(p),r.push(p);continue e}c[f]=Math.round(g)}break}let u=l;return o.forEach((d,f)=>{d.setActualWidth(Math.min(c[f],u),t),a.push(d),u-=c[f]}),e.skipSetLeft||this.setLeftValues(t),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(a,!0,t,o),o}sizeColumnsToFit(e,t="sizeColumnsToFit",i,s){var r,o,a,c,l;if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,t,i,s));const u={};s&&(null===(r=s?.columnLimits)||void 0===r||r.forEach(w=>{var{key:T}=w,R=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(w,["key"]);u["string"==typeof T?T:T.getColId()]=R}));const d=this.getAllDisplayedColumns(),f=e===this.getWidthOfColsInList(d);if(e<=0||!d.length||f)return;const p=[],g=[];d.forEach(w=>{!0===w.getColDef().suppressSizeToFit?g.push(w):p.push(w)});const m=p.slice(0);let y=!1;const M=w=>{fn(p,w),g.push(w)};for(p.forEach(w=>w.resetActualWidth(t));!y;){y=!0;const w=e-this.getWidthOfColsInList(g);if(w<=0)p.forEach(T=>{var R,N;const k=null!==(N=null===(R=u?.[T.getId()])||void 0===R?void 0:R.minWidth)&&void 0!==N?N:s?.defaultMinWidth;"number"!=typeof k?T.setMinimum(t):T.setActualWidth(k)});else{const T=w/this.getWidthOfColsInList(p);let R=w;for(let N=p.length-1;N>=0;N--){const k=p[N],j=u?.[k.getId()],ae=null!==(o=j?.minWidth)&&void 0!==o?o:s?.defaultMinWidth,Se=null!==(a=j?.maxWidth)&&void 0!==a?a:s?.defaultMaxWidth,Je=null!==(c=k.getMinWidth())&&void 0!==c?c:0,Qn=null!==(l=k.getMaxWidth())&&void 0!==l?l:Number.MAX_VALUE,rn="number"==typeof ae&&ae>Je?ae:k.getMinWidth(),Xn="number"==typeof Se&&Se<Qn?Se:k.getMaxWidth();let Ti=Math.round(k.getActualWidth()*T);I(rn)&&Ti<rn?(Ti=rn,M(k),y=!1):I(Xn)&&Ti>Xn?(Ti=Xn,M(k),y=!1):0===N&&(Ti=R),k.setActualWidth(Ti,t,!0),R-=Ti}}}m.forEach(w=>{w.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(m,!0,t)}buildDisplayedTrees(e){const t=[],i=[],s=[];e.forEach(o=>{switch(o.getPinned()){case"left":t.push(o);break;case"right":i.push(o);break;default:s.push(o)}});const r=new M_;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,r,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,r,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(s,this.gridBalancedTree,r,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=t=>{this.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,t=>{t instanceof _n&&t.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||i||t)this.groupAutoColumns=null;else{const a=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);if(!this.autoColsEqual(a,this.groupAutoColumns)||e)return this.groupAutoColumns=a,!0}return!1}isGroupSuppressAutoColumn(){const e=this.gridOptionsService.get("groupDisplayType");if(e&&Ap("custom",e))return!0;const i=this.gridOptionsService.get("treeDataDisplayType");return!!i&&function Ite(n,e){const t=["auto","custom"];return t.indexOf(e)<0?(console.warn(`AG Grid: '${e}' is not a valid treeDataDisplayType value - possible values are: '${t.join("', '")}'`),!1):e===n}("custom",i)}autoColsEqual(e,t){return ro(e,t,(i,s)=>i.getColId()===s.getColId())}getWidthOfColsInList(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getGridBalancedTree(){return this.gridBalancedTree}hasFloatingFilters(){return!!this.gridColumns&&this.gridColumns.some(t=>t.getColDef().floatingFilter)}getFirstDisplayedColumn(){const e=this.gridOptionsService.is("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let i=0;i<t.length;i++){const s=this[t[i]]();if(s.length)return e?qe(s):s[0]}return null}setColumnHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&this.eventService.dispatchEvent({type:v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(e,...t)}getHeaderHeight(){var e;return null!==(e=this.gridOptionsService.getNum("headerHeight"))&&void 0!==e?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return null!==(e=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return null!==(e=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return null!==(e=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return null!==(e=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e){const t=e.getUserProvidedColDef();if(!t)return!1;const i=this.columnFactory.mergeColDefs(t,e.getColId());return e.setColDef(i,t),!0}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={};const s=(r,o,a,c,l,u)=>{if(!o.length||!this.primaryColumns)return[];const d=Object.keys(r),f=new Set(d),p=new Set(d),g=new Set(o.map(k=>{const j=k.getColId();return p.delete(j),j}).concat(d)),m=[],y={};let M=0;for(let k=0;k<this.primaryColumns.length;k++){const j=this.primaryColumns[k].getColId();g.has(j)&&(m.push(j),y[j]=M++)}let w=1e3,T=!1,R=0;const N=k=>{const j=y[k];for(let ae=R;ae<j;ae++){const Se=m[ae];p.has(Se)&&(r[Se][l]=w++,p.delete(Se))}R=j};o.forEach(k=>{const j=k.getColId();if(f.has(j))N(j),r[j][l]=w++;else{const ae=k.getColDef();(null===ae[l]||void 0===ae[l]&&null==ae[u])&&(T||(ae[a]||void 0===ae[a]&&ae[c]?N(j):(p.forEach(Qn=>{r[Qn][l]=w+y[Qn]}),w+=m.length,T=!0)),i[j]||(i[j]={colId:j}),i[j][l]=w++)}})};return s(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}};Jt([C("expressionService")],Vt.prototype,"expressionService",void 0),Jt([C("columnFactory")],Vt.prototype,"columnFactory",void 0),Jt([C("displayedGroupCreator")],Vt.prototype,"displayedGroupCreator",void 0),Jt([C("ctrlsService")],Vt.prototype,"ctrlsService",void 0),Jt([C("autoWidthCalculator")],Vt.prototype,"autoWidthCalculator",void 0),Jt([C("columnUtils")],Vt.prototype,"columnUtils",void 0),Jt([C("columnAnimationService")],Vt.prototype,"columnAnimationService",void 0),Jt([C("autoGroupColService")],Vt.prototype,"autoGroupColService",void 0),Jt([Pe("aggFuncService")],Vt.prototype,"aggFuncService",void 0),Jt([Pe("valueCache")],Vt.prototype,"valueCache",void 0),Jt([Pe("animationFrameService")],Vt.prototype,"animationFrameService",void 0),Jt([C("sortController")],Vt.prototype,"sortController",void 0),Jt([C("columnDefFactory")],Vt.prototype,"columnDefFactory",void 0),Jt([B],Vt.prototype,"init",null),Jt([Wt],Vt.prototype,"destroyColumns",null),Jt([function(n,e){return function(t,i){e(t,i,0)}}(0,Tn("loggerFactory"))],Vt.prototype,"setBeans",null),Vt=Jt([$("columnModel")],Vt);let Rp=class extends V{calculateColMinWidth(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(e){const t=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e);let s;const r=Oi(e.width),o=Oi(e.initialWidth);return s=null!=r?r:null!=o?o:200,Math.max(Math.min(s,i),t)}getOriginalPathForColumn(e,t){const i=[];let s=!1;const r=(o,a)=>{for(let c=0;c<o.length;c++){if(s)return;const l=o[c];l instanceof vt?(r(l.getChildren(),a+1),i[a]=l):l===e&&(s=!0)}};return r(t,0),s?i:null}depthFirstOriginalTreeSearch(e,t,i){t&&t.forEach(s=>{s instanceof vt&&this.depthFirstOriginalTreeSearch(s,s.getChildren(),i),i(s,e)})}depthFirstAllColumnTreeSearch(e,t){e&&e.forEach(i=>{i instanceof _n&&this.depthFirstAllColumnTreeSearch(i.getChildren(),t),t(i)})}depthFirstDisplayedColumnTreeSearch(e,t){e&&e.forEach(i=>{i instanceof _n&&this.depthFirstDisplayedColumnTreeSearch(i.getDisplayedChildren(),t),t(i)})}};Rp=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$("columnUtils")],Rp);let Lp=class extends V{createDisplayedGroups(e,t,i,s,r){const o=[];let a,c;const l=this.mapOldGroupsById(r);return e.forEach(u=>{const d=this.getOriginalPathForColumn(t,u),f=[],p=!c;for(let m=0;m<d.length;m++)if(p||d[m]!==c[m]){const y=this.createColumnGroup(d[m],i,l,s);f[m]=y,0==m?o.push(y):f[m-1].addChild(y)}else f[m]=a[m];0===f.length?o.push(u):qe(f).addChild(u),a=f,c=d}),this.setupParentsIntoColumns(o,null),o}createColumnGroup(e,t,i,s){const r=e.getGroupId(),o=t.getInstanceIdForKey(r);let c=i[_n.createUniqueId(r,o)];return c&&c.getProvidedColumnGroup()!==e&&(c=null),I(c)?c.reset():(c=new _n(e,r,o,s),this.context.createBean(c)),c}mapOldGroupsById(e){const t={},i=s=>{s.forEach(r=>{if(r instanceof _n){const o=r;t[r.getUniqueId()]=o,i(o.getChildren())}})};return e&&i(e),t}setupParentsIntoColumns(e,t){e.forEach(i=>{if(i.setParent(t),i instanceof _n){const s=i;this.setupParentsIntoColumns(s.getChildren(),s)}})}getOriginalPathForColumn(e,t){const i=[];let s=!1;const r=(o,a)=>{for(let c=0;c<o.length;c++){if(s)return;const l=o[c];l instanceof vt?(r(l.getChildren(),a+1),i[a]=l):l===t&&(s=!0)}};return r(e,0),s?i:(console.warn("AG Grid: could not get path"),null)}};Lp=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$("displayedGroupCreator")],Lp);let Np=class extends V{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(t=>this.addComponent(t))}addComponent(e){const i=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};function ks(n,e,t){null==t||""==t?Hp(n,e):Fi(n,e,t)}function Fi(n,e,t){n.setAttribute(L_(e),t.toString())}function Hp(n,e){n.removeAttribute(L_(e))}function L_(n){return`aria-${n}`}function jt(n,e){e?n.setAttribute("role",e):n.removeAttribute("role")}function N_(n){let e;return e="asc"===n?"ascending":"desc"===n?"descending":"mixed"===n?"other":"none",e}function H_(n){return parseInt(n.getAttribute("aria-level"),10)}function x_(n){return parseInt(n.getAttribute("aria-posinset"),10)}function oo(n,e){ks(n,"label",e)}function V0(n,e){ks(n,"labelledby",e)}function I_(n,e){ks(n,"description",e)}function O_(n,e){ks(n,"describedby",e)}function V_(n,e){ks(n,"live",e)}function P_(n,e){ks(n,"level",e)}function xp(n,e){ks(n,"disabled",e)}function P0(n,e){ks(n,"hidden",e)}function cs(n,e){Fi(n,"expanded",e)}function F_(n){Hp(n,"expanded")}function Ip(n,e){Fi(n,"setsize",e)}function Op(n,e){Fi(n,"posinset",e)}function z_(n,e){Fi(n,"multiselectable",e)}function k_(n,e){Fi(n,"rowcount",e)}function Vp(n,e){Fi(n,"rowindex",e)}function G_(n,e){Fi(n,"colcount",e)}function Pp(n,e){Fi(n,"colindex",e)}function B_(n,e){Fi(n,"colspan",e)}function U_(n,e){Fi(n,"sort",e)}function W_(n){Hp(n,"sort")}function t2(n,e){ks(n,"selected",e)}function j_(n,e){Fi(n,"checked",void 0===e?"mixed":e)}function F0(n,e){return void 0===e?n("ariaIndeterminate","indeterminate"):!0===e?n("ariaChecked","checked"):n("ariaUnchecked","unchecked")}Np=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$("agStackComponentsRegistry")],Np);var Bte=Object.freeze({__proto__:null,setAriaRole:jt,getAriaSortState:N_,getAriaLevel:H_,getAriaPosInSet:x_,getAriaDescribedBy:function kte(n){return n.getAttribute("aria-describedby")||""},setAriaLabel:oo,setAriaLabelledBy:V0,setAriaDescription:I_,setAriaDescribedBy:O_,setAriaLive:V_,setAriaLevel:P_,setAriaDisabled:xp,setAriaHidden:P0,setAriaExpanded:cs,removeAriaExpanded:F_,setAriaSetSize:Ip,setAriaPosInSet:Op,setAriaMultiSelectable:z_,setAriaRowCount:k_,setAriaRowIndex:Vp,setAriaColCount:G_,setAriaColIndex:Pp,setAriaColSpan:B_,setAriaSort:U_,removeAriaSort:W_,setAriaSelected:t2,setAriaChecked:j_,setAriaControls:function Gte(n,e){ks(n,"controls",e.id),V0(e,n.id)},getAriaCheckboxStateName:F0});let Fp,z0,zp,kp,Gp,Bp,Up,Wp;function zi(){return void 0===Fp&&(Fp=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Fp}function jp(){if(void 0===z0)if(zi()){const n=navigator.userAgent.match(/version\/(\d+)/i);n&&(z0=null!=n[1]?parseFloat(n[1]):0)}else z0=0;return z0}function k0(){if(void 0===zp){const n=window;zp=!!n.chrome&&(!!n.chrome.webstore||!!n.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return zp}function $p(){return void 0===kp&&(kp=/(firefox)/i.test(navigator.userAgent)),kp}function qp(){return void 0===Gp&&(Gp=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Gp}function ao(){return void 0===Bp&&(Bp=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Bp}function G0(){return!zi()||jp()>=15}function B0(n){if(!n)return null;const e=n.tabIndex,t=n.getAttribute("tabIndex");return-1!==e||null!==t&&(""!==t||$p())?e.toString():null}function $_(){if(!document.body)return-1;let n=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){const i=2*n;if(t.style.height=i+"px",i>e||t.clientHeight!==i)break;n=i}return document.body.removeChild(t),n}function q_(){var n,e,t;return null!==(e=null===(n=document.body)||void 0===n?void 0:n.clientWidth)&&void 0!==e?e:window.innerHeight||(null===(t=document.documentElement)||void 0===t?void 0:t.clientWidth)||-1}function K_(){var n,e,t;return null!==(e=null===(n=document.body)||void 0===n?void 0:n.clientHeight)&&void 0!==e?e:window.innerHeight||(null===(t=document.documentElement)||void 0===t?void 0:t.clientHeight)||-1}function Y_(){return null==Wp&&Q_(),Wp}function Q_(){const n=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",n.appendChild(e);let t=e.offsetWidth-e.clientWidth;0===t&&0===e.clientWidth&&(t=null),e.parentNode&&e.parentNode.removeChild(e),null!=t&&(Wp=t,Up=0===t)}function n2(){return null==Up&&Q_(),Up}var Ute=Object.freeze({__proto__:null,isBrowserSafari:zi,getSafariVersion:jp,isBrowserChrome:k0,isBrowserFirefox:$p,isMacOsUserAgent:qp,isIOSUserAgent:ao,browserSupportsPreventScroll:G0,getTabIndex:B0,getMaxDivHeight:$_,getBodyWidth:q_,getBodyHeight:K_,getScrollbarWidth:Y_,isInvisibleScrollbar:n2});function s2(n,e){return n.toString().padStart(e,"0")}function X_(n,e){const t=[];for(let i=n;i<=e;i++)t.push(i);return t}function Kp(n,e,t){return"number"!=typeof n?"":n.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}var Qte=Object.freeze({__proto__:null,padStartWidthZeros:s2,createArrayOfNumbers:X_,cleanNumber:function Wte(n){return"string"==typeof n&&(n=parseInt(n,10)),"number"==typeof n?Math.floor(n):null},decToHex:function jte(n,e){let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(255&n),n>>>=8;return t},formatNumberTwoDecimalPlacesAndCommas:function $te(n,e,t){return"number"!=typeof n?"":Kp(Math.round(100*n)/100,e,t)},formatNumberCommas:Kp,sum:function qte(n){return null==n?null:n.reduce((e,t)=>e+t,0)},zeroOrGreater:function Kte(n,e){return n>=0?n:e},oneOrGreater:function Yte(n,e){const t=parseInt(n,10);return!isNaN(t)&&isFinite(t)&&t>0?t:e}});function ki(n,e=!0,t="-"){if(!n)return null;let i=[n.getFullYear(),n.getMonth()+1,n.getDate()].map(s=>s2(s,2)).join(t);return e&&(i+=" "+[n.getHours(),n.getMinutes(),n.getSeconds()].map(s=>s2(s,2)).join(":")),i}const Yp=n=>{if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function U0(n,e="YYYY-MM-DD"){const t=s2(n.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>t.slice(t.length-4,t.length),YY:()=>t.slice(t.length-2,t.length),Y:()=>`${n.getFullYear()}`,MMMM:()=>i[n.getMonth()],MMM:()=>i[n.getMonth()].slice(0,3),MM:()=>s2(n.getMonth()+1,2),Mo:()=>`${n.getMonth()+1}${Yp(n.getMonth()+1)}`,M:()=>`${n.getMonth()+1}`,Do:()=>`${n.getDate()}${Yp(n.getDate())}`,DD:()=>s2(n.getDate(),2),D:()=>`${n.getDate()}`,dddd:()=>s[n.getDay()],ddd:()=>s[n.getDay()].slice(0,3),dd:()=>s[n.getDay()].slice(0,2),do:()=>`${n.getDay()}${Yp(n.getDay())}`,d:()=>`${n.getDay()}`},o=new RegExp(Object.keys(r).join("|"),"g");return e.replace(o,a=>a in r?r[a]():a)}function ls(n){if(!n)return null;const[e,t]=n.split(" ");if(!e)return null;const i=e.split("-").map(d=>parseInt(d,10));if(3!==i.filter(d=>!isNaN(d)).length)return null;const[s,r,o]=i,a=new Date(s,r-1,o);if(a.getFullYear()!==s||a.getMonth()!==r-1||a.getDate()!==o)return null;if(!t||"00:00:00"===t)return a;const[c,l,u]=t.split(":").map(d=>parseInt(d,10));return c>=0&&c<24&&a.setHours(c),l>=0&&l<60&&a.setMinutes(l),u>=0&&u<60&&a.setSeconds(u),a}var Xte=Object.freeze({__proto__:null,serialiseDate:ki,dateToFormattedString:U0,parseDateTimeFromString:ls});let W0;const Z_="[tabindex], input, select, button, textarea, [href]",Qp=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *.mjs";function Xp(n){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,i=e.call(n,"input, select, button, textarea"),s=e.call(n,Qp),r=Tr(n);return i&&!s&&r}function De(n,e,t={}){const{skipAriaHidden:i}=t;n.classList.toggle("ag-hidden",!e),i||P0(n,!e)}function J_(n,e,t={}){const{skipAriaHidden:i}=t;n.classList.toggle("ag-invisible",!e),i||P0(n,!e)}function r2(n,e){const t="disabled",i=e?s=>s.setAttribute(t,""):s=>s.removeAttribute(t);i(n),o7(n.querySelectorAll("input"),s=>i(s))}function da(n,e,t){let i=0;for(;n;){if(n.classList.contains(e))return!0;if(n=n.parentElement,"number"==typeof t){if(++i>t)break}else if(n===t)break}return!1}function co(n){const{height:e,width:t,borderTopWidth:i,borderRightWidth:s,borderBottomWidth:r,borderLeftWidth:o,paddingTop:a,paddingRight:c,paddingBottom:l,paddingLeft:u,marginTop:d,marginRight:f,marginBottom:p,marginLeft:g,boxSizing:m}=window.getComputedStyle(n);return{height:parseFloat(e),width:parseFloat(t),borderTopWidth:parseFloat(i),borderRightWidth:parseFloat(s),borderBottomWidth:parseFloat(r),borderLeftWidth:parseFloat(o),paddingTop:parseFloat(a),paddingRight:parseFloat(c),paddingBottom:parseFloat(l),paddingLeft:parseFloat(u),marginTop:parseFloat(d),marginRight:parseFloat(f),marginBottom:parseFloat(p),marginLeft:parseFloat(g),boxSizing:m}}function fl(n){const e=co(n);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function j0(n){const e=co(n);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function Zp(n){const e=co(n);return Math.ceil(n.offsetHeight+(e.marginBottom+e.marginTop))}function $0(n){const e=co(n);return Math.ceil(n.offsetWidth+(e.marginLeft+e.marginRight))}function Jp(n){const e=n.getBoundingClientRect(),{borderTopWidth:t,borderLeftWidth:i,borderRightWidth:s,borderBottomWidth:r}=co(n);return{top:e.top+(t||0),left:e.left+(i||0),right:e.right+(s||0),bottom:e.bottom+(r||0)}}function pl(){if("boolean"==typeof W0)return W0;const n=document.createElement("div");return n.style.direction="rtl",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.top="0px",n.style.overflow="hidden",n.dir="rtl",n.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(n),n.scrollLeft=1,W0=0===Math.floor(n.scrollLeft),document.body.removeChild(n),W0}function gl(n,e){let t=n.scrollLeft;return e&&(t=Math.abs(t),k0()&&!pl()&&(t=n.scrollWidth-n.clientWidth-t)),t}function ml(n,e,t){t&&(pl()?e*=-1:(zi()||k0())&&(e=n.scrollWidth-n.clientWidth-e)),n.scrollLeft=e}function hi(n){for(;n&&n.firstChild;)n.removeChild(n.firstChild)}function Mr(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Tr(n){return null!==n.offsetParent}function en(n){const e=document.createElement("div");return e.innerHTML=(n||"").trim(),e.firstChild}function e7(n){return n&&n.clientHeight?n.clientHeight:0}function t7(n){return n&&n.clientWidth?n.clientWidth:0}function n7(n,e,t){if(t&&t.nextSibling===e)return;const i=document.activeElement,s=e.contains(i);t?t.nextSibling?n.insertBefore(e,t.nextSibling):n.appendChild(e):n.firstChild&&n.firstChild!==e&&n.insertAdjacentElement("afterbegin",e),s&&i&&G0()&&i.focus({preventScroll:!0})}function i7(n,e){for(let t=0;t<e.length;t++){const i=e[t],s=n.children[t];s!==i&&n.insertBefore(i,s)}}function eD(n,e,t){t?t.insertAdjacentElement("afterend",e):n.firstChild?n.insertAdjacentElement("afterbegin",e):n.appendChild(e)}function s7(n,e){if(e)for(const[t,i]of Object.entries(e)){if(!t||!t.length||null==i)continue;const s=D_(t),r=i.toString(),o=r.replace(/\s*!important/g,"");n.style.setProperty(s,o,o.length!=r.length?"important":void 0)}}function tD(n){return n.clientWidth<n.scrollWidth}function nD(n){return n.clientHeight<n.scrollHeight}function Cl(n,e){"flex"===e?(n.style.removeProperty("width"),n.style.removeProperty("minWidth"),n.style.removeProperty("maxWidth"),n.style.flex="1 1 auto"):Gi(n,e)}function Gi(n,e){e=r7(e),n.style.width=e.toString(),n.style.maxWidth=e.toString(),n.style.minWidth=e.toString()}function ha(n,e){e=r7(e),n.style.height=e.toString(),n.style.maxHeight=e.toString(),n.style.minHeight=e.toString()}function r7(n){return"number"==typeof n?`${n}px`:n}function vl(n){return n instanceof Node||n instanceof HTMLElement}function iD(n){if(null==n)return[];const e=[];return o7(n,t=>e.push(t)),e}function sD(n,e){if(n)for(let t=0;t<n.length;t++){const i=n[t];e(i.name,i.value)}}function lo(n,e,t){null==t?n.removeAttribute(e):n.setAttribute(e,t.toString())}function o7(n,e){if(null!=n)for(let t=0;t<n.length;t++)e(n[t])}var sne=Object.freeze({__proto__:null,radioCssClass:function Zte(n,e,t){const i=n.parentElement;let s=i&&i.firstChild;for(;s;)e&&s.classList.toggle(e,s===n),t&&s.classList.toggle(t,s!==n),s=s.nextSibling},FOCUSABLE_SELECTOR:Z_,FOCUSABLE_EXCLUDE:Qp,isFocusableFormField:Xp,setDisplayed:De,setVisible:J_,setDisabled:r2,isElementChildOfClass:da,getElementSize:co,getInnerHeight:fl,getInnerWidth:j0,getAbsoluteHeight:Zp,getAbsoluteWidth:$0,getElementRectWithOffset:Jp,isRtlNegativeScroll:pl,getScrollLeft:gl,setScrollLeft:ml,clearElement:hi,removeElement:function Jte(n,e){Mr(n.querySelector(e))},removeFromParent:Mr,isVisible:Tr,loadTemplate:en,appendHtml:function ene(n,e){n.lastChild?n.insertAdjacentHTML("afterbegin",e):n.innerHTML=e},getElementAttribute:function tne(n,e){return n.attributes&&n.attributes[e]?n.attributes[e].value:null},offsetHeight:e7,offsetWidth:t7,ensureDomOrder:n7,setDomChildOrder:i7,insertWithDomOrder:eD,prependDC:function nne(n,e){I(n.firstChild)?n.insertBefore(e,n.firstChild):n.appendChild(e)},addStylesToElement:s7,isHorizontalScrollShowing:tD,isVerticalScrollShowing:nD,setElementWidth:Cl,setFixedWidth:Gi,setElementHeight:function ine(n,e){"flex"===e?(n.style.removeProperty("height"),n.style.removeProperty("minHeight"),n.style.removeProperty("maxHeight"),n.style.flex="1 1 auto"):ha(n,e)},setFixedHeight:ha,formatSize:r7,isNodeOrElement:vl,copyNodeList:iD,iterateNamedNodeMap:sD,addOrRemoveAttribute:lo,nodeListForEach:o7});const rD={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function Bi(n,e,t){const i=At(n,e,t);if(i){const{className:r}=i;if("string"==typeof r&&r.indexOf("ag-icon")>-1||"object"==typeof r&&r["ag-icon"])return i}const s=document.createElement("span");return s.appendChild(i),s}function At(n,e,t,i){let s=null;const r=t&&t.getColDef().icons;if(r&&(s=r[n]),e&&!s){const o=e.get("icons");o&&(s=o[n])}if(!s){const o=document.createElement("span");let a=rD[n];return a||(i?a=n:(console.warn(`AG Grid: Did not find icon ${n}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),jt(o,"presentation"),o}{let o;if("function"==typeof s)o=s();else{if("string"!=typeof s)throw new Error("icon from grid options needs to be a string or a function");o=s}if("string"==typeof o)return en(o);if(vl(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}}var rne=Object.freeze({__proto__:null,iconNameClassMap:rD,createIcon:Bi,createIconNoSpan:At});let H=(()=>{class n{}return n.BACKSPACE="Backspace",n.TAB="Tab",n.ENTER="Enter",n.ESCAPE="Escape",n.SPACE=" ",n.LEFT="ArrowLeft",n.UP="ArrowUp",n.RIGHT="ArrowRight",n.DOWN="ArrowDown",n.DELETE="Delete",n.F2="F2",n.PAGE_UP="PageUp",n.PAGE_DOWN="PageDown",n.PAGE_HOME="Home",n.PAGE_END="End",n.A="KeyA",n.C="KeyC",n.D="KeyD",n.V="KeyV",n.X="KeyX",n.Y="KeyY",n.Z="KeyZ",n})();function a7(n){return!(n.altKey||n.ctrlKey||n.metaKey)&&1===n.key.length}function q0(n,e,t,i,s){const r=i?i.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const o={event:e,editing:s,column:i,api:n.api,node:t,data:t.data,colDef:i.getColDef(),context:n.context,columnApi:n.columnApi};return!(!r||!r(o))}function oD(n,e,t,i){const s=i.getDefinition(),r=s&&s.suppressHeaderKeyboardEvent;return!!I(r)&&!!r({api:n.api,columnApi:n.columnApi,context:n.context,colDef:s,column:i,headerRowIndex:t,event:e})}function aD(n){const{keyCode:e}=n;let t;switch(e){case 65:t=H.A;break;case 67:t=H.C;break;case 86:t=H.V;break;case 68:t=H.D;break;case 90:t=H.Z;break;case 89:t=H.Y;break;default:t=n.code}return t}function cD(n,e=!1){return n===H.DELETE||!e&&n===H.BACKSPACE&&qp()}var hne=Object.freeze({__proto__:null,isEventFromPrintableCharacter:a7,isUserSuppressingKeyboardEvent:q0,isUserSuppressingHeaderKeyboardEvent:oD,normaliseQwertyAzerty:aD,isDeleteKey:cD});function c7(n,e,t){if(0===t)return!1;const i=Math.abs(n.clientX-e.clientX),s=Math.abs(n.clientY-e.clientY);return Math.max(i,s)<=t}var fne=Object.freeze({__proto__:null,areEventsNear:c7}),mne=Object.freeze({__proto__:null,sortRowNodesByOrder:function pne(n,e){if(!n)return!1;const t=(o,a)=>{const c=e[o.id],l=e[a.id],u=void 0!==c,d=void 0!==l;return u&&d?c-l:u||d?u?1:-1:o.__objectId-a.__objectId};let i,s,r=!1;for(let o=0;o<n.length-1;o++)if(i=n[o],s=n[o+1],t(i,s)>0){r=!0;break}return!!r&&(n.sort(t),!0)},traverseNodesWithKey:function gne(n,e){const t=[];!function i(s){s&&s.forEach(r=>{if(r.group||r.hasChildren()){t.push(r.key);const o=t.join("|");e(r,o),i(r.childrenAfterGroup),t.pop()}})}(n)}});function l7(n){const e=new Set;return n.forEach(t=>e.add(t)),e}var Cne=Object.freeze({__proto__:null,convertToSet:l7});const re=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Bte),yte),Ute),Xte),sne),wte),lte),xte),ete),rne),hne),Nte),fne),Qte),ate),mne),Cne),Ate);class o2{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}}var El=function(n){return n[n.IN_PROGRESS=0]="IN_PROGRESS",n[n.RESOLVED=1]="RESOLVED",n}(El||{});class $t{constructor(e){this.status=El.IN_PROGRESS,this.resolution=null,this.waiters=[],e(t=>this.onDone(t),t=>this.onReject(t))}static all(e){return new $t(t=>{let i=e.length;const s=new Array(i);e.forEach((r,o)=>{r.then(a=>{s[o]=a,i--,0===i&&t(s)})})})}static resolve(e=null){return new $t(t=>t(e))}then(e){return new $t(t=>{this.status===El.RESOLVED?t(e(this.resolution)):this.waiters.push(i=>t(e(i)))})}resolveNow(e,t){return this.status===El.RESOLVED?t(this.resolution):e}onDone(e){this.status=El.RESOLVED,this.resolution=e,this.waiters.forEach(t=>t(e))}onReject(e){console.warn("TBI")}}var u7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Gs=function(n){return n[n.NOTHING=0]="NOTHING",n[n.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",n[n.SHOWING=2]="SHOWING",n}(Gs||{});class _r extends V{constructor(e){super(),this.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,this.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.state=Gs.NOTHING,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1,this.parentComp=e}postConstruct(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");const e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))}destroy(){this.setToDoNothing(),super.destroy()}onMouseEnter(e){if(ao()||this.state!=Gs.NOTHING)return;const t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=Gs.WAITING_TO_SHOW}onMouseLeave(){this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}setToDoNothing(){this.state===Gs.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Gs.NOTHING}onMouseMove(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===Gs.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()}onMouseDown(){this.setToDoNothing()}getTooltipDelay(e){const t=this.gridOptionsService.getNum("tooltipShowDelay"),i=this.gridOptionsService.getNum("tooltipHideDelay"),s="show"===e?t:i,r=T_(e);return I(s)?(s<0&&Le(()=>console.warn(`AG Grid: tooltip${r}Delay should not be lower than 0`),`tooltip${r}DelayWarn`),Math.max(200,s)):null}hideTooltip(){this.tooltipComp&&(this.destroyTooltipComp(),_r.lastTooltipHideTime=(new Date).getTime()),this.state=Gs.NOTHING}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp;window.setTimeout(()=>{e(),this.getContext().destroyBean(t)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}isLastTooltipHiddenRecently(){return(new Date).getTime()-_r.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF}showTooltip(){const e=Object.assign({},this.parentComp.getTooltipParams());if(!I(e.value))return void this.setToDoNothing();this.state=Gs.SHOWING,this.tooltipInstanceCount++;const t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}newTooltipComponentCallback(e,t){if(this.state!==Gs.SHOWING||this.tooltipInstanceCount!==e)return void this.getContext().destroyBean(t);const s=t.getGui();this.tooltipComp=t,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom");const r=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:s,ariaLabel:r("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}positionTooltipUnderLastMouseEvent(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})}clearTimeouts(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}}u7([C("popupService")],_r.prototype,"popupService",void 0),u7([C("userComponentFactory")],_r.prototype,"userComponentFactory",void 0),u7([B],_r.prototype,"postConstruct",null);class vne{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(s=>this.addCssClass(s));else if(!0!==this.cssClassStates[e]&&e.length){const s=this.getGui();s&&s.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(s=>this.removeCssClass(s));else if(!1!==this.cssClassStates[e]&&e.length){const s=this.getGui();s&&s.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(e){if(e.indexOf(" ")>=0){const s=(e||"").split(" ");if(s.length>1)return void s.forEach(r=>this.addOrRemoveCssClass(r,t))}if(this.cssClassStates[e]!==t&&e.length){const s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}}}var d7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const Ene=new o2;let me=(()=>{class n extends V{constructor(t){super(),this.displayed=!0,this.visible=!0,this.compId=Ene.next(),this.cssClassManager=new vne(()=>this.eGui),t&&this.setTemplate(t)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){this.tooltipText!=t&&(this.tooltipText&&(()=>{this.usingBrowserTooltips?this.getGui().removeAttribute("title"):this.tooltipFeature=this.destroyBean(this.tooltipFeature)})(),null!=t&&(this.tooltipText=t,this.tooltipText&&(()=>{this.usingBrowserTooltips?this.getGui().setAttribute("title",this.tooltipText):this.tooltipFeature=this.createBean(new _r(this))})()))}createChildComponentsFromTags(t,i){iD(t.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const o=this.createComponentFromElement(r,a=>{a.getGui()&&this.copyAttributesFromNode(r,a.getGui())},i);if(o){if(o.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const a=Array.prototype.slice.call(r.children);o.addItems(a)}this.swapComponentForNode(o,t,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(t,i,s){const r=t.nodeName,o=s?s[t.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(r);if(a){n.elementGettingCreated=t;const c=new a(o);return c.setParentComponent(this),this.createBean(c,null,i),c}return null}copyAttributesFromNode(t,i){sD(t.attributes,(s,r)=>i.setAttribute(s,r))}swapComponentForNode(t,i,s){const r=t.getGui();i.replaceChild(r,s),i.insertBefore(document.createComment(s.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,s)}swapInComponentForQuerySelectors(t,i){const s=this;this.iterateOverQuerySelectors(r=>{s[r.attributeName]===i&&(s[r.attributeName]=t)})}iterateOverQuerySelectors(t){let i=Object.getPrototypeOf(this);for(;null!=i;){const s=i.__agComponentMetaData,r=D0(i.constructor);s&&s[r]&&s[r].querySelectors&&s[r].querySelectors.forEach(o=>t(o)),i=Object.getPrototypeOf(i)}}activateTabIndex(t){const i=this.gridOptionsService.getNum("tabIndex")||0;t||(t=[]),t.length||t.push(this.getGui()),t.forEach(s=>s.setAttribute("tabindex",i.toString()))}setTemplate(t,i){const s=en(t);this.setTemplateFromElement(s,i)}setTemplateFromElement(t,i){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const t=this;this.iterateOverQuerySelectors(i=>{const s=o=>t[i.attributeName]=o;if(i.refSelector&&this.getAttribute("ref")===i.refSelector)s(this.eGui);else{const o=this.eGui.querySelector(i.querySelector);o&&s(o.__agComponent||o)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}queryForHtmlInputElement(t){return this.eGui.querySelector(t)}appendChild(t,i){null!=t&&(i||(i=this.eGui),vl(t)?i.appendChild(t):i.appendChild(t.getGui()))}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:s}=i;J_(this.eGui,t,{skipAriaHidden:s})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:s}=i;De(this.eGui,t,{skipAriaHidden:s}),this.dispatchEvent({type:n.EVENT_DISPLAYED_CHANGED,visible:this.displayed})}}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);const t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),super.destroy()}addGuiEventListener(t,i,s){this.eGui.addEventListener(t,i,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}getAttribute(t){const{eGui:i}=this;return i?i.getAttribute(t):null}getRefElement(t){return this.queryForHtmlElement(`[ref="${t}"]`)}}return n.EVENT_DISPLAYED_CHANGED="displayedChanged",n})();function W(n){return lD.bind(this,`[ref=${n}]`,n)}function lD(n,e,t,i,s){null!==n?"number"!=typeof s?function yne(n,e,t){const i=function bne(n,e){return n.__agComponentMetaData||(n.__agComponentMetaData={}),n.__agComponentMetaData[e]||(n.__agComponentMetaData[e]={}),n.__agComponentMetaData[e]}(n,D0(n.constructor));i[e]||(i[e]=[]),i[e].push(t)}(t,"querySelectors",{attributeName:i,querySelector:n,refSelector:e}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}d7([C("agStackComponentsRegistry")],me.prototype,"agStackComponentsRegistry",void 0),d7([f_],me.prototype,"preConstructOnComponent",null),d7([f_],me.prototype,"createChildComponentsPreConstruct",null);var uD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class h7 extends me{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){e?this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}}):this.eFloatingFilterText.setValue("")}}uD([W("eFloatingFilterText")],h7.prototype,"eFloatingFilterText",void 0),uD([C("columnModel")],h7.prototype,"columnModel",void 0);class dD{constructor(e,t,i,s){this.alive=!0,this.context=e,this.eParent=s,t.getDateCompDetails(i).newAgStackInstance().then(a=>{this.alive?(this.dateComp=a,a&&(s.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled))):e.destroyBean(a)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){De(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}}class hD{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{"string"!=typeof e&&([["displayKey"],["displayName"],["predicate","test"]].every(s=>!!s.some(r=>null!=e[r])||(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${s}'`),!1))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter(s=>s===e)||[])})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}}const fD={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};var pD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Bs=(()=>{class n extends V{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks=Object.assign({shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,s.shiftKey);r&&(r.focus(),s.preventDefault())}},i)}postConstruct(){this.eFocusableElement.classList.add(n.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(t){this.addManagedListener(t,"keydown",i=>{if(!i.defaultPrevented&&!Fs(i)){if(this.callbacks.shouldStopEventPropagation(i))return void wr(i);i.key===H.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}})}}return n.FOCUS_MANAGED_CLASS="ag-focus-managed",n})();pD([C("focusService")],Bs.prototype,"focusService",void 0),pD([B],Bs.prototype,"postConstruct",null);var f7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const gD="ag-resizer-wrapper",wne=`<div class="${gD}">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>`;class yl extends V{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:s,minHeight:r,height:o,x:a,y:c}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const d=!!this.element.offsetParent;if(d){const f=this.findBoundaryElement(),p=window.getComputedStyle(f);if(null!=p.minWidth){const g=f.offsetWidth-this.element.offsetWidth;u=parseInt(p.minWidth,10)-g}if(null!=p.minHeight){const g=f.offsetHeight-this.element.offsetHeight;l=parseInt(p.minHeight,10)-g}}if(this.minHeight=r||l,this.minWidth=i||u,s&&this.setWidth(s),o&&this.setHeight(o),(!s||!o)&&this.refreshSize(),e)this.center();else if(a||c)this.offsetElement(a,c);else if(d&&t){let f=this.boundaryEl,p=!0;if(f||(f=this.findBoundaryElement(),p=!1),f){const g=parseFloat(f.style.top),m=parseFloat(f.style.left);p?this.offsetElement(isNaN(m)?0:m,isNaN(g)?0:g):this.setPosition(m,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const s=!!e[t],r=this.getResizerElement(t),o={dragStartPixels:0,eElement:r,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(s||!this.isAlive()&&!s)&&(s?(this.dragService.addDragSource(o),this.resizeListeners.push(o),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width=`${t}px`),-1!==e&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let s=!1;if("string"==typeof e&&-1!==e.indexOf("%"))ha(i,e),e=Zp(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?ha(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:s.top,a=e?0:r.top;let c=0;if(t){const u=this.element.parentElement;if(u){const{bottom:d}=u.getBoundingClientRect();c=d-s.bottom}}return i+a-o-c}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let s=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Gi(t,e),e=$0(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,o=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+o>r&&(e=r-o)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Gi(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupService.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:s,anywhereWithin:r,topBuffer:o}=e,a=t.clientX-this.dragStartPosition.x,c=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!i,!!r,a)?0:a,movementY:this.shouldSkipY(t,!!s,o,c)?0:c}}shouldSkipX(e,t,i,s){const r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.x:r.left;let l=c<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=a.right;return!!l||(l=t?s<0&&e.clientX>c+o.left||s>0&&e.clientX<c+o.left:i?s<0&&e.clientX>a.right||s>0&&e.clientX<c+o.left:s<0&&e.clientX>a.right||s>0&&e.clientX<a.right,l)}shouldSkipY(e,t,i=0,s){const r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.y:r.top;let l=c<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=a.bottom;return!!l||(l=t?s<0&&e.clientY>c+o.top+i||s>0&&e.clientY<c+o.top:s<0&&e.clientY>a.bottom||s>0&&e.clientY<a.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=(new DOMParser).parseFromString(wne,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${gD}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let s=0;s<e.length;s++){const r=e[s],o=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r===this.element)continue;let a=this.minHeight||0,c=this.minWidth||0;if(o){const l=window.getComputedStyle(r);l.minHeight&&(a=parseInt(l.minHeight,10)),l.minWidth&&(c=parseInt(l.minWidth,10))}else a=r.offsetHeight,c=r.offsetWidth;t+=a,i+=c}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){const r=i[s];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:r,isBottom:o,isLeft:a}=this.currentResizer,c=r||a,l=o||s,{movementX:u,movementY:d}=this.calculateMouseMovement({e,isLeft:a,isTop:s}),f=this.position.x,p=this.position.y;let g=0,m=0;if(c&&u){const y=a?-1:1,M=this.getWidth(),w=M+u*y;let T=!1;a&&(g=M-w,(f+g<=0||w<=this.minWidth)&&(T=!0,g=0)),T||this.setWidth(w)}if(l&&d){const y=s?-1:1,M=this.getHeight(),w=M+d*y;let T=!1;s?(m=M-w,(p+m<=0||w<=this.minHeight)&&(T=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&M<w&&this.getMinSizeOfSiblings().height+w>this.element.parentElement.offsetHeight&&(T=!0),T||this.setHeight(w)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&g||m)&&this.offsetElement(f+g,p+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const i={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(i)}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:r,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+r,i+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}}f7([C("popupService")],yl.prototype,"popupService",void 0),f7([C("resizeObserverService")],yl.prototype,"resizeObserverService",void 0),f7([C("dragService")],yl.prototype,"dragService",void 0);var p7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class us extends me{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null}postConstruct(){this.resetTemplate(),this.createManagedBean(new Bs(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new yl(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(i,e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=us.isUseApplyButton(e),this.createButtonPanel()}createButtonPanel(){const{buttons:e}=this.providedFilterParams;if(!e||e.length<1||this.isReadOnly())return;const t=document.createElement("div");t.classList.add("ag-filter-apply-panel");const i=s=>{let r,o;switch(s){case"apply":r=this.translate("applyFilter"),o=l=>this.onBtApply(!1,!1,l);break;case"clear":r=this.translate("clearFilter"),o=()=>this.onBtClear();break;case"reset":r=this.translate("resetFilter"),o=()=>this.onBtReset();break;case"cancel":r=this.translate("cancelFilter"),o=l=>{this.onBtCancel(l)};break;default:return void console.warn("AG Grid: Unknown button type specified")}const c=en(`<button\n                    type="${"apply"===s?"submit":"button"}"\n                    ref="${s}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${r}\n                </button>`);t.appendChild(c),this.addManagedListener(c,"click",o)};l7(e).forEach(s=>i(s)),this.getGui().appendChild(t)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=us.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),t=Ps(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t?.()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t});const{closeOnApply:s}=this.providedFilterParams;s&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e&&e.key;let s;("Enter"===i||"Space"===i)&&(s={keyboardEvent:e}),this.hidePopup(s),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi());r2(this.getRefElement("applyFilterButton"),!i)}e&&!t||"immediately"===t?this.onBtApply(e):(!this.applyActive&&!t||"debounce"===t)&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const t="floatingFilter"===e,{positionableFeature:i,gridOptionsService:s}=this;t?(i.restoreLastSize(),i.setResizable(s.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,t){return us.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:t}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,fD[e])}getCellValue(e){const{api:t,colDef:i,column:s,columnApi:r,context:o}=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:t,colDef:i,column:s,columnApi:r,context:o,data:e.data,getValue:a=>e.data[a],node:e})}getPositionableElement(){return this.eFilterBody}}p7([C("rowModel")],us.prototype,"rowModel",void 0),p7([W("eFilterBody")],us.prototype,"eFilterBody",void 0),p7([B],us.prototype,"postConstruct",null);class g7 extends me{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s}=this.config;null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){hi(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(De(this.eLabel,!1),jt(this.eLabel,"presentation")):(De(this.eLabel,!0),jt(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===e),i.toggle("ag-label-align-right","right"===e),i.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||Cl(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return r2(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([B],g7.prototype,"postConstruct",null);let a2=(()=>{class n extends g7{constructor(t,i,s){super(t,i),this.className=s}postConstruct(){super.postConstruct(),this.className&&this.addCssClass(this.className)}onValueChange(t){return this.addManagedListener(this,n.EVENT_CHANGED,()=>t(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(t){return Gi(this.getGui(),t),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(t,i){return this.value===t||(this.previousValue=this.value,this.value=t,i||this.dispatchEvent({type:n.EVENT_CHANGED})),this}}return n.EVENT_CHANGED="valueChange",n})();var K0=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class bl extends a2{constructor(e,t,i,s){super(e,`<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    ${s?`role="${s}"`:""}\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>`,t),this.pickerIcon=i,this.isPickerDisplayed=!1,this.isDestroyingPicker=!1,this.skipClick=!1}postConstruct(){super.postConstruct();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e),O_(this.eWrapper,e);const t=()=>{this.skipClick?this.skipClick=!1:this.isDisabled()||(this.pickerComponent=this.showPicker())},i=this.getGui();if(this.addManagedListener(i,"mousedown",s=>{!this.skipClick&&this.pickerComponent&&this.pickerComponent.isAlive()&&Tr(this.pickerComponent.getGui())&&i.contains(s.target)&&(this.skipClick=!0)}),this.addManagedListener(i,"keydown",s=>{switch(s.key){case H.UP:case H.DOWN:case H.ENTER:case H.SPACE:t();case H.ESCAPE:this.isPickerDisplayed&&s.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",t),this.addManagedListener(this.eLabel,"click",t),this.pickerIcon){const s=At(this.pickerIcon,this.gridOptionsService);s&&this.eIcon.appendChild(s)}}refreshLabel(){I(this.getLabel())?V0(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),super.refreshLabel()}setAriaLabel(e){return oo(this.eWrapper,e),this}setInputWidth(e){return Cl(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}}K0([W("eLabel")],bl.prototype,"eLabel",void 0),K0([W("eWrapper")],bl.prototype,"eWrapper",void 0),K0([W("eDisplayField")],bl.prototype,"eDisplayField",void 0),K0([W("eIcon")],bl.prototype,"eIcon",void 0);let m7=(()=>{class n extends me{constructor(t="default"){super(`<div class="ag-list ag-${t}-list" role="listbox"></div>`),this.cssIdentifier=t,this.options=[],this.itemEls=[]}init(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))}handleKeyDown(t){const i=t.key;switch(i){case H.ENTER:if(this.highlightedEl){const o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}else this.setValue(this.getValue());break;case H.DOWN:case H.UP:const s=i===H.DOWN;let r;if(t.preventDefault(),this.highlightedEl){let a=this.itemEls.indexOf(this.highlightedEl)+(s?1:-1);a=Math.min(Math.max(a,0),this.itemEls.length-1),r=this.itemEls[a]}else r=this.itemEls[s?0:this.itemEls.length-1];this.highlightItem(r)}}addOptions(t){return t.forEach(i=>this.addOption(i)),this}addOption(t){const{value:i,text:s}=t,r=zs(s||i);return this.options.push({value:i,text:r}),this.renderOption(i,r),this.updateIndices(),this}updateIndices(){const t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((i,s)=>{Op(i,s+1),Ip(i,t.length)})}renderOption(t,i){const s=document.createElement("div");jt(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`),s.innerHTML=`<span>${i}</span>`,s.tabIndex=-1,this.itemEls.push(s),this.addManagedListener(s,"mouseover",()=>this.highlightItem(s)),this.addManagedListener(s,"mouseleave",()=>this.clearHighlighted()),this.addManagedListener(s,"click",()=>this.setValue(t)),this.getGui().appendChild(s)}setValue(t,i){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;const s=this.options.findIndex(r=>r.value===t);if(-1!==s){const r=this.options[s];this.value=r.value,this.displayValue=null!=r.text?r.text:r.value,this.highlightItem(this.itemEls[s]),i||this.fireChangeEvent()}return this}setValueByIndex(t){return this.setValue(this.options[t].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const t=this.options.findIndex(i=>i.value===this.value);-1!==t&&this.highlightItem(this.itemEls[t])}reset(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()}highlightItem(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(n.ACTIVE_CLASS),t2(this.highlightedEl,!0),this.highlightedEl.focus())}clearHighlighted(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(n.ACTIVE_CLASS),t2(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:a2.EVENT_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:n.EVENT_ITEM_SELECTED})}}return n.EVENT_ITEM_SELECTED="selectedItem",n.ACTIVE_CLASS="ag-active-item",n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([B],m7.prototype,"init",null);var mD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let wl=(()=>{class n extends bl{constructor(t){super(t,"ag-select","smallDown","listbox")}init(){this.listComponent=this.createBean(new m7("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,m7.EVENT_ITEM_SELECTED,()=>{this.hideList&&this.hideList(),this.dispatchEvent({type:n.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,a2.EVENT_CHANGED,()=>{this.setValue(this.listComponent.getValue(),!1,!0),this.hideList&&this.hideList()})}showPicker(){const t=this.listComponent.getGui(),i=this.gridOptionsService.getDocument(),s=this.addManagedListener(i.body,"wheel",c=>{!t.contains(c.target)&&this.hideList&&this.hideList()}),r=this.addManagedListener(t,"focusout",c=>{!t.contains(c.relatedTarget)&&this.hideList&&this.hideList()}),o=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:t,closeOnEsc:!0,closedCallback:()=>{this.hideList=null,this.isPickerDisplayed=!1,r(),s(),this.isAlive()&&(cs(this.eWrapper,!1),this.getFocusableElement().focus())},ariaLabel:o("ariaLabelSelectField","Select Field")});return a&&(this.hideList=a.hideFunc),this.isPickerDisplayed=!0,Cl(t,$0(this.eWrapper)),cs(this.eWrapper,!0),t.style.maxHeight=fl(this.popupService.getPopupParent())+"px",t.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:t,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent}addOptions(t){return t.forEach(i=>this.addOption(i)),this}addOption(t){return this.listComponent.addOption(t),this}setValue(t,i,s){return this.value===t?this:(s||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),super.setValue(t,i)))}destroy(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),super.destroy()}}return n.EVENT_ITEM_SELECTED="selectedItem",n})();mD([C("popupService")],wl.prototype,"popupService",void 0),mD([B],wl.prototype,"init",null);var C7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class ds extends a2{constructor(e,t,i="text",s="input"){super(e,`\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${s} ref="eInput" class="ag-input-field-input"></${s}>\n                </div>\n            </div>`,t),this.inputType=i,this.displayFieldTag=s}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{width:e,value:t}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}refreshLabel(){I(this.getLabel())?V0(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),super.refreshLabel()}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Cl(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return lo(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return oo(this.eInput,e),this}setDisabled(e){return r2(this.eInput,e),super.setDisabled(e)}}C7([W("eLabel")],ds.prototype,"eLabel",void 0),C7([W("eWrapper")],ds.prototype,"eWrapper",void 0),C7([W("eInput")],ds.prototype,"eInput",void 0);class uo extends ds{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchEvent({type:uo.EVENT_CHANGED,selected:e,previousValue:t,event:i});const s=this.getInputElement();this.eventService.dispatchEvent({type:v.EVENT_CHECKBOX_CHANGED,id:s.id,name:s.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}}class CD extends uo{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,v.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}}class v7{constructor(e,t){this.localeService=e,this.optionsFactory=t}getModelAsString(e){if(!e)return null;const t=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(t){const s=e;let{conditions:r}=s;if(!r){const{condition1:c,condition2:l}=s;r=[c,l]}const o=r.map(c=>this.getModelAsString(c)),a="AND"===s.operator?"andCondition":"orCondition";return o.join(` ${i(a,fD[a])} `)}if(e.type===ft.BLANK||e.type===ft.NOT_BLANK)return i(e.type,e.type);{const s=e,r=this.optionsFactory.getCustomOption(s.type),{displayKey:o,displayName:a,numberOfInputs:c}=r||{};return o&&a&&0===c?(i(o,a),a):this.conditionToString(s,r)}}}let ft=(()=>{class n extends us{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){const i=this.optionsFactory.getCustomOption(t);if(i){const{numberOfInputs:r}=i;return r??1}return t&&[n.EMPTY,n.NOT_BLANK,n.BLANK].indexOf(t)>=0?0:t===n.IN_RANGE?2:1}onFloatingFilterChanged(t,i){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(t){this.eTypes.forEach((i,s)=>{i.setValue(0===s?t:this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const t=this.getUiCompleteConditions();return 0===t.length?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]}getConditionTypes(){return this.eTypes.map(t=>t.getValue())}getConditionType(t){return this.eTypes[t].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(t,i){if(!t&&!i)return!0;if(!t&&i||t&&!i)return!1;const s=!t.operator,r=!i.operator;if(!s&&r||s&&!r)return!1;let a;return a=s?this.areSimpleModelsEqual(t,i):t.operator===i.operator&&ro(t.conditions,i.conditions,(u,d)=>this.areSimpleModelsEqual(u,d)),a}setModelIntoUi(t){if(t.operator){let s=t;s.conditions||(s.conditions=[s.condition1,s.condition2]);const r=this.validateAndUpdateConditions(s.conditions),o=this.getNumConditions();if(r<o)this.removeConditionsAndOperators(r);else if(r>o)for(let c=o;c<r;c++)this.createJoinOperatorPanel(),this.createOption();const a="OR"===s.operator;this.eJoinOperatorsAnd.forEach(c=>c.setValue(!a,!0)),this.eJoinOperatorsOr.forEach(c=>c.setValue(a,!0)),s.conditions.forEach((c,l)=>{this.eTypes[l].setValue(c.type,!0),this.setConditionIntoUi(c,l)})}else{const s=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(s.type,!0),this.setConditionIntoUi(s,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),$t.resolve()}validateAndUpdateConditions(t){let i=t.length;return i>this.maxNumConditions&&(t.splice(this.maxNumConditions),Le(()=>console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),"simpleFilterSetModelMaxNumConditions"),i=this.maxNumConditions),i}doesFilterPass(t){var i;const s=this.getModel();if(null==s)return!0;const{operator:r}=s,o=[];return r?o.push(...null!==(i=s.conditions)&&void 0!==i?i:[]):o.push(s),o[r&&"OR"===r?"some":"every"](c=>this.individualConditionPasses(t,c))}setParams(t){super.setParams(t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new hD,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators()}setNumConditions(t){var i,s;null!=t.suppressAndOrCondition&&Le(()=>console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),"simpleFilterSuppressAndOrCondition"),null!=t.alwaysShowBothConditions&&Le(()=>console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(i=t.maxNumConditions)&&void 0!==i?i:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Le(()=>console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.'),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(s=t.numAlwaysVisibleConditions)&&void 0!==s?s:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Le(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Le(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const t=this.createManagedBean(new wl);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());const i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(t),this.resetType(t);const s=this.getNumConditions()-1;this.forEachPositionInput(s,r=>this.resetInput(r)),this.addChangedListeners(t,s)}createJoinOperatorPanel(){const t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");const i=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),s=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);const r=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(i,r,o),this.resetJoinOperatorOr(s,r,o),this.isReadOnly()||(i.onValueChange(this.listener),s.onValueChange(this.listener))}createJoinOperator(t,i,s){const r=this.createManagedBean(new CD);return t.push(r),r.addCssClass("ag-filter-condition-operator"),r.addCssClass(`ag-filter-condition-operator-${s}`),i.appendChild(r.getGui()),r}getDefaultJoinOperator(t){return"AND"===t||"OR"===t?t:"AND"}createFilterListOptions(){const t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map(i=>"string"==typeof i?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(t){this.filterListOptions.forEach(i=>{t.addOption(i)}),t.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(t){return{value:t,text:this.translate(t)}}createCustomListOption(t){const{displayKey:i}=t,s=this.optionsFactory.getCustomOption(t.displayKey);return{value:i,text:s?this.localeService.getLocaleTextFunc()(s.displayKey,s.displayName):this.translate(i)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)}updateNumConditions(){var t;let i=-1,s=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?i=r:s=!1;if(this.shouldAddNewConditionAtEnd(s))this.createJoinOperatorPanel(),this.createOption();else{const r=null!==(t=this.lastUiCompletePosition)&&void 0!==t?t:this.getNumConditions()-2;if(i<r){this.removeConditionsAndOperators(r+1);const o=i+1,a=r-o;a>0&&this.removeConditionsAndOperators(o,a),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i}updateConditionStatusesAndValues(t,i){this.eTypes.forEach((r,o)=>{const a=this.isConditionDisabled(o,t);r.setDisabled(a||this.filterListOptions.length<=1),1===o&&(r2(this.eJoinOperatorPanels[0],a),this.eJoinOperatorsAnd[0].setDisabled(a),this.eJoinOperatorsOr[0].setDisabled(a))}),this.eConditionBodies.forEach((r,o)=>{De(r,this.isConditionBodyVisible(o))});const s="OR"===(i??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((r,o)=>{r.setValue(!s,!0)}),this.eJoinOperatorsOr.forEach((r,o)=>{r.setValue(s,!0)}),this.forEachInput((r,o,a,c)=>{this.setElementDisplayed(r,o<c),this.setElementDisabled(r,this.isConditionDisabled(a,t))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(t,i){if(t>=this.getNumConditions())return;this.removeComponents(this.eTypes,t,i),this.removeElements(this.eConditionBodies,t,i),this.removeValueElements(t,i);const s=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,s,i),this.removeComponents(this.eJoinOperatorsAnd,s,i),this.removeComponents(this.eJoinOperatorsOr,s,i)}removeElements(t,i,s){this.removeItems(t,i,s).forEach(o=>Mr(o))}removeComponents(t,i,s){this.removeItems(t,i,s).forEach(o=>{Mr(o.getGui()),this.destroyBean(o)})}removeItems(t,i,s){return null==s?t.splice(i):t.splice(i,s)}afterGuiAttached(t){if(super.afterGuiAttached(t),this.resetPlaceholder(),!t||!t.suppressFocus&&!this.isReadOnly()){const i=this.getInputs(0)[0];if(!i)return;i instanceof ds&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const t=this.getModel();(!this.areModelsEqual(t,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(t);let i=-1,s=-1,r=!1;const o=this.getJoinOperator();for(let c=this.getNumConditions()-1;c>=0;c--)if(this.isConditionUiComplete(c))-1===i&&(i=c,s=c);else{const u=c<i;(c>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(c-1)||u)&&(this.removeConditionsAndOperators(c,1),r=!0,u&&s--)}let a=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),a=!0),this.shouldAddNewConditionAtEnd(s===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),a=!0),a&&this.updateConditionStatusesAndValues(s,o),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=s}getPlaceholderText(t,i){let s=this.translate(t);if(A0(this.filterPlaceholder)){const r=this.filterPlaceholder,o=this.eTypes[i].getValue();s=r({filterOptionKey:o,filterOption:this.translate(o),placeholder:s})}else"string"==typeof this.filterPlaceholder&&(s=this.filterPlaceholder);return s}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc();this.forEachInput((i,s,r,o)=>{if(!(i instanceof ds))return;const a=0===s&&o>1?"inRangeStart":0===s?"filterOoo":"inRangeEnd",c=0===s&&o>1?t("ariaFilterFromValue","Filter from value"):0===s?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(a,r)),i.setInputAriaLabel(c)})}setElementValue(t,i){t instanceof ds&&t.setValue(null!=i?String(i):null,!0)}setElementDisplayed(t,i){t instanceof me&&De(t.getGui(),i)}setElementDisabled(t,i){t instanceof me&&r2(t.getGui(),i)}attachElementOnChange(t,i){t instanceof ds&&t.onValueChange(i)}forEachInput(t){this.getConditionTypes().forEach((i,s)=>{this.forEachPositionTypeInput(s,i,t)})}forEachPositionInput(t,i){const s=this.getConditionType(t);this.forEachPositionTypeInput(t,s,i)}forEachPositionTypeInput(t,i,s){const r=this.getNumberOfInputs(i),o=this.getInputs(t);for(let a=0;a<o.length;a++){const c=o[a];null!=c&&s(c,a,t,r)}}isConditionDisabled(t,i){return!!this.isReadOnly()||0!==t&&t>i+1}isConditionBodyVisible(t){const i=this.getConditionType(t);return this.getNumberOfInputs(i)>0}isConditionUiComplete(t){return!(t>=this.getNumConditions()||this.getConditionType(t)===n.EMPTY||this.getValues(t).some(s=>null==s))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const t=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&t.push(this.createCondition(i));return t}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(t){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,s)=>this.resetJoinOperatorAnd(i,s,this.joinOperatorId+s)),this.eJoinOperatorsOr.forEach((i,s)=>this.resetJoinOperatorOr(i,s,this.joinOperatorId+s)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),$t.resolve()}resetType(t){const s=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(s).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(t,i,s){this.resetJoinOperator(t,i,this.isDefaultOperator("AND"),this.translate("andCondition"),s)}resetJoinOperatorOr(t,i,s){this.resetJoinOperator(t,i,this.isDefaultOperator("OR"),this.translate("orCondition"),s)}resetJoinOperator(t,i,s,r,o){this.updateJoinOperatorDisabled(t.setValue(s,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${o}`).setLabel(r),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((t,i)=>this.updateJoinOperatorDisabled(t,i)),this.eJoinOperatorsOr.forEach((t,i)=>this.updateJoinOperatorDisabled(t,i))}updateJoinOperatorDisabled(t,i){t.setDisabled(this.isReadOnly()||i>0)}resetInput(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())}setConditionIntoUi(t,i){const s=this.mapValuesFromModel(t);this.forEachInput((r,o,a,c)=>{a===i&&this.setElementValue(r,null!=s[o]?s[o]:null)})}setValueFromFloatingFilter(t){this.forEachInput((i,s,r,o)=>{this.setElementValue(i,0===s&&0===r?t:null)})}isDefaultOperator(t){return t===this.defaultJoinOperator}addChangedListeners(t,i){this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(i,s=>{this.attachElementOnChange(s,this.listener)}))}individualConditionPasses(t,i){const s=this.getCellValue(t.node),r=this.mapValuesFromModel(i),o=this.optionsFactory.getCustomOption(i.type);return this.evaluateCustomFilter(o,r,s)??(null==s?this.evaluateNullValue(i.type):this.evaluateNonNullValue(r,s,i,t))}evaluateCustomFilter(t,i,s){if(null==t)return;const{predicate:r}=t;return null==r||i.some(o=>null==o)?void 0:r(i,s)}isBlank(t){return null==t||"string"==typeof t&&0===t.trim().length}hasInvalidInputs(){return!1}}return n.EMPTY="empty",n.BLANK="blank",n.NOT_BLANK="notBlank",n.EQUALS="equals",n.NOT_EQUAL="notEqual",n.LESS_THAN="lessThan",n.LESS_THAN_OR_EQUAL="lessThanOrEqual",n.GREATER_THAN="greaterThan",n.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",n.IN_RANGE="inRange",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.STARTS_WITH="startsWith",n.ENDS_WITH="endsWith",n})();class Ae extends ft{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case Ae.EQUALS:case Ae.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case Ae.GREATER_THAN:case Ae.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case Ae.LESS_THAN:case Ae.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case Ae.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case Ae.BLANK:return!0;case Ae.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,t,i){const s=this.comparator(),r=null!=e[0]?s(e[0],t):0;switch(i.type){case Ae.EQUALS:return 0===r;case Ae.NOT_EQUAL:return 0!==r;case Ae.GREATER_THAN:return r>0;case Ae.GREATER_THAN_OR_EQUAL:return r>=0;case Ae.LESS_THAN:return r<0;case Ae.LESS_THAN_OR_EQUAL:return r<=0;case Ae.IN_RANGE:{const o=s(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&o<=0:r>0&&o<0}case Ae.BLANK:return this.isBlank(t);case Ae.NOT_BLANK:return!this.isBlank(t);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}}class yD extends v7{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:s}=t||{},r=i==ft.IN_RANGE||2===s,o=ls(e.dateFrom),a=ls(e.dateTo),c=this.dateFilterParams.inRangeFloatingFilterDateFormat;return r?`${null!==o?U0(o,c):"null"}-${null!==a?U0(a,c):"null"}`:null!=o?U0(o,c):`${i}`}}class c2 extends Ae{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=1/0}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:s}=e||{};return[t&&ls(t)||null,i&&ls(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:t>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,s)=>{if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?s:Number(e[i]);console.warn(`AG Grid: DateFilter ${i} is not a number`)}return s};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.filterModelFormatter=new yD(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new dD(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return c2.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,i,s){const r=document.createElement("div");r.classList.add(`ag-filter-${s}`),r.classList.add(`ag-filter-date-${s}`),t.push(r),e.appendChild(r),i.push(this.createDateCompWrapper(r))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(r=>r.destroy())}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;const t=s=>null!=s&&s.getUTCFullYear()>=this.minValidYear&&s.getUTCFullYear()<=this.maxValidYear;let i=!0;return this.forEachInput((s,r,o,a)=>{o!==e||!i||r>=a||(i=i&&t(s.getDate()))}),i}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},s=this.getValues(e);return s.length>0&&(i.dateFrom=ki(s[0])),s.length>1&&(i.dateTo=ki(s[1])),Object.assign({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},i)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(t),s.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,r,o)=>{s<o&&t.push(i.getDate())}),t}getModelAsString(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}}c2.DEFAULT_FILTER_OPTIONS=[Ae.EQUALS,Ae.GREATER_THAN,Ae.LESS_THAN,Ae.NOT_EQUAL,Ae.IN_RANGE,Ae.BLANK,Ae.NOT_BLANK],function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([C("userComponentFactory")],c2.prototype,"userComponentFactory",void 0);class bD extends me{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let i;i=e.operator?e.conditions[0]:e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)}init(e){this.optionsFactory=new hD,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;const t=this.isTypeEditable(this.lastType);this.setEditable(t)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return null==i||1==i}isTypeEditable(e){const t=[ft.IN_RANGE,ft.EMPTY,ft.BLANK,ft.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}}var E7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Y0 extends bD{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')}getDefaultFilterOptions(){return c2.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent();const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new yD(this.filterParams,this.localeService,this.optionsFactory)}setEditable(e){De(this.eDateWrapper,e),De(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){if(this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t))return;super.setLastTypeFromModel(e);const i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(i),i?(this.dateComp.setDate(e?ls(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))}onDateChanged(){const t=ki(this.dateComp.getDate());this.params.parentFilterInstance(i=>{if(i){const s=ls(t);i.onFloatingFilterChanged(this.getLastType()||null,s)}})}createDateComponent(){const e=us.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),t={onDateChanged:Ps(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new dD(this.getContext(),this.userComponentFactory,t,this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}getFilterModelFormatter(){return this.filterModelFormatter}}E7([C("userComponentFactory")],Y0.prototype,"userComponentFactory",void 0),E7([W("eReadOnlyText")],Y0.prototype,"eReadOnlyText",void 0),E7([W("eDateWrapper")],Y0.prototype,"eDateWrapper",void 0);class wD extends me{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(e){const t=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement(),s=this.shouldUseBrowserDatePicker(e);s&&(i.type="date");const r=s&&zi();this.addManagedListener(i,"mousedown",()=>{this.eDateInput.isDisabled()||r||i.focus()}),this.addManagedListener(i,"input",c=>{c.target===t.activeElement&&(this.eDateInput.isDisabled()||e.onDateChanged())});const{minValidYear:o,maxValidYear:a}=e.filterParams||{};o&&(i.min=`${o}-01-01`),a&&(i.max=`${a}-12-31`)}getDate(){return ls(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(ki(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:k0()||$p()||zi()&&jp()>=14.1}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([W("eDateInput")],wD.prototype,"eDateInput",void 0);class fa extends ds{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value!==e&&(this.eInput.value=I(e)?e:""),i}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListener(this.eInput,"keydown",i=>{a7(i)&&i.key&&!e.test(i.key)&&i.preventDefault()}),this.addManagedListener(this.eInput,"paste",i=>{var s;const r=null===(s=i.clipboardData)||void 0===s?void 0:s.getData("text");r&&r.split("").some(o=>!e.test(o))&&i.preventDefault()})}}class y7 extends fa{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const s=parseFloat(e).toFixed(this.precision);return parseFloat(s).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e||(this.min=e,lo(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,lo(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,lo(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(I(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return e(i);if(s||(s=(i=this.adjustPrecision(i))!=this.normalizeValue(i)),s)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"==typeof e&&e.includes("e")}}class SD extends v7{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==ft.IN_RANGE||2===i?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}}function MD(n){const{allowedCharPattern:e}=n??{};return e??null}class Sl extends Ae{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new SD(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return Sl.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=MD(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),jt(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,s){const r=this.createManagedBean(s?new fa({allowedCharPattern:s}):new y7);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,r,o)=>{s<o&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"==typeof e)return e;let t=so(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{t.getInputElement().validity.valid||(e=!0)}),e}}Sl.DEFAULT_FILTER_OPTIONS=[Ae.EQUALS,Ae.NOT_EQUAL,Ae.LESS_THAN,Ae.LESS_THAN_OR_EQUAL,Ae.GREATER_THAN,Ae.GREATER_THAN_OR_EQUAL,Ae.IN_RANGE,Ae.BLANK,Ae.NOT_BLANK];class TD extends v7{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==ft.IN_RANGE||2===i?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}}class Pt extends ft{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const t=e&&e.trim();return""===t?e:t}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?Pt.DEFAULT_FORMATTER:Pt.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new TD(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(re.doOnce(()=>console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead."),"textCustomComparator.deprecated"),({filterOption:t,value:i,filterText:s})=>e(t,i,s)):this.textFilterParams.textMatcher||Pt.DEFAULT_MATCHER}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,r,o)=>{if(s<o){const a=so(i.getValue()),c=(this.textFilterParams.trimInput?Pt.trimInput(a):a)||null;t.push(c),i.setValue(c,!0)}}),t}getDefaultFilterOptions(){return Pt.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),jt(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const s=this.createManagedBean(new fa);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(e){return!!e&&[ft.NOT_EQUAL,ft.NOT_CONTAINS,ft.BLANK].indexOf(e)>=0}evaluateNonNullValue(e,t,i,s){const r=e.map(g=>this.formatter(g))||[],o=this.formatter(t),{api:a,colDef:c,column:l,columnApi:u,context:d,textFormatter:f}=this.textFilterParams;if(i.type===ft.BLANK)return this.isBlank(t);if(i.type===ft.NOT_BLANK)return!this.isBlank(t);const p={api:a,colDef:c,column:l,columnApi:u,context:d,node:s.node,data:s.data,filterOption:i.type,value:o,textFormatter:f};return r.some(g=>this.matcher(Object.assign(Object.assign({},p),{filterText:g})))}getModelAsString(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}}Pt.DEFAULT_FILTER_OPTIONS=[ft.CONTAINS,ft.NOT_CONTAINS,ft.EQUALS,ft.NOT_EQUAL,ft.STARTS_WITH,ft.ENDS_WITH,ft.BLANK,ft.NOT_BLANK],Pt.DEFAULT_FORMATTER=n=>n,Pt.DEFAULT_LOWERCASE_FORMATTER=n=>null==n?null:n.toString().toLowerCase(),Pt.DEFAULT_MATCHER=({filterOption:n,value:e,filterText:t})=>{if(null==t)return!1;switch(n){case Pt.CONTAINS:return e.indexOf(t)>=0;case Pt.NOT_CONTAINS:return e.indexOf(t)<0;case Pt.EQUALS:return e===t;case Pt.NOT_EQUAL:return e!=t;case Pt.STARTS_WITH:return 0===e.indexOf(t);case Pt.ENDS_WITH:const i=e.lastIndexOf(t);return i>=0&&i===e.length-t.length;default:return!1}};var b7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class _D extends V{constructor(e){super(),this.params=e}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new fa(this.params.config)),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),e.appendChild(this.eFloatingFilterTextInput.getGui())}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}addValueChangedListener(e){const t=this.eFloatingFilterTextInput.getGui();this.addManagedListener(t,"input",e),this.addManagedListener(t,"keydown",e)}}class Ml extends bD{postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.params=e;const s=`${this.columnModel.getDisplayNameForColumn(e.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`;if(this.floatingFilterInputService=this.createFloatingFilterInputService(s),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer),super.init(e),this.applyActive=us.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const r=us.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o=Ps(this.syncUpWithParentFilter.bind(this),r);this.floatingFilterInputService.addValueChangedListener(o)}}syncUpWithParentFilter(e){if(this.applyActive&&e.key!==H.ENTER)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=Pt.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(s=>{s&&s.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}}b7([C("columnModel")],Ml.prototype,"columnModel",void 0),b7([W("eFloatingFilterInputContainer")],Ml.prototype,"eFloatingFilterInputContainer",void 0),b7([B],Ml.prototype,"postConstruct",null);class Dne extends V{constructor(e){super(),this.params=e,this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new y7),this.eFloatingFilterTextInput=this.createManagedBean(new fa),this.eFloatingFilterTextInput.setDisabled(!0),this.eFloatingFilterNumberInput.setInputAriaLabel(this.params.ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),e.appendChild(this.eFloatingFilterNumberInput.getGui()),e.appendChild(this.eFloatingFilterTextInput.getGui())}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}addValueChangedListener(e){this.setupListeners(this.eFloatingFilterNumberInput.getGui(),e),this.setupListeners(this.eFloatingFilterTextInput.getGui(),e)}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}}class Ane extends Ml{init(e){super.init(e),this.filterModelFormatter=new SD(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return Sl.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){const t=MD(this.params.filterParams);return this.createManagedBean(t?new _D({config:{allowedCharPattern:t},ariaLabel:e}):new Dne({ariaLabel:e}))}}class Rne extends Ml{init(e){super.init(e),this.filterModelFormatter=new TD(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return Pt.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.createManagedBean(new _D({ariaLabel:e}))}}let fi=(()=>{class n{constructor(t,i=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new as,this.eElement=t,this.preventMouseClick=i;const s=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",s,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",s,{passive:!0}),this.eElement.removeEventListener("touchmove",r,{passive:!0}),this.eElement.removeEventListener("touchend",o,{passive:!1})})}getActiveTouch(t){for(let i=0;i<t.length;i++)if(t[i].identifier===this.touchStart.identifier)return t[i];return null}addEventListener(t,i){this.eventService.addEventListener(t,i)}removeEventListener(t,i){this.eventService.removeEventListener(t,i)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;const i=this.touchStart;window.setTimeout(()=>{this.touching&&this.touchStart===i&&!this.moved&&(this.moved=!0,this.eventService.dispatchEvent({type:n.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:t}))},500)}onTouchMove(t){if(!this.touching)return;const i=this.getActiveTouch(t.touches);i&&!c7(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:n.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1)}checkForDoubleTap(){const t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>n.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:n.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t}destroy(){this.destroyFuncs.forEach(t=>t())}}return n.EVENT_TAP="tap",n.EVENT_DOUBLE_TAP="doubleTap",n.EVENT_LONG_TAP="longTap",n.DOUBLE_TAP_MILLIS=500,n})();var pa=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Us=(()=>{class n extends me{constructor(t){super(),t||this.setTemplate(n.TEMPLATE)}attachCustomElements(t,i,s,r,o){this.eSortOrder=t,this.eSortAsc=i,this.eSortDesc=s,this.eSortMixed=r,this.eSortNone=o}setupSort(t,i=!1){this.column=t,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(t,i,s){if(null==i)return;const r=At(t,this.gridOptionsService,s);r&&i.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&De(this.eSortAsc,"asc"===t,{skipAriaHidden:!0}),this.eSortDesc&&De(this.eSortDesc,"desc"===t,{skipAriaHidden:!0}),this.eSortNone){const i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon");De(this.eSortNone,!i&&null==t,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const t=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t&&(this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const t="mixed"===this.sortController.getDisplaySortForColumn(this.column);De(this.eSortMixed,t,{skipAriaHidden:!0})}}updateSortOrder(){var t;if(!this.eSortOrder)return;const i=this.sortController.getColumnsWithSortingOrdered(),s=null!==(t=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==t?t:-1,r=i.some(a=>{var c;return null!==(c=this.sortController.getDisplaySortIndexForColumn(a))&&void 0!==c&&c});De(this.eSortOrder,s>=0&&r,{skipAriaHidden:!0}),s>=0?this.eSortOrder.innerHTML=(s+1).toString():hi(this.eSortOrder)}}return n.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',n})();pa([W("eSortOrder")],Us.prototype,"eSortOrder",void 0),pa([W("eSortAsc")],Us.prototype,"eSortAsc",void 0),pa([W("eSortDesc")],Us.prototype,"eSortDesc",void 0),pa([W("eSortMixed")],Us.prototype,"eSortMixed",void 0),pa([W("eSortNone")],Us.prototype,"eSortNone",void 0),pa([C("columnModel")],Us.prototype,"columnModel",void 0),pa([C("sortController")],Us.prototype,"sortController",void 0);var pi=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Fn=(()=>{class n extends me{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)}workOutTemplate(){let t=C_(this.params.template,n.TEMPLATE);return t=t&&t.trim?t.trim():t,t}init(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)}setDisplayName(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;const i=zs(this.currentDisplayName);this.eText&&(this.eText.innerHTML=i)}}setupIcons(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)}addInIcon(t,i,s){if(null==i)return;const r=At(t,this.gridOptionsService,s);r&&i.appendChild(r)}setupTap(){const{gridOptionsService:t}=this;if(t.is("suppressTouch"))return;const i=new fi(this.getGui(),!0),s=t.is("suppressMenuHide"),r=s&&I(this.eMenu),o=r?new fi(this.eMenu,!0):i;this.params.enableMenu&&this.addManagedListener(o,fi[r?"EVENT_TAP":"EVENT_LONG_TAP"],l=>{t.api.showColumnMenuAfterMouseClick(this.params.column,l.touchStart)}),this.params.enableSorting&&this.addManagedListener(i,fi.EVENT_TAP,c=>{s&&this.eMenu.contains(c.touchStart.target)||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(()=>i.destroy()),r&&this.addDestroyFunc(()=>o.destroy())}workOutShowMenu(){const t=!this.gridOptionsService.is("suppressMenuHide"),i=ao()&&t;return this.params.enableMenu&&!i}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void Mr(this.eMenu);const t=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",()=>this.showMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",t)}showMenu(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Us(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;const t="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,Fe.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",s=>{const r=this.params.column.isMoving(),a=(new Date).getTime()-this.lastMovingChanged<50;r||a||this.params.progressSort(t?s.ctrlKey||s.metaKey:s.shiftKey)});const i=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const s=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),o=!s?.every(a=>this.params.column.getSort()==a.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",o)}};this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,i),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}setupFilterIcon(){this.eFilter&&(this.addManagedListener(this.params.column,Fe.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())}onFilterChanged(){const t=this.params.column.isFilterActive();De(this.eFilter,t,{skipAriaHidden:!0})}}return n.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',n})();pi([C("sortController")],Fn.prototype,"sortController",void 0),pi([C("menuFactory")],Fn.prototype,"menuFactory",void 0),pi([C("columnModel")],Fn.prototype,"columnModel",void 0),pi([W("eFilter")],Fn.prototype,"eFilter",void 0),pi([W("eSortIndicator")],Fn.prototype,"eSortIndicator",void 0),pi([W("eMenu")],Fn.prototype,"eMenu",void 0),pi([W("eLabel")],Fn.prototype,"eLabel",void 0),pi([W("eText")],Fn.prototype,"eText",void 0),pi([W("eSortOrder")],Fn.prototype,"eSortOrder",void 0),pi([W("eSortAsc")],Fn.prototype,"eSortAsc",void 0),pi([W("eSortDesc")],Fn.prototype,"eSortDesc",void 0),pi([W("eSortMixed")],Fn.prototype,"eSortMixed",void 0),pi([W("eSortNone")],Fn.prototype,"eSortNone",void 0);var w7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Q0=(()=>{class n extends me{constructor(){super(n.TEMPLATE)}destroy(){super.destroy()}init(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){if(this.params.template){const i="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";Le(()=>console.warn(i),"HeaderGroupComp.templateNotSupported")}}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const t=r=>{if(Fs(r))return;const o=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),o,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);const i=r=>{wr(r)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();const s=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(s,vt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(s,vt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(t,i){const s=new fi(t,!0);this.addManagedListener(s,fi.EVENT_TAP,i),this.addDestroyFunc(()=>s.destroy()),this.addManagedListener(t,"click",i)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const i=this.params.columnGroup.isExpanded();De(this.eOpenIcon,i),De(this.eCloseIcon,!i)}else De(this.eOpenIcon,!1),De(this.eCloseIcon,!1)}addInIcon(t,i){const s=At(t,this.gridOptionsService,null);s&&this.getRefElement(i).appendChild(s)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return De(this.eOpenIcon,!1),void De(this.eCloseIcon,!1)}setupLabel(){var t;const{displayName:i,columnGroup:s}=this.params;if(I(i)){const r=zs(i);this.getRefElement("agLabel").innerHTML=r}this.addOrRemoveCssClass("ag-sticky-label",!(null!==(t=s.getColGroupDef())&&void 0!==t&&t.suppressStickyLabel))}}return n.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',n})();w7([C("columnModel")],Q0.prototype,"columnModel",void 0),w7([W("agOpened")],Q0.prototype,"eOpenIcon",void 0),w7([W("agClosed")],Q0.prototype,"eCloseIcon",void 0);class l2 extends me{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}}let DD=(()=>{class n extends l2{constructor(){super(n.TEMPLATE)}init(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),I(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(t){const i=t.key;(i===H.LEFT||i===H.UP||i===H.RIGHT||i===H.DOWN||t.shiftKey&&i===H.ENTER)&&t.stopPropagation()}afterGuiAttached(){const t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const t=this.eTextArea.getValue();return I(t)||I(this.params.value)?this.params.parseValue(t):this.params.value}}return n.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([W("eTextArea")],DD.prototype,"eTextArea",void 0);var AD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class S7 extends l2{constructor(){super('<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>'),this.startedByEnter=!1}init(e){if(this.focusAfterAttached=e.cellStartedEdit,ne(e.values))return void console.warn("AG Grid: no values found for select cellEditor");this.startedByEnter=null!=e.eventKey&&e.eventKey===H.ENTER;let t=!1;e.values.forEach(i=>{const s={value:i},r=this.valueFormatterService.formatValue(e.column,null,i);s.text=null!=r?r:i,this.eSelect.addOption(s),t=t||e.value===i}),t?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),"fullRow"!==this.gridOptionsService.get("editType")&&this.addManagedListener(this.eSelect,wl.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}AD([C("valueFormatterService")],S7.prototype,"valueFormatterService",void 0),AD([W("eSelect")],S7.prototype,"eSelect",void 0);class Tl extends l2{constructor(e){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${e.getTemplate()}\n            </div>`),this.cellEditorInput=e}init(e){this.params=e;const t=this.eInput;let i;if(this.cellEditorInput.init(t,e),e.cellStartedEdit){this.focusAfterAttached=!0;const s=e.eventKey;s===H.BACKSPACE||e.eventKey===H.DELETE?i="":s&&1===s.length?i=s:(i=this.cellEditorInput.getStartValue(),s!==H.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();null!=i&&t.setStartValue(i),this.addManagedListener(t.getGui(),"keydown",s=>{const{key:r}=s;(r===H.PAGE_UP||r===H.PAGE_DOWN)&&s.preventDefault()})}afterGuiAttached(){var e,t;const i=this.localeService.getLocaleTextFunc(),s=this.eInput;if(s.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;zi()||s.getFocusableElement().focus();const r=s.getInputElement();this.highlightAllOnFocus?r.select():null===(t=(e=this.cellEditorInput).setCaret)||void 0===t||t.call(e)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([W("eInput")],Tl.prototype,"eInput",void 0);class Hne{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return I(e)||I(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=I(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}}class RD extends Tl{constructor(){super(new Hne)}}let LD=(()=>{class n extends me{constructor(){super(n.TEMPLATE),this.refreshCount=0}init(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)}showDelta(t,i){const s=Math.abs(i),r=t.formatValue(s),o=I(r)?r:s,a=i>=0;this.eDelta.innerHTML=a?"\u2191"+o:"\u2193"+o,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)}setTimerToRemoveDelta(){this.refreshCount++;const t=this.refreshCount;window.setTimeout(()=>{t===this.refreshCount&&this.hideDeltaValue()},2e3)}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),hi(this.eDelta)}refresh(t){const i=t.value;return i!==this.lastValue&&(I(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:I(t.value)?this.eValue.innerHTML=i:hi(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof i&&"number"==typeof this.lastValue&&this.showDelta(t,i-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=i,!0)}}return n.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([C("filterManager")],LD.prototype,"filterManager",void 0);let ND=(()=>{class n extends me{constructor(){super(n.TEMPLATE),this.refreshCount=0,this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(t){this.refresh(t)}addSlideAnimation(){this.refreshCount++;const t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=en('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(()=>{t===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{t===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)}refresh(t){let i=t.value;return ne(i)&&(i=""),i!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=i,I(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:I(t.value)?this.eCurrent.innerHTML=i:hi(this.eCurrent),!0)}}return n.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([C("filterManager")],ND.prototype,"filterManager",void 0);let Me=(()=>{class n{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=n.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){const s=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(t,s,i);this.dispatchLocalEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,s){return{type:n.EVENT_DATA_CHANGED,node:this,oldData:i,newData:t,update:s}}createLocalRowEvent(t){return{type:t,node:this}}getRowIndexString(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new n(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){const s=I(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.beans.selectionService.syncInRowNode(this,s),this.checkRowSelectable();const o=this.createDataChangedEvent(t,r,!1);this.dispatchLocalEvent(o)}checkRowSelectable(){const t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))}setRowSelectable(t){if(this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){const s=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:s??!1,source:"selectableChanged"})}}setId(t){const i=this.beans.gridOptionsService.getCallback("getRowId");if(i)if(this.data){const s=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(n.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${n.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t}getGroupKeys(t=!1){const i=[];let s=this;for(t&&(s=s.parent);s&&s.level>=0;)i.push(s.key),s=s.parent;return i.reverse(),i}isPixelInRange(t){return!(!I(this.rowTop)||!I(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DISPLAYED_CHANGED)))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DRAGGING_CHANGED)))}setHighlighted(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HIGHLIGHT_CHANGED)))}setHovered(t){this.hovered!==t&&(this.hovered=t)}isHovered(){return this.hovered}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_MASTER_CHANGED)))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_GROUP_CHANGED)))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Ps(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,i=!0,s=0;const r=this.__autoHeights;if(null==r||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(c=>{let l=r[c.getId()];if(null==l){if(!this.beans.columnModel.isColSpanActive())return void(t=!0);{let u=[];switch(c.getPinned()){case"left":u=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":u=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:u=this.beans.columnModel.getViewportCenterColumnsForRow(this)}if(u.includes(c))return void(t=!0);l=-1}}else i=!1;l>s&&(s=l)}),t)||((i||s<10)&&(s=this.beans.gridOptionsService.getRowHeightForNode(this).height),s==this.rowHeight))return;this.setRowHeight(s);const a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_UI_LEVEL_CHANGED)))}setExpanded(t,i){if(this.expanded===t)return;this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_EXPANDED_CHANGED));const s=Object.assign({},this.createGlobalRowEvent(v.EVENT_ROW_GROUP_OPENED),{expanded:t,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(s),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}}dispatchLocalEvent(t){this.eventService&&this.eventService.dispatchEvent(t)}setDataValue(t,i,s){const o=(()=>{var l;return"string"!=typeof t?t:null!==(l=this.beans.columnModel.getGridColumn(t))&&void 0!==l?l:this.beans.columnModel.getPrimaryColumn(t)})(),a=this.getValueFromValueService(o);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(o,a,i,s),!1;const c=this.beans.valueService.setValue(this,o,i,s);return this.dispatchCellChangedEvent(o,i,a),this.checkRowSelectable(),c}getValueFromValueService(t){const i=this.leafGroup&&this.beans.columnModel.isPivotMode(),s=this.group&&this.expanded&&!this.footer&&!i,r=this.beans.gridOptionsService.is("groupIncludeFooter"),o=this.beans.gridOptionsService.is("groupSuppressBlankHeader");return this.beans.valueService.getValue(t,this,!1,s&&r&&!o)}dispatchEventForSaveValueReadOnly(t,i,s,r){const o={type:v.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:i,newValue:s,value:s,source:r};this.beans.eventService.dispatchEvent(o)}setGroupValue(t,i){const s=this.beans.columnModel.getGridColumn(t);ne(this.groupData)&&(this.groupData={});const r=s.getColId(),o=this.groupData[r];o!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(s,i,o))}setAggData(t){const i=a_([this.aggData,t]),s=this.aggData;this.aggData=t,this.eventService&&i.forEach(r=>{const o=this.beans.columnModel.getGridColumn(r);this.dispatchCellChangedEvent(o,this.aggData?this.aggData[r]:void 0,s?s[r]:void 0)})}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const s=this.beans.gridOptionsService.isTreeData(),r=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(s?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&ui(this.childrenAfterGroup)}dispatchCellChangedEvent(t,i,s){this.dispatchLocalEvent({type:n.EVENT_CELL_CHANGED,node:this,column:t,newValue:i,oldValue:s})}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!!(this.hasChildren()&&!this.footer||this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var t;let i=!1,s=!1,r=!1;if(null===(t=this.childrenAfterGroup)||void 0===t||!t.length)return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){const a=this.childrenAfterGroup[o];let c=a.isSelected();if(!a.selectable){const l=a.calculateSelectedFromChildren();if(null===l)continue;c=l}switch(c){case!0:i=!0;break;case!1:s=!0;break;default:r=!0}}return r||i&&s?void 0:!!i||!s&&(this.selectable?this.selected:null)}setSelectedInitialValue(t){this.selected=t}selectThisNode(t,i,s="api"){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_ROW_SELECTED));const a=Object.assign(Object.assign({},this.createGlobalRowEvent(v.EVENT_ROW_SELECTED)),{event:i||null,source:s});return this.beans.eventService.dispatchEvent(a),!0}setSelected(t,i=!1,s="api"){"boolean"!=typeof s?this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:s}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Object.assign(Object.assign({},t),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(t){let i=this.parent;for(;i;){if(i===t)return!0;i=i.parent}return!1}addEventListener(t,i){this.eventService||(this.eventService=new as),this.eventService.addEventListener(t,i)}removeEventListener(t,i){this.eventService&&(this.eventService.removeEventListener(t,i),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(t){let i=this,s=!0,r=!1,o=null;for(;s&&!r;){const a=i.parent;I(a)&&i.firstChild?a.rowGroupColumn===t&&(r=!0,o=a):s=!1,i=a}return r?o:null}isFullWidthCell(){const t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})}getRoute(){if(null==this.key)return;const t=[];let i=this;for(;null!=i.key;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new n(this.beans);Object.keys(this).forEach(i=>{t[i]=this[i]}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}}return n.ID_PREFIX_ROW_GROUP="row-group-",n.ID_PREFIX_TOP_PINNED="t-",n.ID_PREFIX_BOTTOM_PINNED="b-",n.OBJECT_ID_SEQUENCE=0,n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_DATA_CHANGED="dataChanged",n.EVENT_CELL_CHANGED="cellChanged",n.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",n.EVENT_MASTER_CHANGED="masterChanged",n.EVENT_GROUP_CHANGED="groupChanged",n.EVENT_MOUSE_ENTER="mouseEnter",n.EVENT_MOUSE_LEAVE="mouseLeave",n.EVENT_HEIGHT_CHANGED="heightChanged",n.EVENT_TOP_CHANGED="topChanged",n.EVENT_DISPLAYED_CHANGED="displayedChanged",n.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",n.EVENT_LAST_CHILD_CHANGED="lastChildChanged",n.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",n.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",n.EVENT_SELECTABLE_CHANGED="selectableChanged",n.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",n.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",n.EVENT_DRAGGING_CHANGED="draggingChanged",n})();var HD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class X0 extends me{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}postConstruct(){this.eCheckbox.setPassive(!0),V_(this.eCheckbox.getInputElement(),"polite")}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=F0(e,t),s=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",s=>{wr(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",s=>{wr(s);const r=this.gridOptionsService.is("groupSelectsFiltered"),o=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(o,r)?0===this.onClicked(!0,r,s||{})&&this.onClicked(!1,r,s):o?this.onClicked(!1,r,s):this.onClicked(!0,r,s||{})}),this.addManagedListener(this.rowNode,Me.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){const s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,Me.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,Me.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var e,t,i,s;let r=this.rowNode.selectable;const o=this.getIsVisible();if(r)if("function"==typeof o){const c=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,l=null===(t=this.column)||void 0===t?void 0:t.createColumnFunctionCallbackParams(this.rowNode);r=!!l&&o(Object.assign(Object.assign({},c),l))}else r=o??!1;if(null===(i=this.column)||void 0===i?void 0:i.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!r),this.setVisible(!0),void this.setDisplayed(!0);null!==(s=this.overrides)&&void 0!==s&&s.removeHidden?this.setDisplayed(r):this.setVisible(r)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:null===(t=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===t?void 0:t.checkboxSelection}}HD([W("eCheckbox")],X0.prototype,"eCheckbox",void 0),HD([B],X0.prototype,"postConstruct",null);var gi,ga=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},zn=function(n){return n[n.ToolPanel=0]="ToolPanel",n[n.HeaderCell=1]="HeaderCell",n[n.RowDrag=2]="RowDrag",n[n.ChartPanel=3]="ChartPanel",n}(zn||{}),_l=function(n){return n[n.Up=0]="Up",n[n.Down=1]="Down",n}(_l||{}),Dr=function(n){return n[n.Left=0]="Left",n[n.Right=1]="Right",n}(Dr||{});let He=gi=class extends V{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=Bi("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Bi("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Bi("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Bi("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Bi("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Bi("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Bi("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Bi("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Bi("dropNotAllowed",this.gridOptionsService,null)}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),fn(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var i,s,r,o;const a=this.getHorizontalDirection(e),c=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const l=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),u=this.findCurrentDropTarget(e,l);if(u!==this.lastDropTarget)this.leaveLastTargetIfExists(e,a,c,t),null!==this.lastDropTarget&&null===u&&(null===(s=(i=this.dragSource).onGridExit)||void 0===s||s.call(i,this.dragItem)),null===this.lastDropTarget&&null!==u&&(null===(o=(r=this.dragSource).onGridEnter)||void 0===o||o.call(r,this.dragItem)),this.enterDragTargetIfExists(u,e,a,c,t),this.lastDropTarget=u;else if(u&&u.onDragging){const d=this.createDropTargetEvent(u,e,a,c,t);u.onDragging(d)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const s=i.getBoundingClientRect();if(0===s.width||0===s.height)return!1;if(!(e.clientX>=s.left&&e.clientX<s.right&&e.clientY>=s.top&&e.clientY<s.bottom))return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let s=!1;for(const r of i)if(this.allContainersIntersect(e,r)){s=!0;break}return!(t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement))&&s&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){const i=t.length;if(0===i)return null;if(1===i)return t[0];const r=this.gridOptionsService.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const o of r)for(const a of t)if(-1!==E_(this.getAllContainersFromDropTarget(a)).indexOf(o))return a;return null}enterDragTargetIfExists(e,t,i,s,r){if(e){if(e.onDragEnter){const o=this.createDropTargetEvent(e,t,i,s,r);e.onDragEnter(o)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,i,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,e,t,i,s);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?Dr.Left:Dr.Right}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?_l.Up:_l.Down}createDropTargetEvent(e,t,i,s,r){const o=e.getContainer(),a=o.getBoundingClientRect(),{gridApi:c,columnApi:l,dragItem:u,dragSource:d}=this;return{event:t,x:t.clientX-a.left,y:t.clientY-a.top,vDirection:s,hDirection:i,dragSource:d,fromNudge:r,dragItem:u,api:c,columnApi:l,dropZoneTarget:o}}positionGhost(e){const t=this.eGhost;if(!t)return;const s=t.getBoundingClientRect().height,r=q_()-2,o=K_()-2,a=Jp(t.offsetParent),{clientY:c,clientX:l}=e;let u=c-a.top-s/2,d=l-a.left-10;const f=this.gridOptionsService.getDocument(),p=f.defaultView||window,g=p.pageYOffset||f.documentElement.scrollTop,m=p.pageXOffset||f.documentElement.scrollLeft;r>0&&d+t.clientWidth>r+m&&(d=r+m-t.clientWidth),d<0&&(d=0),o>0&&u+t.clientHeight>o+g&&(u=o+g-t.clientHeight),u<0&&(u=0),t.style.left=`${d}px`,t.style.top=`${u}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=en(gi.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const t=this.eGhost.querySelector(".ag-dnd-ghost-label");let i=this.dragSource.dragItemName;A0(i)&&(i=i()),t.innerHTML=zs(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const s=this.gridOptionsService.getDocument();let r=null;try{r=s.fullscreenElement}catch{}finally{if(!r){const o=this.gridOptionsService.getRootNode();r=o.querySelector("body")||(o instanceof ShadowRoot?o:o?.documentElement)}}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){hi(this.eGhostIcon);let i=null;switch(e||(e=this.dragSource.defaultIconName||gi.ICON_NOT_ALLOWED),e){case gi.ICON_PINNED:i=this.ePinnedIcon;break;case gi.ICON_MOVE:i=this.eMoveIcon;break;case gi.ICON_LEFT:i=this.eLeftIcon;break;case gi.ICON_RIGHT:i=this.eRightIcon;break;case gi.ICON_GROUP:i=this.eGroupIcon;break;case gi.ICON_AGGREGATE:i=this.eAggregateIcon;break;case gi.ICON_PIVOT:i=this.ePivotIcon;break;case gi.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case gi.ICON_HIDE:i=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),(i!==this.eHideIcon||!this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}};He.ICON_PINNED="pinned",He.ICON_MOVE="move",He.ICON_LEFT="left",He.ICON_RIGHT="right",He.ICON_GROUP="group",He.ICON_AGGREGATE="aggregate",He.ICON_PIVOT="pivot",He.ICON_NOT_ALLOWED="notAllowed",He.ICON_HIDE="hide",He.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',ga([C("dragService")],He.prototype,"dragService",void 0),ga([C("mouseEventService")],He.prototype,"mouseEventService",void 0),ga([C("columnApi")],He.prototype,"columnApi",void 0),ga([C("gridApi")],He.prototype,"gridApi",void 0),ga([B],He.prototype,"init",null),ga([Wt],He.prototype,"clearDragSourceParamsList",null),He=gi=ga([$("dragAndDropService")],He);var Dl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class ma extends me{constructor(e,t,i,s,r,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=s,this.dragStartPixels=r,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(At("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gridOptionsService.is("rowDragManaged")?new OD(this,this.beans,this.rowNode,this.column):new ID(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]}checkCompatibility(){const e=this.gridOptionsService.is("rowDragManaged");this.gridOptionsService.isTreeData()&&e&&Le(()=>console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true"),"RowDragComp.managedAndTreeData")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getRowDragText(this.column),i=this.localeService.getLocaleTextFunc();this.dragSource={type:zn.RowDrag,eElement:this.getGui(),dragItemName:()=>{var s;const r=this.getDragItem(),o=(null===(s=r.rowNodes)||void 0===s?void 0:s.length)||1;return t?t(r,o):1===o?this.cellValueFn():`${o} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}}Dl([C("beans")],ma.prototype,"beans",void 0),Dl([B],ma.prototype,"postConstruct",null),Dl([Wt],ma.prototype,"removeDragSource",null);class xD extends V{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,s=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),s=A0(this.column.getColDef().rowDrag)),s?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}}class ID extends xD{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(e)}}Dl([B],ID.prototype,"postConstruct",null);class OD extends xD{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,v.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),s=this.gridOptionsService.is("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!r||s)}}Dl([B],OD.prototype,"postConstruct",null);var Al=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class u2 extends V{init(e,t,i,s,r,o,a){this.params=a,this.eGui=t,this.eCheckbox=i,this.eExpanded=s,this.eContracted=r,this.comp=e,this.compClass=o;const c=this.isTopLevelFooter(),l=this.isEmbeddedRowMismatch(),u=null==a.value&&!a.node.master;let d=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){const f=a.node;f.footer&&(d=(a.colDef&&a.colDef.showRowGroup)!==(f.rowGroupColumn&&f.rowGroupColumn.getColId()))}this.cellIsBlank=!c&&(l||u&&!a.node.master||d),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eParentOfValue:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable())return void F_(t);const i=()=>{cs(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,Me.EVENT_EXPANDED_CHANGED,i)||null,i()}isTopLevelFooter(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;const e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;const i=this.columnModel.getRowGroupColumns();return!i||0===i.length||i[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;const e="left"===this.params.pinned,t="right"===this.params.pinned,i=!e&&!t;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!t:!i:this.columnModel.isPinningLeft()?!e:!i}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let i=t.parent;for(;null!=i;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}}ne(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){const e=this.params.node,t=this.params.column;if(!this.gridOptionsService.is("groupHideOpenParents"))return void(this.showingValueForOpenedParent=!1);if(!e.groupData)return void(this.showingValueForOpenedParent=!1);if(null!=e.rowGroupColumn){const r=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(r))return void(this.showingValueForOpenedParent=!1)}const s=null!=e.groupData[t.getId()];this.showingValueForOpenedParent=s}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){const e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),{valueFormatted:i,value:s}=e;let r=i;null==r&&(r=""===s&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):s??null),this.comp.setInnerRenderer(t,r)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(null!=t&&!t.isRowGroupDisplayed(e.getId()))return this.params;const s=this.params,{value:r,node:o}=this.params,a=this.valueFormatterService.formatValue(e,o,r);return Object.assign(Object.assign({},s),{valueFormatted:a})}addFooterValue(){const e=this.params.footerValueGetter;let t="";if(e){const s=gp(this.params);s.value=this.params.value,"function"==typeof e?t=e(s):"string"==typeof e?t=this.expressionService.evaluate(e,s):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+(null!=this.params.value?this.params.value:"");const i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);const t=this.userComponentFactory.getInnerRendererDetails(e,e),i=a=>a&&a.componentClass==this.compClass;if(t&&!i(t))return t;const s=this.displayedGroupNode.rowGroupColumn,r=s?s.getColDef():void 0;if(!r)return;const o=this.userComponentFactory.getCellRendererDetails(r,e);return o&&!i(o)?o:i(o)&&r.cellRendererParams&&r.cellRendererParams.innerRenderer?this.userComponentFactory.getInnerRendererDetails(r.cellRendererParams,e):void 0}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Me.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,s=this.isShowRowGroupForThisRow()&&null!=e&&e>=0?`(${e})`:"";this.comp.setChildCount(s)}isShowRowGroupForThisRow(){if(this.gridOptionsService.isTreeData())return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return null==t||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const t=this.params,i=At("groupExpanded",this.gridOptionsService,null),s=At("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),s&&this.eContracted.appendChild(s);const r=t.eGridCell;!((null===(e=this.params.column)||void 0===e?void 0:e.isCellEditable(t.node))&&this.gridOptionsService.is("enableGroupEdit"))&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(r,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,Me.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const a=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Me.EVENT_ALL_CHILDREN_COUNT_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Me.EVENT_MASTER_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Me.EVENT_GROUP_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Me.EVENT_HAS_CHILDREN_CHANGED,a)}onExpandClicked(e){Fs(e)||(wr(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,i=!t.expanded;!i&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(i,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||t)return!1;const s=this.params.column;return null==s||"string"!=typeof s.getColDef().showRowGroup||this.isShowRowGroupForThisRow()}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,columnModel:i}=this,{node:s}=e,r=this.isExpandable();if(r){const u=!!this.showingValueForOpenedParent||s.expanded;this.comp.setExpandedDisplayed(u),this.comp.setContractedDisplayed(!u)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const o=i.isPivotMode(),a=o&&t.leafGroup,c=r&&!a,l=s.footer&&-1===s.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",c),this.comp.addOrRemoveCssClass("ag-row-group",c),o?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",a):l||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!c)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Me.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.is("groupHideOpenParents"))return;const e=this.params,t=e.node,i=!!e.colDef,s=this.gridOptionsService.isTreeData(),o=!i||s||!0===e.colDef.showRowGroup?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+o,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new ma(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return"function"==typeof e||!0===e}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){const i=new X0;this.getContext().createBean(i),i.init({rowNode:e,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(i))}this.comp.setCheckboxVisible(t)}onKeyDown(e){e.key!==H.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){Fs(e)||H0(this.eExpanded,e)||H0(this.eContracted,e)||this.onExpandOrContract(e)}}Al([C("expressionService")],u2.prototype,"expressionService",void 0),Al([C("valueFormatterService")],u2.prototype,"valueFormatterService",void 0),Al([C("columnModel")],u2.prototype,"columnModel",void 0),Al([C("userComponentFactory")],u2.prototype,"userComponentFactory",void 0),Al([C("ctrlsService")],u2.prototype,"ctrlsService",void 0);var Rl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Ca=(()=>{class n extends me{constructor(){super(n.TEMPLATE)}init(t){const i={setInnerRenderer:(a,c)=>this.setRenderDetails(a,c),setChildCount:a=>this.eChildCount.innerHTML=a,addOrRemoveCssClass:(a,c)=>this.addOrRemoveCssClass(a,c),setContractedDisplayed:a=>De(this.eContracted,a),setExpandedDisplayed:a=>De(this.eExpanded,a),setCheckboxVisible:a=>this.eCheckbox.classList.toggle("ag-invisible",!a)},s=this.createManagedBean(new u2),r=!t.colDef,o=this.getGui();s.init(i,o,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),r&&jt(o,"gridcell")}setRenderDetails(t,i){if(t){const s=t.newAgStackInstance();if(!s)return;s.then(r=>{if(!r)return;const o=()=>this.context.destroyBean(r);this.isAlive()?(this.eValue.appendChild(r.getGui()),this.addDestroyFunc(o)):o()})}else this.eValue.innerText=i}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}}return n.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',n})();Rl([W("eExpanded")],Ca.prototype,"eExpanded",void 0),Rl([W("eContracted")],Ca.prototype,"eContracted",void 0),Rl([W("eCheckbox")],Ca.prototype,"eCheckbox",void 0),Rl([W("eValue")],Ca.prototype,"eValue",void 0),Rl([W("eChildCount")],Ca.prototype,"eChildCount",void 0);var VD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let M7=(()=>{class n extends me{constructor(){super(n.TEMPLATE)}init(t){t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")}setupLoading(){const t=At("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);const i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(t){return!1}destroy(){super.destroy()}}return n.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',n})();VD([W("eLoadingIcon")],M7.prototype,"eLoadingIcon",void 0),VD([W("eLoadingText")],M7.prototype,"eLoadingText",void 0);let Pne=(()=>{class n extends me{constructor(){super()}destroy(){super.destroy()}init(t){var i;const s=null!==(i=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==i?i:n.DEFAULT_LOADING_OVERLAY_TEMPLATE,r=this.localeService.getLocaleTextFunc(),o=s.replace("[LOADING...]",r("loadingOoo","Loading..."));this.setTemplate(o)}}return n.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',n})(),Fne=(()=>{class n extends me{constructor(){super()}destroy(){super.destroy()}init(t){var i;const s=null!==(i=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==i?i:n.DEFAULT_NO_ROWS_TEMPLATE,r=this.localeService.getLocaleTextFunc(),o=s.replace("[NO_ROWS_TO_SHOW]",r("noRowsToShow","No Rows To Show"));this.setTemplate(o)}}return n.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',n})();class zne extends l2{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().innerHTML=zs(t)}}class kne{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step),t.showStepperButtons&&e.getInputElement().classList.add("ag-number-field-input-stepper")}getValue(){const e=this.eInput.getValue();if(!I(e)&&!I(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"==typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}}class Gne extends Tl{constructor(){super(new kne)}}class Bne{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return I(e)||I(this.params.value)?e??null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return ki(e,!1)}}class Une extends Tl{constructor(){super(new Bne)}}class jne{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return I(e)||I(this.params.value)?this.params.parseValue(e??""):this.params.value}getStartValue(){var e,t;return ki(null!==(t=this.parseDate(null!==(e=this.params.value)&&void 0!==e?e:void 0))&&void 0!==t?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction()(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction()(e)}}class PD extends Tl{constructor(){super(new jne(()=>this.dataTypeService))}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([C("dataTypeService")],PD.prototype,"dataTypeService",void 0);let FD=(()=>{class n extends me{constructor(){super(n.TEMPLATE)}init(t){this.params=t,this.updateCheckbox(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",s=>{if(wr(s),this.eCheckbox.isDisabled())return;const r=this.eCheckbox.getValue();this.onCheckboxChanged(r)}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",s=>{wr(s)});const i=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",s=>{if(s.key===H.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===i.activeElement&&this.eCheckbox.toggle();const r=this.eCheckbox.getValue();this.onCheckboxChanged(r),s.preventDefault()}})}refresh(t){return this.params=t,this.updateCheckbox(t),!0}updateCheckbox(t){var i,s,r;let o,a=!0;if(t.node.group&&t.column){const f=t.column.getColId();f.startsWith(J1)?o=null==t.value||""===t.value?void 0:"true"===t.value:t.node.aggData&&void 0!==t.node.aggData[f]?o=null!==(i=t.value)&&void 0!==i?i:void 0:a=!1}else o=null!==(s=t.value)&&void 0!==s?s:void 0;if(!a)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(o);const c=null!=t.disabled?t.disabled:!(null!==(r=t.column)&&void 0!==r&&r.isCellEditable(t.node));this.eCheckbox.setDisabled(c);const l=this.localeService.getLocaleTextFunc(),u=F0(l,o),d=c?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;this.eCheckbox.setInputAriaLabel(d)}onCheckboxChanged(t){const{column:i,node:s,rowIndex:r,value:o}=this.params,a={type:v.EVENT_CELL_EDITING_STARTED,column:i,colDef:i?.getColDef(),data:s.data,node:s,rowIndex:r,rowPinned:s.rowPinned,value:o};this.eventService.dispatchEvent(a);const c=this.params.node.setDataValue(this.params.column,t,"edit"),l={type:v.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i?.getColDef(),data:s.data,node:s,rowIndex:r,rowPinned:s.rowPinned,value:o,oldValue:o,newValue:t,valueChanged:c};this.eventService.dispatchEvent(l)}}return n.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([W("eCheckbox")],FD.prototype,"eCheckbox",void 0);class zD extends l2{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}init(e){var t;this.params=e;const i=null!==(t=e.value)&&void 0!==t?t:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,uo.EVENT_CHANGED,s=>this.setAriaLabel(s.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=F0(t,e),s=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([W("eCheckbox")],zD.prototype,"eCheckbox",void 0);var T7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Ll=class extends V{constructor(){super(...arguments),this.agGridDefaults={agDateInput:wD,agColumnHeader:Fn,agColumnGroupHeader:Q0,agSortIndicator:Us,agTextColumnFloatingFilter:Rne,agNumberColumnFloatingFilter:Ane,agDateColumnFloatingFilter:Y0,agReadOnlyFloatingFilter:h7,agAnimateShowChangeCellRenderer:LD,agAnimateSlideCellRenderer:ND,agGroupCellRenderer:Ca,agGroupRowRenderer:Ca,agLoadingCellRenderer:M7,agCheckboxCellRenderer:FD,agCellEditor:RD,agTextCellEditor:RD,agNumberCellEditor:Gne,agDateCellEditor:Une,agDateStringCellEditor:PD,agSelectCellEditor:S7,agLargeTextCellEditor:DD,agCheckboxCellEditor:zD,agTextColumnFilter:Pt,agNumberColumnFilter:Sl,agDateColumnFilter:c2,agLoadingOverlay:Pne,agNoRowsOverlay:Fne,agTooltipComponent:zne},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:K.SetFilterModule,agSetColumnFloatingFilter:K.SetFilterModule,agMultiColumnFilter:K.MultiFilterModule,agMultiColumnFloatingFilter:K.MultiFilterModule,agGroupColumnFilter:K.RowGroupingModule,agGroupColumnFloatingFilter:K.RowGroupingModule,agRichSelect:K.RichSelectModule,agRichSelectCellEditor:K.RichSelectModule,agDetailCellRenderer:K.MasterDetailModule,agSparklineCellRenderer:K.SparklinesModule},this.jsComps={}}init(){null!=this.gridOptions.components&&lt(this.gridOptions.components,(e,t)=>this.registerJsComponent(e,t))}registerDefaultComponent(e,t){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(c,l)=>({componentFromFramework:l,component:c}),s=this.getFrameworkOverrides().frameworkComponent(t,this.gridOptions.components);if(null!=s)return i(s,!0);const r=this.jsComps[t];if(r)return i(r,this.getFrameworkOverrides().isFrameworkComponent(r));const o=this.agGridDefaults[t];if(o)return i(o,!1);const a=this.enterpriseAgDefaultCompsModule[t];return a?ie.__assertRegistered(a,`AG Grid '${e}' component: ${t}`,this.context.getGridId()):Le(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const s=Dp(t,[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],!0,.8);console.warn(`AG Grid: Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),s.length>0&&console.warn(`         Did you mean: [${s.slice(0,3)}]?`),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")}};T7([C("gridOptions")],Ll.prototype,"gridOptions",void 0),T7([B],Ll.prototype,"init",null),Ll=T7([$("userComponentRegistry")],Ll);const Kne={propertyName:"dateComponent",cellRenderer:!1},Yne={propertyName:"headerComponent",cellRenderer:!1},Qne={propertyName:"headerGroupComponent",cellRenderer:!1},kD={propertyName:"cellRenderer",cellRenderer:!0},Xne={propertyName:"cellEditor",cellRenderer:!1},GD={propertyName:"innerRenderer",cellRenderer:!0},Zne={propertyName:"loadingOverlayComponent",cellRenderer:!1},Jne={propertyName:"noRowsOverlayComponent",cellRenderer:!1},eie={propertyName:"tooltipComponent",cellRenderer:!1},_7={propertyName:"filter",cellRenderer:!1},tie={propertyName:"floatingFilterComponent",cellRenderer:!1},nie={propertyName:"toolPanel",cellRenderer:!1},iie={propertyName:"statusPanel",cellRenderer:!1},sie={propertyName:"fullWidthCellRenderer",cellRenderer:!0},rie={propertyName:"loadingCellRenderer",cellRenderer:!0},oie={propertyName:"groupRowRenderer",cellRenderer:!0},aie={propertyName:"detailCellRenderer",cellRenderer:!0};let cie=(()=>{class n{static getFloatingFilterType(t){return this.filterToFloatingFilterMapping[t]}}return n.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n})();var d2=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let ho=class extends V{getHeaderCompDetails(e,t){return this.getCompDetails(e,Yne,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,Qne,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,sie,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,rie,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,oie,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,aie,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,GD,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,GD,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,kD,null,t)}getCellEditorDetails(e,t){return this.getCompDetails(e,Xne,"agCellEditor",t,!0)}getFilterDetails(e,t,i){return this.getCompDetails(e,_7,i,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,Kne,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,Zne,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,Jne,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,eie,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,kD,null,t)}getFloatingFilterCompDetails(e,t,i){return this.getCompDetails(e,tie,i,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,nie,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,iie,null,t,!0)}getCompDetails(e,t,i,s,r=!1){const{propertyName:o,cellRenderer:a}=t;let{compName:c,jsComp:l,fwComp:u,paramsFromSelector:d,popupFromSelector:f,popupPositionFromSelector:p}=this.getCompKeys(e,t,s);const g=w=>{const T=this.userComponentRegistry.retrieve(o,w);T&&(l=T.componentFromFramework?void 0:T.component,u=T.componentFromFramework?T.component:void 0)};if(null!=c&&g(c),null==l&&null==u&&null!=i&&g(i),l&&a&&!this.agComponentUtils.doesImplementIComponent(l)&&(l=this.agComponentUtils.adaptFunction(o,l)),!l&&!u)return void(r&&console.error(`AG Grid: Could not find component ${c}, did you forget to configure this component?`));const m=this.mergeParamsWithApplicationProvidedParams(e,t,s,d),y=null==l,M=l||u;return{componentFromFramework:y,componentClass:M,params:m,type:t,popupFromSelector:f,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(M,y,m,t)}}getCompKeys(e,t,i){const{propertyName:s}=t;let r,o,a,c,l,u;if(e){const d=e,f=d[s+"Selector"],p=f?f(i):null,g=m=>{"string"==typeof m?r=m:null!=m&&!0!==m&&(this.getFrameworkOverrides().isFrameworkComponent(m)?a=m:o=m)};p?(g(p.component),c=p.params,l=p.popup,u=p.popupPosition):g(d[s])}return{compName:r,jsComp:o,fwComp:a,paramsFromSelector:c,popupFromSelector:l,popupPositionFromSelector:u}}newAgStackInstance(e,t,i,s){let a;if(t){const l=this.componentMetadataProvider.retrieve(s.propertyName);a=this.frameworkComponentWrapper.wrap(e,l.mandatoryMethodList,l.optionalMethodList,s)}else a=new e;const c=this.initComponent(a,i);return null==c?$t.resolve(a):c.then(()=>a)}mergeParamsWithApplicationProvidedParams(e,t,i,s=null){const r={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};di(r,i);const a=e&&e[t.propertyName+"Params"];return"function"==typeof a?di(r,a(i)):"object"==typeof a&&di(r,a),di(r,s),r}initComponent(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)}getDefaultFloatingFilterType(e,t){if(null==e)return null;let i=null,{compName:s,jsComp:r,fwComp:o}=this.getCompKeys(e,_7);return s?i=cie.getFloatingFilterType(s):null==r&&null==o&&!0===e.filter&&(i=t()),i}};d2([C("gridOptions")],ho.prototype,"gridOptions",void 0),d2([C("agComponentUtils")],ho.prototype,"agComponentUtils",void 0),d2([C("componentMetadataProvider")],ho.prototype,"componentMetadataProvider",void 0),d2([C("userComponentRegistry")],ho.prototype,"userComponentRegistry",void 0),d2([Pe("frameworkComponentWrapper")],ho.prototype,"frameworkComponentWrapper",void 0),ho=d2([$("userComponentFactory")],ho);var D7=function(n){return n[n.SINGLE_SHEET=0]="SINGLE_SHEET",n[n.MULTI_SHEET=1]="MULTI_SHEET",n}(D7||{}),A7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Nl=class extends V{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),fn(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:r}=e;i.addEventListener("mousedown",t);let o=null;const a=this.gridOptionsService.is("suppressTouch");s&&!a&&(o=c=>{Xp(c.target)||(c.cancelable&&(c.preventDefault(),r&&c.stopPropagation()),this.onTouchStart(e,c))},i.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!s})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const r=l=>this.onTouchUp(l,e.eElement),a=t.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l=>{l.cancelable&&l.preventDefault()},options:{passive:!1}},{target:a,type:"touchmove",listener:l=>this.onTouchMove(l,e.eElement),options:{passive:!0}},{target:a,type:"touchend",listener:r,options:{passive:!0}},{target:a,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(c),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==t.button))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const a=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:a,type:"mousemove",listener:l=>this.onMouseMove(l,e.eElement)},{target:a,type:"mouseup",listener:l=>this.onMouseUp(l,e.eElement)},{target:a,type:"contextmenu",listener:l=>l.preventDefault()}]),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:s,listener:r,options:o}=t;i.addEventListener(s,r,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:s,listener:r,options:o}=t;i.removeEventListener(s,r,o)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams;return c7(e,t,I(i)?i:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:v.EVENT_DRAG_STARTED,target:i}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gridOptionsService.is("enableCellTextSelection"),i=zi();return(t&&"mousemove"===e.type||i)&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=t?.tagName.toLocaleLowerCase();return!!i?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:v.EVENT_DRAG_STOPPED,target:t})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}};A7([C("mouseEventService")],Nl.prototype,"mouseEventService",void 0),A7([Wt],Nl.prototype,"removeAllListeners",null),Nl=A7([$("dragService")],Nl);var fo=function(n){return n[n.Above=0]="Above",n[n.Below=1]="Below",n}(fo||{}),Be=function(n){return n.EVERYTHING="group",n.FILTER="filter",n.SORT="sort",n.MAP="map",n.AGGREGATE="aggregate",n.FILTER_AGGREGATES="filter_aggregates",n.PIVOT="pivot",n.NOTHING="nothing",n}(Be||{}),xe=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};function va(n){return null!=n&&null!=n.getFrameworkComponentInstance?n.getFrameworkComponentInstance():n}let Re=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}registerOverlayWrapperComp(e){this.overlayWrapperComp=e}registerSideBarComp(e){this.sideBarComp=e}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}getSetterMethod(e){return`set${e.charAt(0).toUpperCase()}${e.substring(1)}`}__setProperty(e,t){this.gridOptionsService.set(e,t);const i=this.getSetterMethod(e);this[i]&&this[i](t)}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){this.detailGridInfoMap[e]=void 0}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;lt(this.detailGridInfoMap,(i,s)=>{I(s)&&(e(s,t),t++)})}getDataAsCsv(e){if(ie.__assertRegistered(K.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){ie.__assertRegistered(K.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}getExcelExportMode(e){const t=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},t,e).exportMode}assertNotExcelMultiSheet(e,t){if(!ie.__assertRegistered(K.ExcelExportModule,"api."+e,this.context.getGridId()))return!1;const i=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(i)!==D7.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(!ie.__assertRegistered(K.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return;const t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(D7.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(ie.__assertRegistered(K.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){if(ie.__assertRegistered(K.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,t){if(!e)return;const i=this.ctrlsService.getGridBodyCtrl().getGui(),s=`aria-${e}`;null===t?i.removeAttribute(s):i.setAttribute(s,t)}logMissingRowModel(e,...t){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${t.join(" or ")}`)}setServerSideDatasource(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):this.logMissingRowModel("setServerSideDatasource","serverSide")}setCacheBlockSize(e){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")}setDatasource(e){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(e):this.logMissingRowModel("setDatasource","infinite")}setViewportDatasource(e){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(e):this.logMissingRowModel("setViewportDatasource","viewport")}setRowData(e){null!=this.immutableService?this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e)):this.logMissingRowModel("setRowData","clientSide")}setPinnedTopRowData(e){this.pinnedRowModel.setPinnedTopRowData(e)}setPinnedBottomRowData(e){this.pinnedRowModel.setPinnedBottomRowData(e)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}setColumnDefs(e,t="api"){this.columnModel.setColumnDefs(e,t),this.gridOptionsService.set("columnDefs",e,!0,{source:t})}setAutoGroupColumnDef(e,t="api"){this.gridOptionsService.set("autoGroupColumnDef",e,!0,{source:t})}setDefaultColDef(e,t="api"){this.gridOptionsService.set("defaultColDef",e,!0,{source:t})}setColumnTypes(e,t="api"){this.gridOptionsService.set("columnTypes",e,!0,{source:t})}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}setAlwaysShowHorizontalScroll(e){this.gridOptionsService.set("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.gridOptionsService.set("alwaysShowVerticalScroll",e)}refreshCells(e={}){this.rowRenderer.refreshCells(e)}flashCells(e={}){this.rowRenderer.flashCells(e)}redrawRows(e={}){this.rowRenderer.redrawRows(e?e.rowNodes:void 0)}setFunctionsReadOnly(e){this.gridOptionsService.set("functionsReadOnly",e)}refreshHeader(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh())}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return this.rowModel}setRowNodeExpanded(e,t,i){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,i),e.setExpanded(t))}onGroupExpandedOrCollapsed(){ne(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:Be.MAP})}refreshClientSideRowModel(e){ne(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")}addRenderedRowListener(e,t,i){this.rowRenderer.addRenderedRowListener(e,t,i)}getQuickFilter(){return this.gridOptionsService.get("quickFilterText")}setQuickFilter(e){this.gridOptionsService.set("quickFilterText",e)}setExcludeHiddenColumnsFromQuickFilter(e){Pi("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!e)}setIncludeHiddenColumnsInQuickFilter(e){this.gridOptionsService.set("includeHiddenColumnsInQuickFilter",e)}setNodesSelected(e){if(!e.nodes.every(a=>a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==a.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)))return;const{nodes:i,source:s,newValue:r}=e;this.selectionService.setNodesSelected({nodes:i,source:s??"api",newValue:r})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return ne(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()}setServerSideSelectionState(e){ne(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(e)}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}sizeColumnsToFit(e){this.gridBodyCtrl.sizeColumnsToFit(e)}showLoadingOverlay(){this.overlayWrapperComp.showLoadingOverlay()}showNoRowsOverlay(){this.overlayWrapperComp.showNoRowsOverlay()}hideOverlay(){this.overlayWrapperComp.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(!ne(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,t="auto"){this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)}ensureIndexVisible(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)}ensureNodeVisible(e,t=null){this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)}forEachLeafNode(e){ne(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){ne(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){ne(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){const i=this.getFilterInstanceImpl(e,r=>{if(!t)return;const o=va(r);t(o)});return va(i)}getFilterInstanceImpl(e,t){const i=this.columnModel.getPrimaryColumn(e);if(!i)return;const s=this.filterManager.getFilterComponent(i,"NO_UI"),r=s&&s.resolveNow(null,o=>o);return r?setTimeout(t,0,r):s&&s.then(o=>{t(o)}),r}destroyFilter(e){const t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(ie.__assertRegistered(K.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return va(this.statusBarService.getStatusPanel(e))}getColumnDef(e){const t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(){this.filterManager.onFilterChanged()}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.filterManager.setFilterModel(e)}getFilterModel(){return this.filterManager.getFilterModel()}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,i){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:i,forceBrowserFocus:!0})}setSuppressRowDrag(e){this.gridOptionsService.set("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.gridOptionsService.set("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.gridOptionsService.set("suppressRowClickSelection",e)}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}setHeaderHeight(e){this.gridOptionsService.set("headerHeight",e)}setDomLayout(e){this.gridOptionsService.set("domLayout",e)}setEnableCellTextSelection(e){this.gridBodyCtrl.setCellTextSelection(e)}setFillHandleDirection(e){this.gridOptionsService.set("fillHandleDirection",e)}setGroupHeaderHeight(e){this.gridOptionsService.set("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.gridOptionsService.set("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.gridOptionsService.set("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.gridOptionsService.set("pivotGroupHeaderHeight",e)}setPivotMode(e){this.columnModel.setPivotMode(e)}setAnimateRows(e){this.gridOptionsService.set("animateRows",e)}setIsExternalFilterPresent(e){this.gridOptionsService.set("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.gridOptionsService.set("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.gridOptionsService.set("navigateToNextCell",e)}setTabToNextCell(e){this.gridOptionsService.set("tabToNextCell",e)}setTabToNextHeader(e){this.gridOptionsService.set("tabToNextHeader",e)}setNavigateToNextHeader(e){this.gridOptionsService.set("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.gridOptionsService.set("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.gridOptionsService.set("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.gridOptionsService.set("getBusinessKeyForNode",e)}setGetChildCount(e){this.gridOptionsService.set("getChildCount",e)}setProcessRowPostCreate(e){this.gridOptionsService.set("processRowPostCreate",e)}setGetRowId(e){this.gridOptionsService.set("getRowId",e)}setGetRowClass(e){this.gridOptionsService.set("getRowClass",e)}setIsFullWidthRow(e){this.gridOptionsService.set("isFullWidthRow",e)}setIsRowSelectable(e){this.gridOptionsService.set("isRowSelectable",e)}setIsRowMaster(e){this.gridOptionsService.set("isRowMaster",e)}setPostSortRows(e){this.gridOptionsService.set("postSortRows",e)}setGetDocument(e){this.gridOptionsService.set("getDocument",e)}setGetContextMenuItems(e){this.gridOptionsService.set("getContextMenuItems",e)}setGetMainMenuItems(e){this.gridOptionsService.set("getMainMenuItems",e)}setProcessCellForClipboard(e){this.gridOptionsService.set("processCellForClipboard",e)}setSendToClipboard(e){this.gridOptionsService.set("sendToClipboard",e)}setProcessCellFromClipboard(e){this.gridOptionsService.set("processCellFromClipboard",e)}setProcessSecondaryColDef(e){Pi("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(e)}setProcessSecondaryColGroupDef(e){Pi("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(e)}setProcessPivotResultColDef(e){this.gridOptionsService.set("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.gridOptionsService.set("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.gridOptionsService.set("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.gridOptionsService.set("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.gridOptionsService.set("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.gridOptionsService.set("paginationNumberFormatter",e)}setGetServerSideStoreParams(e){Pi("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(e)}setGetServerSideGroupLevelParams(e){this.gridOptionsService.set("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.gridOptionsService.set("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.gridOptionsService.set("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.gridOptionsService.set("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.gridOptionsService.set("getServerSideGroupKey",e)}setGetRowStyle(e){this.gridOptionsService.set("getRowStyle",e)}setGetRowHeight(e){this.gridOptionsService.set("getRowHeight",e)}assertSideBarLoaded(e){return ie.__assertRegistered(K.SideBarModule,"api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance"))return va(this.sideBarComp.getToolPanelInstance(e))}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()}setSideBar(e){this.gridOptionsService.set("sideBar",e)}setSuppressClipboardPaste(e){this.gridOptionsService.set("suppressClipboardPaste",e)}resetRowHeights(){if(I(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}}setGroupRemoveSingleChildren(e){this.gridOptionsService.set("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.gridOptionsService.set("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.gridOptionsService.set("groupDisplayType",e)}setRowClass(e){this.gridOptionsService.set("rowClass",e)}setDeltaSort(e){this.gridOptionsService.set("deltaSort",e)}setRowCount(e,t){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(e,t):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){let i=this.columnModel.getPrimaryColumn(e);return ne(i)&&(i=this.columnModel.getGridColumn(e)),ne(i)?null:this.valueService.getValue(i,t)}addEventListener(e,t){const i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(e,t,i)}addGlobalListener(e){const t=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(e,t)}removeEventListener(e,t){const i=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(e,t,i)}removeGlobalListener(e){const t=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(e,t)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){if(this.destroyCalled)return;this.destroyCalled=!0;const e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(c_.bind(window,this,"Grid API"),100)}warnIfDestroyed(e){return this.destroyCalled&&console.warn(`AG Grid: Grid API method ${e} was called on a grid that was destroyed.`),this.destroyCalled}resetQuickFilter(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(ie.__assertRegistered(K.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){this.rangeService?this.rangeService.addCellRange(e):ie.__assertRegistered(K.RangeSelectionModule,"api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),ie.__assertRegistered(K.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}getChartModels(){if(ie.__assertRegistered(K.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()}getChartRef(e){if(ie.__assertRegistered(K.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(e)}getChartImageDataURL(e){if(ie.__assertRegistered(K.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(e)}downloadChart(e){if(ie.__assertRegistered(K.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(e)}openChartToolPanel(e){if(ie.__assertRegistered(K.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(e)}closeChartToolPanel(e){if(ie.__assertRegistered(K.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(e.chartId)}createRangeChart(e){if(ie.__assertRegistered(K.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(e)}createPivotChart(e){if(ie.__assertRegistered(K.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(e)}createCrossFilterChart(e){if(ie.__assertRegistered(K.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(e)}updateChart(e){ie.__assertRegistered(K.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(e)}restoreChart(e,t){if(ie.__assertRegistered(K.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(e,t)}copyToClipboard(e){ie.__assertRegistered(K.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(e)}cutToClipboard(e){ie.__assertRegistered(K.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(e,"api")}copySelectedRowsToClipboard(e){ie.__assertRegistered(K.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(e)}copySelectedRangeToClipboard(e){ie.__assertRegistered(K.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(e)}copySelectedRangeDown(){ie.__assertRegistered(K.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()}pasteFromClipboard(){ie.__assertRegistered(K.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()}showColumnMenuAfterButtonClick(e,t){const i=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(i,t,"columnMenu")}showColumnMenuAfterMouseClick(e,t){let i=this.columnModel.getGridColumn(e);i||(i=this.columnModel.getPrimaryColumn(e)),i?this.menuFactory.showMenuAfterMouseEvent(i,t):console.error(`AG Grid: column '${e}' not found`)}hidePopupMenu(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()}setPopupParent(e){this.gridOptionsService.set("popupParent",e)}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(va)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(va)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const t=this.columnModel.getGridColumn(e.colKey);if(!t)return void console.warn(`AG Grid: no column found for ${e.colKey}`);const i={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};null==e.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);const r=this.navigationService.getCellByPosition(i);r&&r.startRowOrCellEdit(e.key)}addAggFunc(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(e);this.logMissingRowModel("applyServerSideTransaction","serverSide")}applyServerSideTransactionAsync(e,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(e,t);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")}retryServerSideLoads(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")}flushServerSideAsyncTransactions(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")}applyTransaction(e){if(this.clientSideRowModel)return this.clientSideRowModel.updateRowData(e);this.logMissingRowModel("applyTransaction","clientSide")}applyTransactionAsync(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):this.logMissingRowModel("applyTransactionAsync","clientSide")}flushAsyncTransactions(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")}setSuppressModelUpdateAfterUpdateTransaction(e){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",e)}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){this.serverSideRowModel?this.serverSideRowModel.refreshStore(e):this.logMissingRowModel("refreshServerSide","serverSide")}refreshServerSideStore(e){return Pi("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(e)}getServerSideStoreState(){return Pi("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}setDataTypeDefinitions(e){this.gridOptionsService.set("dataTypeDefinitions",e)}setPagination(e){this.gridOptionsService.set("pagination",e)}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationSetPageSize(e){this.gridOptionsService.set("paginationPageSize",e)}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}};xe([Pe("immutableService")],Re.prototype,"immutableService",void 0),xe([Pe("csvCreator")],Re.prototype,"csvCreator",void 0),xe([Pe("excelCreator")],Re.prototype,"excelCreator",void 0),xe([C("rowRenderer")],Re.prototype,"rowRenderer",void 0),xe([C("navigationService")],Re.prototype,"navigationService",void 0),xe([C("filterManager")],Re.prototype,"filterManager",void 0),xe([C("columnModel")],Re.prototype,"columnModel",void 0),xe([C("selectionService")],Re.prototype,"selectionService",void 0),xe([C("gridOptionsService")],Re.prototype,"gridOptionsService",void 0),xe([C("valueService")],Re.prototype,"valueService",void 0),xe([C("alignedGridsService")],Re.prototype,"alignedGridsService",void 0),xe([C("eventService")],Re.prototype,"eventService",void 0),xe([C("pinnedRowModel")],Re.prototype,"pinnedRowModel",void 0),xe([C("context")],Re.prototype,"context",void 0),xe([C("rowModel")],Re.prototype,"rowModel",void 0),xe([C("sortController")],Re.prototype,"sortController",void 0),xe([C("paginationProxy")],Re.prototype,"paginationProxy",void 0),xe([C("focusService")],Re.prototype,"focusService",void 0),xe([C("dragAndDropService")],Re.prototype,"dragAndDropService",void 0),xe([Pe("rangeService")],Re.prototype,"rangeService",void 0),xe([Pe("clipboardService")],Re.prototype,"clipboardService",void 0),xe([Pe("aggFuncService")],Re.prototype,"aggFuncService",void 0),xe([C("menuFactory")],Re.prototype,"menuFactory",void 0),xe([Pe("contextMenuFactory")],Re.prototype,"contextMenuFactory",void 0),xe([C("valueCache")],Re.prototype,"valueCache",void 0),xe([C("animationFrameService")],Re.prototype,"animationFrameService",void 0),xe([Pe("statusBarService")],Re.prototype,"statusBarService",void 0),xe([Pe("chartService")],Re.prototype,"chartService",void 0),xe([Pe("undoRedoService")],Re.prototype,"undoRedoService",void 0),xe([Pe("rowNodeBlockLoader")],Re.prototype,"rowNodeBlockLoader",void 0),xe([Pe("ssrmTransactionManager")],Re.prototype,"serverSideTransactionManager",void 0),xe([C("ctrlsService")],Re.prototype,"ctrlsService",void 0),xe([B],Re.prototype,"init",null),xe([Wt],Re.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Re=xe([$("gridApi")],Re);var R7,Ea=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Ws=R7=class extends V{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.quickFilter=null,this.quickFilterParts=null,this.processingFilterChange=!1}init(){this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>{this.refreshFiltersForAggregations(),this.resetQuickFilterCache()}),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>this.updateAggFiltering())}isExternalFilterPresentCallback(){const e=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})}doesExternalFilterPass(e){const t=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof t&&t(e)}setQuickFilterParts(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null}setFilterModel(e){const t=[],i=this.getFilterModel();if(e){const s=l7(Object.keys(e));this.allColumnFilters.forEach((r,o)=>{t.push(this.setModelOnFilterWrapper(r.filterPromise,e[o])),s.delete(o)}),s.forEach(r=>{const o=this.columnModel.getPrimaryColumn(r)||this.columnModel.getGridColumn(r);if(!o)return void console.warn("AG Grid: setFilterModel() - no column found for colId: "+r);if(!o.isFilterAllowed())return void console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+r);const a=this.getOrCreateFilterWrapper(o,"NO_UI");a?t.push(this.setModelOnFilterWrapper(a.filterPromise,e[r])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+r)})}else this.allColumnFilters.forEach(s=>{t.push(this.setModelOnFilterWrapper(s.filterPromise,null))});$t.all(t).then(()=>{const s=this.getFilterModel(),r=[];this.allColumnFilters.forEach((o,a)=>{re.jsonEquals(i?i[a]:null,s?s[a]:null)||r.push(o.column)}),r.length>0&&this.onFilterChanged({columns:r})})}setModelOnFilterWrapper(e,t){return new $t(i=>{e.then(s=>{"function"!=typeof s.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(s.setModel(t)||$t.resolve()).then(()=>i())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((t,i)=>{const r=t.filterPromise.resolveNow(null,a=>a);if(null==r)return null;if("function"!=typeof r.getModel)return void console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");const o=r.getModel();I(o)&&(e[i]=o)}),e}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=s=>!!s&&(s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1)),t=!!this.gridOptionsService.getGroupAggFiltering(),i=s=>{if(!s.isPrimary())return!0;const o=!this.columnModel.isPivotActive();return!(!s.isValueActive()||!o)&&(!!this.columnModel.isPivotMode()||t)};this.allColumnFilters.forEach(s=>{if(s.filterPromise.resolveNow(!1,e)){const r=s.filterPromise.resolveNow(null,o=>o);i(s.column)?this.activeAggregateFilters.push(r):this.activeColumnFilters.push(r)}})}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach(i=>{const s=i.filterPromise.resolveNow(!1,r=>r.isFilterActive());i.column.setFilterActive(s,e,t)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()}doColumnFiltersPass(e,t,i){const{data:s,aggData:r}=e,o=i?this.activeAggregateFilters:this.activeColumnFilters,a=i?r:s;for(let c=0;c<o.length;c++){const l=o[c];if(null!=l&&l!==t){if("function"!=typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:a}))return!1}}return!0}parseQuickFilter(e){return I(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!=typeof e)return void console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof e);const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e={}){const t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i,columns:s}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(o=>{o.filterPromise&&o.filterPromise.then(a=>{a&&a!==t&&a.onAnyFilterChanged&&a.onAnyFilterChanged()})});const r={type:v.EVENT_FILTER_CHANGED,columns:s||[]};i&&di(r,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(r),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange}isQuickFilterPresent(){return null!==this.quickFilter}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some(s=>{const r=this.getQuickFilterTextForColumn(s,e);return I(r)&&r.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilter(e){const t=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const s=e.getColDef();return s.getQuickFilterText&&(i=s.getQuickFilterText({value:i,node:t,data:t.data,column:e,colDef:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),I(i)?i.toString().toUpperCase():null}aggregateRowForQuickFilter(e){const t=[];this.columnModel.getAllColumnsForQuickFilter().forEach(s=>{const r=this.getQuickFilterTextForColumn(s,e);I(r)&&t.push(r)}),e.quickFilterAggregateText=t.join(R7.QUICK_FILTER_SEPARATOR)}onNewRowsLoaded(e){this.allColumnFilters.forEach(t=>{t.filterPromise.then(i=>{i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}getFilterComponent(e,t,i=!0){var s;if(i)return(null===(s=this.getOrCreateFilterWrapper(e,t))||void 0===s?void 0:s.filterPromise)||null;const r=this.cachedFilter(e);return r?r.filterPromise:null}isFilterActive(e){const t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,i=>i.isFilterActive())}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let i=this.cachedFilter(e);if(i)"NO_UI"!==t&&this.putIntoGui(i,t);else{i=this.createFilterWrapper(e,t);const s=e.getColId();this.allColumnFilters.set(s,i),this.allColumnListeners.set(s,this.addManagedListener(e,Fe.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(s)))}return i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(ie.__isRegistered(K.SetFilterModule,this.context.getGridId()))t="agSetColumnFilter";else{const i=e.getColDef().cellDataType;t="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(ie.__isRegistered(K.SetFilterModule,this.context.getGridId()))t="agSetColumnFloatingFilter";else{const i=e.getColDef().cellDataType;t="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e){const t=this.getDefaultFilter(e),i=e.getColDef();let s;const r=Object.assign(Object.assign({},this.createFilterParams(e,i)),{filterModifiedCallback:()=>{this.eventService.dispatchEvent({type:v.EVENT_FILTER_MODIFIED,column:e,filterInstance:s})},filterChangedCallback:a=>{this.callOnFilterChangedOutsideRenderCycle({filterInstance:s,additionalEventAttributes:a,columns:[e]})},doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(s,a)}),o=this.userComponentFactory.getFilterDetails(i,r,t);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a&&a.then(c=>s=c),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return{column:e,colDef:gp(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:()=>!0,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}createFilterWrapper(e,t){var i;const s={column:e,filterPromise:null,compiledElement:null,guiPromise:$t.resolve(null),compDetails:null},{filterPromise:r,compDetails:o}=this.createFilterInstance(e);return s.filterPromise=null!==(i=r?.())&&void 0!==i?i:null,s.compDetails=o,r&&this.putIntoGui(s,t),s}putIntoGui(e,t){const i=document.createElement("div");i.className="ag-filter",e.guiPromise=new $t(s=>{e.filterPromise.then(r=>{let o=r.getGui();I(o)||console.warn(`AG Grid: getGui method from filter returned ${o}, it should be a DOM element or an HTML template string.`),"string"==typeof o&&(o=en(o)),i.appendChild(o),s(i),this.eventService.dispatchEvent({type:v.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:i})})})}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((t,i)=>{let s;s=t.column.isPrimary()?this.columnModel.getPrimaryColumn(i):this.columnModel.getGridColumn(i),!s&&(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(i))}),e.length>0?this.onFilterChanged({columns:e}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e?.forEach(t=>{"agGroupColumnFilter"===t.getColDef().filter&&this.getOrCreateFilterWrapper(t,"NO_UI")})}isFilterAllowed(e){var t,i;if(!e.isFilterAllowed())return!1;const r=this.allColumnFilters.get(e.getColId());return null===(i=null===(t=r?.filterPromise)||void 0===t?void 0:t.resolveNow(!0,o=>{var a,c;return"function"!=typeof(null===(a=o)||void 0===a?void 0:a.isFilterAllowed)||(null===(c=o)||void 0===c?void 0:c.isFilterAllowed())}))||void 0===i||i}getFloatingFilterCompDetails(e,t){const i=e.getColDef(),s=this.createFilterParams(e,i),r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,_7,s);let o=this.userComponentFactory.getDefaultFloatingFilterType(i,()=>this.getDefaultFloatingFilter(e));return null==o&&(o="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(i,{column:e,filterParams:r,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:l=>{const u=this.getFilterComponent(e,"NO_UI");u?.then(d=>{l(va(d))})},showParentFilter:t,suppressFilterButton:!1},o)}getCurrentFloatingFilterParentModel(e){const t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,i=>i&&i.getModel()):null}destroyFilter(e,t="api"){const i=e.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),s&&(this.disposeFilterWrapper(s,t),this.onFilterChanged({columns:[e]}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{(i.setModel(null)||$t.resolve()).then(()=>{this.getContext().destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:v.EVENT_FILTER_DESTROYED,source:t,column:e.column})})})}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};((o,a)=>{if(!a||!o)return!0;const{componentClass:c}=o,{componentClass:l}=a;return!(c===l||c?.render&&l?.render&&c.render===l.render)})(t.compDetails,s)&&this.destroyFilter(i,"columnChanged")}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};Ws.QUICK_FILTER_SEPARATOR="\n",Ea([C("valueService")],Ws.prototype,"valueService",void 0),Ea([C("columnModel")],Ws.prototype,"columnModel",void 0),Ea([C("rowModel")],Ws.prototype,"rowModel",void 0),Ea([C("userComponentFactory")],Ws.prototype,"userComponentFactory",void 0),Ea([C("rowRenderer")],Ws.prototype,"rowRenderer",void 0),Ea([B],Ws.prototype,"init",null),Ws=R7=Ea([$("filterManager")],Ws);class L7 extends me{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}}var Hl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let h2=(()=>{class n extends L7{constructor(t){super(n.TEMPLATE,t)}postConstruct(){const t=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(s,r)=>this.addOrRemoveCssClass(s,r),addOrRemoveBodyCssClass:(s,r)=>this.eFloatingFilterBody.classList.toggle(s,r),setButtonWrapperDisplayed:s=>De(this.eButtonWrapper,s),setCompDetails:s=>this.setCompDetails(s),getFloatingFilterComp:()=>this.compPromise,setWidth:s=>t.style.width=s,setMenuIcon:s=>this.eButtonShowMainFilter.appendChild(s)},t,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(t){if(!t)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=t.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(t){if(t){if(!this.isAlive())return void this.destroyBean(t);this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}}}return n.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',n})();Hl([W("eFloatingFilterBody")],h2.prototype,"eFloatingFilterBody",void 0),Hl([W("eButtonWrapper")],h2.prototype,"eButtonWrapper",void 0),Hl([W("eButtonShowMainFilter")],h2.prototype,"eButtonShowMainFilter",void 0),Hl([B],h2.prototype,"postConstruct",null),Hl([Wt],h2.prototype,"destroyFloatingFilterComp",null);var Ft=function(n){return n.AUTO_HEIGHT="ag-layout-auto-height",n.NORMAL="ag-layout-normal",n.PRINT="ag-layout-print",n}(Ft||{});class Z0 extends V{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(t.autoHeight?Ft.AUTO_HEIGHT:t.print?Ft.PRINT:Ft.NORMAL,t)}getDomLayout(){var e;const t=null!==(e=this.gridOptionsService.get("domLayout"))&&void 0!==e?e:"normal";return-1===["normal","print","autoHeight"].indexOf(t)?(Le(()=>console.warn(`AG Grid: ${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"warn about dom layout values"),"normal"):t}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([B],Z0.prototype,"postConstruct",null);var po=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Dn=function(n){return n[n.Vertical=0]="Vertical",n[n.Horizontal=1]="Horizontal",n}(Dn||{}),kn=function(n){return n[n.Container=0]="Container",n[n.FakeContainer=1]="FakeContainer",n}(kn||{});class Ar extends V{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Ps(()=>this.lastScrollSource[Dn.Horizontal]=null,500),this.resetLastVScrollDebounced=Ps(()=>this.lastScrollSource[Dn.Vertical]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const e=this.ctrlsService.getFakeHScrollComp(),t=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const i=this.gridOptionsService.is("debounceVerticalScrollbar"),s=i?Ps(this.onVScroll.bind(this),100):this.onVScroll.bind(this),r=i?Ps(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",s),t.onScrollCallback(r)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(null==this.centerRowContainerCtrl)return;void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const i=this.enableRtl?e:-e,s=this.ctrlsService.getTopCenterRowContainerCtrl(),r=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),o=this.ctrlsService.getBottomCenterRowContainerCtrl(),a=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-i),o.setContainerTranslateX(i),s.setContainerTranslateX(i),r.setContainerTranslateX(i);const l=this.centerRowContainerCtrl.getViewportElement(),u=this.lastScrollSource[Dn.Horizontal]===kn.Container;e=Math.abs(e),u?a.setScrollPosition(e):ml(l,e,this.enableRtl)}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(kn.FakeContainer,Dn.Horizontal)&&this.onHScrollCommon(kn.FakeContainer)}onHScroll(){this.isControllingScroll(kn.Container,Dn.Horizontal)&&this.onHScrollCommon(kn.Container)}onHScrollCommon(e){const t=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(Dn.Horizontal,i,!0))return;let s;s=e===kn.Container?gl(t,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(s)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(kn.FakeContainer,Dn.Vertical)&&this.onVScrollCommon(kn.FakeContainer)}onVScroll(){this.isControllingScroll(kn.Container,Dn.Vertical)&&this.onVScrollCommon(kn.Container)}onVScrollCommon(e){let t;t=e===kn.Container?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(Dn.Vertical,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===kn.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(Dn.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())}fireScrollEvent(e){const t={type:v.EVENT_BODY_SCROLL,direction:e===Dn.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const i=Object.assign(Object.assign({},t),{type:v.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(i)},100)}shouldBlockScrollUpdate(e,t,i=!1){return!(i&&!ao())&&(e===Dn.Vertical?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=fl(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&pl()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(Dn.Vertical)}onHorizontalViewportChanged(){this.centerRowContainerCtrl.onHorizontalViewportChanged()}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(kn.Container)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const s=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(Dn.Horizontal,e)&&(e=this.enableRtl&&pl()?e>0?0:s:Math.min(Math.max(e,0),s)),ml(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let s=-1;for(let r=0;r<i;r++){const o=this.rowModel.getRow(r);if("function"==typeof e){if(o&&e(o)){s=r;break}}else if(e===o||e===o.data){s=r;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(this.gridOptionsService.isDomLayout("print"))return;const i=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=i)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(e);const a=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),c=this.paginationProxy.getRow(e);let l;do{const u=c.rowTop,d=c.rowHeight,f=this.paginationProxy.getPixelOffset(),p=c.rowTop-f,g=p+c.rowHeight,m=this.getVScrollPosition(),y=this.heightScaler.getDivStretchOffset(),M=m.top+y,w=m.bottom+y,T=w-M,R=this.heightScaler.getScrollPositionForPixel(p),N=this.heightScaler.getScrollPositionForPixel(g-T),k=Math.min((R+N)/2,p);let Se=null;"top"===t?Se=R:"bottom"===t?Se=N:"middle"===t?Se=k:M+a>p?Se=R-a:w<g&&(Se=N),null!==Se&&(this.setVerticalScrollPosition(Se),this.rowRenderer.redraw()),l=u!==c.rowTop||d!==c.rowHeight}while(l);this.animationFrameService.flushAllFrames()}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getGridColumn(e);if(!i||i.isPinned()||!this.columnModel.isColumnDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);null!==s&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(s),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),r=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl;let c=(a?i:s)||r,l=a?s:i;"auto"!==t&&(c="start"===t,l="end"===t);const u="middle"===t;if(c||l||u){const{colLeft:d,colMiddle:f,colRight:p}=this.getColumnBounds(e);return u?f-o/2:c?a?p:d:a?d-o:p-o}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:r}=this.getColumnBounds(e),o=this.enableRtl;return{columnBeforeStart:o?t>r:i<r,columnAfterEnd:o?i<s:t>s}}getColumnBounds(e){const t=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),s=e.getActualWidth(),r=e.getLeft(),o=t?-1:1,a=t?i-r:r;return{colLeft:a,colMiddle:a+s/2*o,colRight:a+s*o}}getViewportBounds(){const e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}}po([C("ctrlsService")],Ar.prototype,"ctrlsService",void 0),po([C("animationFrameService")],Ar.prototype,"animationFrameService",void 0),po([C("paginationProxy")],Ar.prototype,"paginationProxy",void 0),po([C("rowModel")],Ar.prototype,"rowModel",void 0),po([C("rowContainerHeightService")],Ar.prototype,"heightScaler",void 0),po([C("rowRenderer")],Ar.prototype,"rowRenderer",void 0),po([C("columnModel")],Ar.prototype,"columnModel",void 0),po([B],Ar.prototype,"postConstruct",null);class uie{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const s=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<s.left+r,this.tickRight=e.clientX>s.right-r,this.tickUp=e.clientY<s.top+r&&!i,this.tickDown=e.clientY>s.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){let e;if(this.tickCount++,e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}}var Ui=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class mi extends V{constructor(e){super(),this.isMultiRowDrag=!1,this.isGridSorted=!1,this.isGridFiltered=!1,this.isRowGroupActive=!1,this.eContainer=e}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);const e=()=>{this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()};this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,()=>{e()}),e(),this.ctrlsService.whenReady(()=>{const t=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new uie({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}onSortChanged(){this.isGridSorted=this.sortController.isSortActive()}onFilterChanged(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()}onRowGroupChanged(){const e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!ui(e)}getContainer(){return this.eContainer}isInterestedIn(e){return e===zn.RowDrag}getIconName(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?He.ICON_NOT_ALLOWED:He.ICON_MOVE}shouldPreventRowMove(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=this.gridOptionsService.is("rowDragMultiRow"),i=[...this.selectionService.getSelectedNodes()].sort((r,o)=>null==r.rowIndex||null==o.rowIndex?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(o)),s=e.dragItem.rowNode;return t&&-1!==i.indexOf(s)?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[s])}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(v.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:s}=e;return!i.contains(s)}onEnterOrDragging(e){this.dispatchGridEvent(v.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),s=this.gridOptionsService.is("rowDragManaged"),r=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){return parseInt(qe(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&t.highlighted===fo.Below,s=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes;let o=i?1:0;if(this.isFromThisGrid(e))r.forEach(a=>{a.rowTop<s&&(o-=1)}),this.moveRows(r,s,o);else{const a=this.gridOptionsService.getCallback("getRowId");let c=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===fo.Above&&c--,this.clientSideRowModel.updateRowData({add:r.map(l=>l.data).filter(l=>!this.clientSideRowModel.getRowNode(a?a({data:l,level:0}):l.id)),addIndex:c})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void Le(()=>console.warn("AG Grid: addRowDropZone - A container target needs to be provided"),"add-drop-zone-empty-target");if(this.dragAndDropService.findExternalZone(e))return void console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,t=e):(e.onDragEnter&&(t.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_ENTER,i))}),e.onDragLeave&&(t.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_LEAVE,i))}),e.onDragging&&(t.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_MOVE,i))}),e.onDragStop&&(t.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(Object.assign({isInterestedIn:i=>i===zn.RowDrag,getIconName:()=>He.ICON_MOVE,external:!0},t))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),r=this.onDragging.bind(this),o=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?a=>{i(a),e.onDragEnter(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_ENTER,a))}:i,onDragLeave:e.onDragLeave?a=>{s(a),e.onDragLeave(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_LEAVE,a))}:s,onDragging:e.onDragging?a=>{r(a),e.onDragging(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_MOVE,a))}:r,onDragStop:e.onDragStop?a=>{o(a),e.onDragStop(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_END,a))}:o,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:s,onDragging:r,onDragStop:o,fromGrid:!0}}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y;let o,a,r=-1;switch(i>this.paginationProxy.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(i),o=this.rowModel.getRow(r)),t.vDirection){case _l.Down:a="down";break;case _l.Up:a="up";break;default:a=null}return{type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:o,y:i,vDirection:a}}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent(v.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)}onDragStop(e){this.dispatchGridEvent(v.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}}Ui([C("dragAndDropService")],mi.prototype,"dragAndDropService",void 0),Ui([C("rowModel")],mi.prototype,"rowModel",void 0),Ui([C("paginationProxy")],mi.prototype,"paginationProxy",void 0),Ui([C("columnModel")],mi.prototype,"columnModel",void 0),Ui([C("focusService")],mi.prototype,"focusService",void 0),Ui([C("sortController")],mi.prototype,"sortController",void 0),Ui([C("filterManager")],mi.prototype,"filterManager",void 0),Ui([C("selectionService")],mi.prototype,"selectionService",void 0),Ui([C("mouseEventService")],mi.prototype,"mouseEventService",void 0),Ui([C("ctrlsService")],mi.prototype,"ctrlsService",void 0),Ui([Pe("rangeService")],mi.prototype,"rangeService",void 0),Ui([B],mi.prototype,"postConstruct",null);var Ci=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},xl=function(n){return n.ANIMATION_ON="ag-row-animation",n.ANIMATION_OFF="ag-row-no-animation",n}(xl||{});const BD="ag-force-vertical-scroll";class Gn extends V{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,s,r,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=r,this.eStickyTop=o,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new Z0(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Ar(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,r,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(t=>{this.addManagedListener(t,"focusin",i=>{const{target:s}=i,r=da(s,"ag-root",t);t.classList.toggle("ag-has-focus",!r)}),this.addManagedListener(t,"focusout",i=>{const{target:s,relatedTarget:r}=i,o=t.contains(r),a=da(r,"ag-root",t);da(s,"ag-root",t)||(!o||a)&&t.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);const s=`calc(100% + ${(e&&this.gridOptionsService.getScrollbarWidth()||0)+(n2()?16:0)}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(s))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.is("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const s=i.relatedTarget;if(null===B0(s))return void this.rowRenderer.stopEditing();let r=t.some(o=>o.contains(s))&&this.mouseEventService.isElementInThisGrid(s);if(!r){const o=this.popupService;r=o.getActivePopups().some(a=>a.contains(s))||o.isElementWithinCustomPopup(s)}r||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];t.forEach(i=>this.addManagedListener(i,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===t?-1:e+t)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")}isVerticalScrollShowing(){const e=this.gridOptionsService.is("alwaysShowVerticalScroll"),t=e?BD:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&nD(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const t=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(t?xl.ANIMATION_ON:xl.ANIMATION_OFF,t)};e(),this.addManagedListener(this.eventService,v.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",i=>this.onFullWidthContainerWheel(i,t))}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gridOptionsService.is("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:s}=e||t;if(s===this.eBodyViewport||s===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):i&&this.contextMenuFactory.onContextMenu(null,i,null,null,null,this.eGridBody)}}mockContextMenuForIPad(e){if(!ao())return;const t=new fi(this.eBodyViewport);this.addManagedListener(t,fi.EVENT_LONG_TAP,s=>{e(void 0,s.touchStart,s.touchEvent)}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyTopWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new mi(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let t=e.getPinnedTopTotalHeight();t&&(t+=1);let i=e.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(e){if(e){const t=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`)}else this.comp.setStickyTopWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight();let s=0;t>0&&(s+=t+1),i>0&&(s+=i+1),this.comp.setStickyTopTop(`${s}px`)}sizeColumnsToFit(e,t){const s=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,o=j0(this.eGridBody)-s;o>0?this.columnModel.sizeColumnsToFit(o,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):100===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):500===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}}Ci([C("animationFrameService")],Gn.prototype,"animationFrameService",void 0),Ci([C("rowContainerHeightService")],Gn.prototype,"rowContainerHeightService",void 0),Ci([C("ctrlsService")],Gn.prototype,"ctrlsService",void 0),Ci([C("columnModel")],Gn.prototype,"columnModel",void 0),Ci([C("scrollVisibleService")],Gn.prototype,"scrollVisibleService",void 0),Ci([Pe("contextMenuFactory")],Gn.prototype,"contextMenuFactory",void 0),Ci([C("headerNavigationService")],Gn.prototype,"headerNavigationService",void 0),Ci([C("dragAndDropService")],Gn.prototype,"dragAndDropService",void 0),Ci([C("pinnedRowModel")],Gn.prototype,"pinnedRowModel",void 0),Ci([C("rowRenderer")],Gn.prototype,"rowRenderer",void 0),Ci([C("popupService")],Gn.prototype,"popupService",void 0),Ci([C("mouseEventService")],Gn.prototype,"mouseEventService",void 0),Ci([C("rowModel")],Gn.prototype,"rowModel",void 0);var N7=function(n){return n[n.FILL=0]="FILL",n[n.RANGE=1]="RANGE",n}(N7||{}),Il=function(n){return n[n.VALUE=0]="VALUE",n[n.DIMENSION=1]="DIMENSION",n}(Il||{});const Ol="ag-cell-range-selected";class bie{constructor(e,t){this.beans=e,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ol,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ol}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ol}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ol}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Ol}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),t2(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),s=!t&&e.right,r=!t&&e.bottom,o=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!t&&e.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",s),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",o)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>Vi([Il.DIMENSION,Il.VALUE],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gridOptionsService.is("enableRtl");let t=!1,i=!1,s=!1,r=!1;const o=this.cellCtrl.getCellPosition().column,{rangeService:a,columnModel:c}=this.beans;let l,u;e?(l=c.getDisplayedColAfter(o),u=c.getDisplayedColBefore(o)):(l=c.getDisplayedColBefore(o),u=c.getDisplayedColAfter(o));const d=a.getCellRanges().filter(f=>a.isCellInSpecificRange(this.cellCtrl.getCellPosition(),f));l||(r=!0),u||(i=!0);for(let f=0;f<d.length&&!(t&&i&&s&&r);f++){const p=d[f],g=a.getRangeStartRow(p),m=a.getRangeEndRow(p);!t&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(t=!0),!s&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(s=!0),!r&&l&&p.columns.indexOf(l)<0&&(r=!0),!i&&u&&p.columns.indexOf(u)<0&&(i=!0)}return{top:t,right:i,bottom:s,left:r}}refreshHandle(){if(!this.beans.rangeService)return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,i=t.getCellRanges(),s=i.length;if(this.rangeCount<1||s<1)return!1;const r=qe(i),o=this.cellCtrl.getCellPosition(),a=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),c=e.is("enableRangeHandle");let l=1===s&&!this.cellCtrl.isEditing()&&(a||c);if(this.hasChartRange){const d=i[0].type===Il.DIMENSION&&t.isCellInSpecificRange(o,i[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",d),l=r.type===Il.VALUE}return l&&null!=r.endRow&&t.isContiguousRange(r)&&t.isBottomRightCell(r,o)}addSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,i=qe(t.getCellRanges()).type,r=e.is("enableFillHandle")&&ne(i)?N7.FILL:N7.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}class wie extends V{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode(),this.setupColSpan(),this.setupRowSpan()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode)}setComp(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onDisplayColumnsChanged(){const e=this.getColSpanningList();ro(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let i=this.column;const s=this.column.getPinned();for(let r=0;i&&r<e&&(t.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),i&&!ne(i)&&s===i.getPinned());r++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?qe(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?t+this.beans.columnModel.getBodyContainerWidth()+(e||0):t+(e||0)}applyRowSpan(){if(1===this.rowSpan)return;const t=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${t}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}}class Sie extends V{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),t={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(e.cellClassRules,t,i=>this.cellComp.addOrRemoveCssClass(i,!0),i=>this.cellComp.addOrRemoveCssClass(i,!1))}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"==typeof e.cellStyle){const i={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};t=(0,e.cellStyle)(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}}class H7 extends V{constructor(e,t){super(),this.ctrl=e,this.beans=t}setComp(e){this.comp=e,this.setupTooltip()}setupTooltip(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new _r({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()}),this.beans.context))}refreshToolTip(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,s=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}}getTooltipText(){return this.tooltip}destroy(){super.destroy()}}var pe=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let ce=class{postConstruct(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};pe([C("resizeObserverService")],ce.prototype,"resizeObserverService",void 0),pe([C("paginationProxy")],ce.prototype,"paginationProxy",void 0),pe([C("context")],ce.prototype,"context",void 0),pe([C("columnApi")],ce.prototype,"columnApi",void 0),pe([C("gridApi")],ce.prototype,"gridApi",void 0),pe([C("gridOptionsService")],ce.prototype,"gridOptionsService",void 0),pe([C("expressionService")],ce.prototype,"expressionService",void 0),pe([C("environment")],ce.prototype,"environment",void 0),pe([C("rowRenderer")],ce.prototype,"rowRenderer",void 0),pe([C("templateService")],ce.prototype,"templateService",void 0),pe([C("valueService")],ce.prototype,"valueService",void 0),pe([C("eventService")],ce.prototype,"eventService",void 0),pe([C("columnModel")],ce.prototype,"columnModel",void 0),pe([C("headerNavigationService")],ce.prototype,"headerNavigationService",void 0),pe([C("navigationService")],ce.prototype,"navigationService",void 0),pe([C("columnAnimationService")],ce.prototype,"columnAnimationService",void 0),pe([Pe("rangeService")],ce.prototype,"rangeService",void 0),pe([C("focusService")],ce.prototype,"focusService",void 0),pe([Pe("contextMenuFactory")],ce.prototype,"contextMenuFactory",void 0),pe([C("popupService")],ce.prototype,"popupService",void 0),pe([C("valueFormatterService")],ce.prototype,"valueFormatterService",void 0),pe([C("stylingService")],ce.prototype,"stylingService",void 0),pe([C("columnHoverService")],ce.prototype,"columnHoverService",void 0),pe([C("userComponentFactory")],ce.prototype,"userComponentFactory",void 0),pe([C("userComponentRegistry")],ce.prototype,"userComponentRegistry",void 0),pe([C("animationFrameService")],ce.prototype,"animationFrameService",void 0),pe([C("dragService")],ce.prototype,"dragService",void 0),pe([C("dragAndDropService")],ce.prototype,"dragAndDropService",void 0),pe([C("sortController")],ce.prototype,"sortController",void 0),pe([C("filterManager")],ce.prototype,"filterManager",void 0),pe([C("rowContainerHeightService")],ce.prototype,"rowContainerHeightService",void 0),pe([C("frameworkOverrides")],ce.prototype,"frameworkOverrides",void 0),pe([C("cellPositionUtils")],ce.prototype,"cellPositionUtils",void 0),pe([C("rowPositionUtils")],ce.prototype,"rowPositionUtils",void 0),pe([C("selectionService")],ce.prototype,"selectionService",void 0),pe([Pe("selectionHandleFactory")],ce.prototype,"selectionHandleFactory",void 0),pe([C("rowCssClassCalculator")],ce.prototype,"rowCssClassCalculator",void 0),pe([C("rowModel")],ce.prototype,"rowModel",void 0),pe([C("ctrlsService")],ce.prototype,"ctrlsService",void 0),pe([C("ctrlsFactory")],ce.prototype,"ctrlsFactory",void 0),pe([C("agStackComponentsRegistry")],ce.prototype,"agStackComponentsRegistry",void 0),pe([C("valueCache")],ce.prototype,"valueCache",void 0),pe([C("rowNodeEventThrottle")],ce.prototype,"rowNodeEventThrottle",void 0),pe([C("localeService")],ce.prototype,"localeService",void 0),pe([C("valueParserService")],ce.prototype,"valueParserService",void 0),pe([B],ce.prototype,"postConstruct",null),ce=pe([$("beans")],ce);class Mie extends ce{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!Fs(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:i,gridOptionsService:s}=this.beans;i&&(e.ctrlKey||e.metaKey)&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,v.EVENT_CELL_CLICKED);t.dispatchEvent(o);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>a.onCellClicked(o),0),(s.is("singleClickEdit")||a.singleClickEdit)&&!s.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!ao()||Tp("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const t=this.column.getColDef(),i=this.cellCtrl.createEvent(e,v.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"==typeof t.onCellDoubleClicked&&window.setTimeout(()=>t.onCellDoubleClicked(i),0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:s}=e,r=e.target,{eventService:o,rangeService:a}=this.beans;if(this.isRightClickInExistingRange(e))return;const c=a&&0!=a.getCellRanges().length;if(!s||!c){const l=zi()&&!this.cellCtrl.isEditing()&&!Xp(r);this.cellCtrl.focusCell(l)}if(s&&c&&e.preventDefault(),!this.containsWidget(r)){if(a){const l=this.cellCtrl.getCellPosition();s?a.extendLatestRangeToCell(l):a.setRangeToCell(l,t||i)}o.dispatchEvent(this.cellCtrl.createEvent(e,v.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;return!(!t||!t.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==e.button)}containsWidget(e){return da(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,v.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,v.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}destroy(){}}class Tie extends V{constructor(e,t,i,s,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=s,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case H.ENTER:this.onEnterKeyDown(e);break;case H.F2:this.onF2KeyDown(e);break;case H.ESCAPE:this.onEscapeKeyDown(e);break;case H.TAB:this.onTabKeyDown(e);break;case H.BACKSPACE:case H.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case H.DOWN:case H.UP:case H.RIGHT:case H.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:s,rowNode:r}=this,{gridOptionsService:o,rangeService:a,eventService:c}=s;i.isEditing()||(c.dispatchEvent({type:v.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),cD(e,o.is("enableCellEditingOnBackspace"))?a&&o.isEnableRangeSelection()?a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):i.isCellEditable()&&r.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(e,t),c.dispatchEvent({type:v.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gridOptionsService.is("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?H.UP:H.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(H.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(H.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const s=e.key;" "===s?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(s,e),e.preventDefault())}onSpaceKeyDown(e){const{gridOptionsService:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const i=this.rowNode.isSelected(),s=!i;if(s||!t.is("suppressRowDeselection")){const r=this.beans.gridOptionsService.is("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:s,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});void 0===i&&0===o&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}}class UD extends me{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(At("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),t?t({rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):(()=>{try{const s=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}})()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([B],UD.prototype,"postConstruct",null);let Vie=0,ya=(()=>{class n extends V{constructor(t,i,s,r){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=t,this.rowNode=i,this.beans=s,this.rowCtrl=r,this.instanceId=t.getId()+"-"+Vie++,this.createCellPosition(),this.addFeatures()}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new wie(this,this.beans),this.addDestroyFunc(()=>{var i;null===(i=this.cellPositionFeature)||void 0===i||i.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new Sie(this,this.beans),this.addDestroyFunc(()=>{var i;null===(i=this.cellCustomStyleFeature)||void 0===i||i.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new Mie(this,this.beans,this.column),this.addDestroyFunc(()=>{var i;null===(i=this.cellMouseListenerFeature)||void 0===i||i.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new Tie(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.destroy(),this.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection()&&(this.cellRangeFeature=new bie(this.beans,this),this.addDestroyFunc(()=>{var i;null===(i=this.cellRangeFeature)||void 0===i||i.destroy(),this.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()}addTooltipFeature(){this.tooltipFeature=new H7({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:()=>{const s=this.column.getColDef(),r=this.rowNode.data;if(s.tooltipField&&I(r))return X1(r,s.tooltipField,this.column.isTooltipFieldContainsDots());const o=s.tooltipValueGetter;return o?o({location:"cell",api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted}):null},getValueFormatted:()=>this.valueFormatted},this.beans),this.addDestroyFunc(()=>{var s;null===(s=this.tooltipFeature)||void 0===s||s.destroy(),this.tooltipFeature=null})}setComp(t,i,s,r,o){var a,c,l,u;this.cellComp=t,this.eGui=i,this.printLayout=r,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),s&&this.setupAutoHeight(s),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);const d=zs(this.column.getId());this.cellComp.setColId(d),this.cellComp.setRole("gridcell"),null===(a=this.cellPositionFeature)||void 0===a||a.setComp(i),null===(c=this.cellCustomStyleFeature)||void 0===c||c.setComp(t),null===(l=this.tooltipFeature)||void 0===l||l.setComp(t),null===(u=this.cellKeyboardListenerFeature)||void 0===u||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(f=>f()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t){if(!this.column.isAutoHeight())return;const i=t.parentElement,s=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,r=c=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:u,borderBottomWidth:d,borderTopWidth:f}=co(i),m=t.offsetHeight+(l+u+d+f);if(c<5){const M=this.beans.gridOptionsService.getDocument();if(!M||!M.contains(t)||0==m)return void this.beans.frameworkOverrides.setTimeout(()=>r(c+1),0)}const y=Math.max(m,s);this.rowNode.setRowAutoHeight(y,this.column)},o=()=>r(0);o();const a=this.beans.resizeObserverService.observeResize(t,o);this.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getInstanceId(){return this.instanceId}showValue(t=!1){const i=null!=this.valueFormatted?this.valueFormatted:this.value,s=this.createCellRendererParams(),r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),s);this.cellComp.setRenderDetails(r,i,t),this.refreshHandle()}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return null==this.rowNode.rowPinned&&("function"==typeof t||!0===t)}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),s=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),r=this.includeDndSource!=this.isIncludeControl(t.dndSource);return i||s||r}startEditing(t=null,i=!1,s=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,s)});const r=this.createCellEditorParams(t,i),o=this.column.getColDef(),a=this.beans.userComponentFactory.getCellEditorDetails(o,r),c=null!=a?.popupFromSelector?a.popupFromSelector:!!o.cellEditorPopup,l=null!=a?.popupPositionFromSelector?a.popupPositionFromSelector:o.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(a,c,l);const u=this.createEvent(s,v.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}setEditing(t){this.editing!==t&&(this.editing=t,this.refreshHandle())}stopRowOrCellEdit(t=!1){"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(t){const i={newValueExists:!1};if(t)return i;const s=this.cellComp.getCellEditor();return!s||s.isCancelAfterEnd&&s.isCancelAfterEnd()?i:{newValue:s.getValue(),newValueExists:!0}}saveNewValue(t,i){if(i===t)return!1;this.suppressRefreshCell=!0;const s=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,s}stopEditing(t=!1){if(!this.editing)return!1;const{newValue:i,newValueExists:s}=this.takeValueFromCellEditor(t),r=this.rowNode.getValueFromValueService(this.column);let o=!1;return s&&(o=this.saveNewValue(r,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(r,i,!t&&!!o),o}dispatchEditingStoppedEvent(t,i,s){const r=Object.assign(Object.assign({},this.createEvent(null,v.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:i,valueChanged:s});this.beans.eventService.dispatchEvent(r)}createCellEditorParams(t,i){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:i,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}}createCellRendererParams(){return{value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,s,r,o)=>this.registerRowDragger(i,s,o)}}parseValue(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}onCellChanged(t){this.cellComp&&t.column===this.column&&this.refreshCell({})}refreshCell(t){var i,s,r;if(this.suppressRefreshCell||this.editing||!this.cellComp)return;const o=this.column.getColDef(),a=null!=t&&!!t.newData,c=null!=t&&!!t.suppressFlash||!!o.suppressCellFlash,u=t&&t.forceRefresh||null==o.field&&null==o.valueGetter&&null==o.showRowGroup||a,d=this.updateAndFormatValue();if(u||d){this.showValue(a);const p=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!c&&!p&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyUserStyles(),null===(s=this.cellCustomStyleFeature)||void 0===s||s.applyClassesFromColDef()}this.refreshToolTip(),null===(r=this.cellCustomStyleFeature)||void 0===r||r.applyCellClassRules()}stopEditingAndFocus(t=!1,i=!1){this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(i)}navigateAfterEdit(t){this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,t?H.UP:H.DOWN,this.getCellPosition(),!1)}flashCell(t){this.animateCell("data-changed",t&&t.flashDelay,t&&t.fadeDelay)}animateCell(t,i,s){var r,o;const a=`ag-cell-${t}`,c=`ag-cell-${t}-animation`,{gridOptionsService:l}=this.beans;i||(i=null!==(r=l.getNum("cellFlashDelay"))&&void 0!==r?r:500),I(s)||(s=null!==(o=l.getNum("cellFadeDelay"))&&void 0!==o?o:1e3),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(c,!1),window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(a,!1),this.cellComp.addOrRemoveCssClass(c,!0),this.eGui.style.transition=`background-color ${s}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(c,!1),this.eGui.style.transition="")},s))},i)}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t=!1){const i=this.value,s=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!!t||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=s}valuesAreEqual(t,i){const s=this.column.getColDef();return s.equals?s.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const t=this.getGui();this.beans.gridOptionsService.setDomData(t,n.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(t,n.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return{type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex}}processCharacter(t){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.processCharacter(t)}onKeyDown(t){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.onKeyDown(t)}onMouseEvent(t,i){var s;null===(s=this.cellMouseListenerFeature)||void 0===s||s.onMouseEvent(t,i)}getGui(){return this.eGui}refreshToolTip(){var t;null===(t=this.tooltipFeature)||void 0===t||t.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&(null===(t=this.cellPositionFeature)||void 0===t||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&this.setAriaColIndex()}setAriaColIndex(){const t=this.beans.columnModel.getAriaColumnIndex(this.column);Pp(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return null===(t=this.cellPositionFeature)||void 0===t?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(t){this.eGui.appendChild(t)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}onCellFocused(t){if(!this.cellComp||this.beans.gridOptionsService.is("suppressCellFocus"))return;const i=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&t&&t.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});const s="fullRow"===this.beans.gridOptionsService.get("editType");!i&&!s&&this.editing&&this.stopRowOrCellEdit()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:so(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.is("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}onColDefChanged(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),s=this.createEvent(t,v.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(s),i.onCellContextMenu&&window.setTimeout(()=>i.onCellContextMenu(s),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new X0;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new UD(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,s){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(t,i);const r=this.createRowDragComp(t,i,s);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(t,i,s){const r=this.beans.gridOptionsService.is("pagination"),o=this.beans.gridOptionsService.is("rowDragManaged"),a=this.beans.gridOptionsService.isRowModelType("clientSide");if(o){if(!a)return void Le(()=>console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model"),"CellComp.addRowDragging");if(r)return void Le(()=>console.warn("AG Grid: managed row dragging is not possible when doing pagination"),"CellComp.addRowDragging")}const c=new ma(()=>this.value,this.rowNode,this.column,t,i,s);return this.beans.context.createBean(c),c}}return n.DOM_DATA_KEY_CELL_CTRL="cellCtrl",n})();var vi=function(n){return n.Normal="Normal",n.FullWidth="FullWidth",n.FullWidthLoading="FullWidthLoading",n.FullWidthGroup="FullWidthGroup",n.FullWidthDetail="FullWidthDetail",n}(vi||{});let Pie=0,ba=(()=>{class n extends V{constructor(t,i,s,r,o){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.lastMouseDownOnDragger=!1,this.updateColumnListsPending=!1,this.businessKeySanitised=null,this.beans=i,this.gridOptionsService=i.gridOptionsService,this.rowNode=t,this.paginationPage=i.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=r,this.printLayout=o,this.instanceId=t.id+"-"+Pie++,this.setAnimateFlags(s),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=zs(t)}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(t,i,s){const r={rowComp:t,element:i,containerType:s};this.allRowGuis.push(r),s===An.LEFT?this.leftGui=r:s===An.RIGHT?this.rightGui=r:s===An.FULL_WIDTH?this.fullWidthGui=r:this.centerGui=r,this.initialiseRowComp(r),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),t===An.LEFT?this.leftGui=void 0:t===An.RIGHT?this.rightGui=void 0:t===An.FULL_WIDTH&&(this.fullWidthGui=void 0)}isCacheable(){return this.rowType===vi.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=i)}initialiseRowComp(t){const i=this.gridOptionsService;this.listenOnDomOrder(t),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=t.rowComp;s.setRole("row"),this.getInitialRowClasses(t.containerType).forEach(o=>s.addOrRemoveCssClass(o,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&cs(t.element,1==this.rowNode.expanded),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),this.isFullWidth()&&!this.gridOptionsService.is("suppressCellFocus")&&s.setTabIndex(-1),i.setDomData(t.element,n.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(t.element,n.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.is("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){null!=this.businessKeySanitised&&t.setRowBusinessKey(this.businessKeySanitised)}setRowCompRowId(t){const i=zs(this.rowNode.id);null!=i&&t.setRowId(i)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(vp(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(vp(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if(this.gridOptionsService.isEnableRangeSelection())return void Le(()=>{console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");const i=this.beans.localeService.getLocaleTextFunc(),s=new ma(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(s,this.beans.context)}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType),s=this.createFullWidthParams(t.element,i);if(this.rowType==vi.FullWidthDetail&&!ie.__assertRegistered(K.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;let r;switch(this.rowType){case vi.FullWidthDetail:r=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(s);break;case vi.FullWidthGroup:r=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(s);break;case vi.FullWidthLoading:r=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(s);break;default:r=this.beans.userComponentFactory.getFullWidthCellRendererDetails(s)}t.rowComp.showFullWidth(r)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderer(){var t,i;return null===(i=null===(t=this.fullWidthGui)||void 0===t?void 0:t.rowComp)||void 0===i?void 0:i.getFullWidthCellRenderer()}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){var t;const i=this.gridOptionsService.getCallback("processRowPostCreate");i&&this.areAllContainersReady()&&i({eRow:null===(t=this.centerGui)||void 0===t?void 0:t.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,s=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&i&&s}setRowType(){const t=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),s=this.beans.doingMasterDetail&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(r);this.rowType=t?vi.FullWidthLoading:s?vi.FullWidthDetail:i?vi.FullWidth:a?vi.FullWidthGroup:vi.Normal}updateColumnLists(t=!1,i=!1){this.isFullWidth()||(t||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(i):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(t,i,s=null){const r={list:[],map:{}},o=(a,c)=>{r.list.push(c),r.map[a]=c};return i.forEach(a=>{const c=a.getInstanceId();let l=t.map[c];l||(l=new ya(a,this.rowNode,this.beans,this)),o(c,l)}),t.list.forEach(a=>{null==r.map[a.getColumn().getInstanceId()]&&(this.isCellEligibleToBeRemoved(a,s)?a.destroy():o(a.getColumn().getInstanceId(),a))}),r}updateColumnListsImpl(t=!1){this.updateColumnListsPending=!1;const i=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const s=i.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);const r=i.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const o=i.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}this.allRowGuis.forEach(s=>{s.rowComp.setCellCtrls((s.containerType===An.LEFT?this.leftCellCtrls:s.containerType===An.RIGHT?this.rightCellCtrls:this.centerCellCtrls).list,t)})}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const a=t.isEditing(),c=this.beans.focusService.isCellFocused(t.getCellPosition());if(a||c){const u=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(u)>=0)}return!0}listenOnDomOrder(t){const i=()=>{const s=this.gridOptionsService.is("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");t.rowComp.setDomOrder(s||r)};this.addManagedPropertyListener("domLayout",i),i()}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=I(this.rowNode.oldRowTop),s=this.beans.columnModel.isPinningLeft(),r=this.beans.columnModel.isPinningRight();i?(this.slideInAnimation.center=!0,this.slideInAnimation.left=s,this.slideInAnimation.right=r):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=s,this.fadeInAnimation.right=r)}isEditing(){return this.editingRow}stopRowEditing(t){this.stopEditing(t)}isFullWidth(){return this.rowType!==vi.Normal}getRowType(){return this.rowType}refreshFullWidth(){const t=(c,l)=>{if(!c)return!0;const u=c.rowComp.getFullWidthCellRenderer();if(!u||!u.refresh)return!1;const d=this.createFullWidthParams(c.element,l);return u.refresh(d)},i=t(this.fullWidthGui,null),s=t(this.centerGui,null),r=t(this.leftGui,"left"),o=t(this.rightGui,"right");return i&&s&&r&&o}addListeners(){this.addManagedListener(this.rowNode,Me.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,Me.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,Me.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Me.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const t=this.beans.eventService;this.addManagedListener(t,v.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,v.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,v.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,v.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(t,v.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(t,v.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,v.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,v.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()}onColumnMoved(){this.updateColumnLists()}addListenersForCellComps(){this.addManagedListener(this.rowNode,Me.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())}),this.addManagedListener(this.rowNode,Me.EVENT_CELL_CHANGED,t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))})}onRowNodeDataChanged(t){this.rowNode.detailNode&&this.beans.rowRenderer.refreshFullWidthRow(this.rowNode.detailNode),this.isFullWidth()?this.beans.rowRenderer.refreshFullWidthRow(this.rowNode):(this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss())}onRowNodeCellChanged(){this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const r=t===fo.Below;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",t===fo.Above),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}onRowNodeDraggingChanged(){this.postProcessRowDragging()}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass("ag-row-group",t),s.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),s.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),cs(s.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:so(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(t){const i=this.allRowGuis.find(l=>l.element.contains(t.target));if((i?i.element:null)!==t.target)return;const o=this.rowNode,a=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(t,t.key,{rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:a&&a.column},!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Fs(t))return;const i=this.allRowGuis.find(a=>a.element.contains(t.target)),s=i?i.element:null,r=s===t.target;let o=null;r||(o=this.beans.focusService.findNextFocusableElement(s,!1,t.shiftKey)),(this.isFullWidth()&&r||!o)&&this.beans.navigationService.onTabKeyDown(this,t)}onFullWidthRowFocused(t){var i;const s=this.rowNode,r=!!t&&this.isFullWidth()&&t.rowIndex===s.rowIndex&&t.rowPinned==s.rowPinned,o=this.fullWidthGui?this.fullWidthGui.element:null===(i=this.centerGui)||void 0===i?void 0:i.element;o&&(o.classList.toggle("ag-full-width-focus",r),r&&o.focus({preventScroll:!0}))}refreshCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()}removeCellCtrl(t,i){const s={list:[],map:{}};return t.list.forEach(r=>{r!==i&&(s.list.push(r),s.map[r.getInstanceId()]=r)}),s}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}}createRowEvent(t,i){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:i}}createRowEventWithSource(t,i){const s=this.createRowEvent(t,i);return s.source=this,s}onRowDblClick(t){if(Fs(t))return;const i=this.createRowEventWithSource(v.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(i)}onRowMouseDown(t){if(this.lastMouseDownOnDragger=da(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode,s=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:s.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}onRowClick(t){if(Fs(t)||this.lastMouseDownOnDragger)return;const s=this.createRowEventWithSource(v.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(s);const r=t.ctrlKey||t.metaKey,o=t.shiftKey;if(this.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))return;const c=this.gridOptionsService.is("rowMultiSelectWithClick"),l=!this.gridOptionsService.is("suppressRowDeselection"),u="rowClicked";this.rowNode.isSelected()?c?this.rowNode.setSelectedParams({newValue:!1,event:t,source:u}):r?l&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:t,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!c&&!r,rangeSelect:o,event:t,source:u})}setupDetailRowAutoHeight(t){if(this.rowType!==vi.FullWidthDetail||!this.gridOptionsService.is("detailRowAutoHeight"))return;const i=()=>{const r=t.clientHeight;null!=r&&r>0&&this.beans.frameworkOverrides.setTimeout(()=>{this.rowNode.setRowHeight(r),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()},0)},s=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(s),i()}createFullWidthParams(t,i){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,o,a,c)=>this.addFullWidthRowDragging(r,o,a,c)}}addFullWidthRowDragging(t,i,s="",r){if(!this.isFullWidth())return;const o=new ma(()=>s,this.rowNode,void 0,t,i,r);this.createManagedBean(o,this.beans.context)}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}onModelUpdated(){this.refreshFirstAndLastRowStyles()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){if(this.stoppingRowEdit)return;const i=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;let r=!1;for(const o of i){const a=o.stopEditing(t);s&&!t&&!r&&a&&(r=!0)}if(r){const o=this.createRowEvent(v.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(o)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(t){this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=this.createRowEvent(t?v.EVENT_ROW_EDITING_STARTED:v.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)}startRowEditing(t=null,i=null,s=null){this.editingRow||this.getAllCellCtrls().reduce((o,a)=>{const c=a===i;return a.startEditing(c?t:null,c,s),!!o||a.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t){const i=this.processStylesFromGridOptions();this.forEachGui(t,s=>s.rowComp.setUserStyles(i))}getPinnedForContainer(t){return t===An.LEFT?"left":t===An.RIGHT?"right":null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),s={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(s)}processStylesFromGridOptions(){const t=this.gridOptionsService.get("rowStyle");if(t&&"function"==typeof t)return void console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const i=this.gridOptionsService.getCallback("getRowStyle");let s;return i&&(s=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},t,s)}onRowSelected(t){const i=!!this.rowNode.isSelected();this.forEachGui(t,s=>{s.rowComp.addOrRemoveCssClass("ag-row-selected",i),t2(s.element,!!i||void 0);const r=this.createAriaLabel();oo(s.element,r??"")})}createAriaLabel(){const t=this.rowNode.isSelected();return t&&this.gridOptionsService.is("suppressRowDeselection")?void 0:this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(t){this.active&&(this.addManagedListener(t,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(t,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,Me.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.is("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Me.EVENT_MOUSE_LEAVE,()=>{t.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(t){const s=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.applyPaginationOffset(s.top,!0)-100,o=this.applyPaginationOffset(s.bottom,!0)+100;return Math.min(Math.max(r,t),o)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){(t?[t]:this.allRowGuis).forEach(i)}onRowHeightChanged(t){if(null==this.rowNode.rowHeight)return;const i=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=o?Math.min(s,o)-2+"px":void 0;this.forEachGui(t,c=>{c.element.style.height=`${i}px`,a&&c.element.style.setProperty("--ag-line-height",a)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);const t=this.createRowEvent(v.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),super.destroy()}setupRemoveAnimation(){if(!this.isSticky())if(null!=this.rowNode.rowTop){const i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0))}destroySecondPass(){this.allRowGuis.length=0;const t=i=>(i.list.forEach(s=>s.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocused(){this.onCellFocusChanged()}onCellFocusCleared(){this.onCellFocusChanged()}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?t:t+this.beans.paginationProxy.getPixelOffset()*(i?1:-1)}setRowTop(t){if(!this.printLayout&&I(t)){const i=this.applyPaginationOffset(t),o=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(o)}}getInitialRowTop(t){return this.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.gridOptionsService.is("suppressRowTransform")?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";let i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{const s=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,r=this.applyPaginationOffset(s);i=this.rowNode.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return i+"px"}setRowTopStyle(t){const i=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(s=>i?s.rowComp.setTop(t):s.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(s=>{s.getColumn()==t&&(i=s)}),null!=i||this.getAllCellCtrls().forEach(s=>{s.getColSpanningList().indexOf(t)>=0&&(i=s)}),i}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(t){const i=this.rowNode.getRowIndexString(),s=this.beans.headerNavigationService.getHeaderRowCount(),r=this.rowNode.rowIndex%2==0,o=s+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(i),a.rowComp.addOrRemoveCssClass("ag-row-even",r),a.rowComp.addOrRemoveCssClass("ag-row-odd",!r),Vp(a.element,o)})}getPinnedLeftRowElement(){return this.leftGui?this.leftGui.element:void 0}getPinnedRightRowElement(){return this.rightGui?this.rightGui.element:void 0}getBodyRowElement(){return this.centerGui?this.centerGui.element:void 0}getFullWidthRowElement(){return this.fullWidthGui?this.fullWidthGui.element:void 0}}return n.DOM_DATA_KEY_ROW_CTRL="renderedRow",n})();var Ei=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Bn extends V{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Tp("touchstart")?"touchstart":"mousedown"].forEach(i=>{const s=this.processMouseEvent.bind(this,i);this.addManagedListener(this.element,i,s)})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Fs(t))return;const i=this.getRowForEvent(t),s=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,null,i,s):(s&&s.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!ao())return;const e=new fi(this.element);this.addManagedListener(e,fi.EVENT_LONG_TAP,i=>{const s=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(null,i.touchEvent,s,r)}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=this.gridOptionsService.getDomData(t,ba.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,s){const r=i?i.getRowNode():null,o=s?s.getColumn():null;let a=null;o&&(s.dispatchCellContextMenuEvent(e||t),a=this.valueService.getValue(o,r));const c=this.ctrlsService.getGridBodyCtrl(),l=s?s.getGui():c.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,t,r,o,a,l)}getControlsForEventTarget(e){return{cellCtrl:N0(this.gridOptionsService,e,ya.DOM_DATA_KEY_CELL_CTRL),rowCtrl:N0(this.gridOptionsService,e,ba.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){const s=e.getRowNode(),r=e.getColumn(),o=e.isEditing();if(!q0(this.gridOptionsService,i,s,r,o)&&"keydown"===t&&(!o&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),a7(i)&&e.processCharacter(i)),"keydown"===t){const c=e.createEvent(i,v.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}}processFullWidthRowKeyboardEvent(e,t,i){const s=e.getRowNode(),r=this.focusService.getFocusedCell();if(!q0(this.gridOptionsService,i,s,r&&r.column,!1)&&"keydown"===t)switch(i.key){case H.PAGE_HOME:case H.PAGE_END:case H.PAGE_UP:case H.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case H.UP:case H.DOWN:e.onKeyboardNavigate(i);break;case H.TAB:e.onTabKeyDown(i)}if("keydown"===t){const c=e.createRowEvent(v.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(c)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=aD(e);return i===H.A?this.onCtrlAndA(e):i===H.C?this.onCtrlAndC(e):i===H.D?this.onCtrlAndD(e):i===H.V?this.onCtrlAndV(e):i===H.X?this.onCtrlAndX(e):i===H.Y?this.onCtrlAndY():i===H.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,paginationProxy:i,rangeService:s}=this;if(s&&i.isRowsToRender()){const[r,o]=[t.isEmpty("top"),t.isEmpty("bottom")],a=r?null:"top";let c,l;o?(c=null,l=this.paginationProxy.getRowCount()-1):(c="bottom",l=t.getPinnedBottomRowData().length-1);const u=this.columnModel.getAllDisplayedColumns();if(ui(u))return;s.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:l,rowEndPinned:c,columnStart:u[0],columnEnd:qe(u)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gridOptionsService.is("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}}Ei([C("mouseEventService")],Bn.prototype,"mouseEventService",void 0),Ei([C("valueService")],Bn.prototype,"valueService",void 0),Ei([Pe("contextMenuFactory")],Bn.prototype,"contextMenuFactory",void 0),Ei([C("ctrlsService")],Bn.prototype,"ctrlsService",void 0),Ei([C("navigationService")],Bn.prototype,"navigationService",void 0),Ei([C("focusService")],Bn.prototype,"focusService",void 0),Ei([C("undoRedoService")],Bn.prototype,"undoRedoService",void 0),Ei([C("columnModel")],Bn.prototype,"columnModel",void 0),Ei([C("paginationProxy")],Bn.prototype,"paginationProxy",void 0),Ei([C("pinnedRowModel")],Bn.prototype,"pinnedRowModel",void 0),Ei([Pe("rangeService")],Bn.prototype,"rangeService",void 0),Ei([Pe("clipboardService")],Bn.prototype,"clipboardService",void 0),Ei([B],Bn.prototype,"postConstruct",null);var J0=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Vl extends V{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,v.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=fl(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:v.EVENT_BODY_HEIGHT_CHANGED}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}}J0([C("ctrlsService")],Vl.prototype,"ctrlsService",void 0),J0([C("columnModel")],Vl.prototype,"columnModel",void 0),J0([C("scrollVisibleService")],Vl.prototype,"scrollVisibleService",void 0),J0([B],Vl.prototype,"postConstruct",null);var WD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class x7 extends V{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth();De(this.element,e>0),Gi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}}WD([C("pinnedWidthService")],x7.prototype,"pinnedWidthService",void 0),WD([B],x7.prototype,"postConstruct",null);var jD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class I7 extends V{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth();De(this.element,e>0),Gi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}}jD([C("pinnedWidthService")],I7.prototype,"pinnedWidthService",void 0),jD([B],I7.prototype,"postConstruct",null);var $D=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class ed extends V{constructor(e,t){super(),this.eContainer=e,this.eWrapper=t}postConstruct(){this.addManagedListener(this.eventService,v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?`${e}px`:"";this.eContainer.style.height=t,this.eWrapper&&(this.eWrapper.style.height=t)}}$D([C("rowContainerHeightService")],ed.prototype,"maxDivHeightScaler",void 0),$D([B],ed.prototype,"postConstruct",null);var O7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class td extends V{constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.gridOptionsService.isEnableRangeSelection()||ne(this.rangeService))return;const e={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(e),this.addDestroyFunc(()=>this.dragService.removeDragSource(e))}}O7([Pe("rangeService")],td.prototype,"rangeService",void 0),O7([C("dragService")],td.prototype,"dragService",void 0),O7([B],td.prototype,"postConstruct",null);var V7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class f2 extends V{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,t=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),s=e.getDisplayedColumnsLeftWidth(),r=e.getDisplayedColumnsRightWidth();let o;t?o=i+s+r:(o=i,this.addSpacer&&0===(this.gridOptionsService.is("enableRtl")?s:r)&&this.scrollVisibleService.isVerticalScrollShowing()&&(o+=this.gridOptionsService.getScrollbarWidth())),this.callback(o)}}V7([C("columnModel")],f2.prototype,"columnModel",void 0),V7([C("scrollVisibleService")],f2.prototype,"scrollVisibleService",void 0),V7([B],f2.prototype,"postConstruct",null);var go=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},D=function(n){return n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth",n.TOP_LEFT="topLeft",n.TOP_RIGHT="topRight",n.TOP_CENTER="topCenter",n.TOP_FULL_WIDTH="topFullWidth",n.STICKY_TOP_LEFT="stickyTopLeft",n.STICKY_TOP_RIGHT="stickyTopRight",n.STICKY_TOP_CENTER="stickyTopCenter",n.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",n.BOTTOM_LEFT="bottomLeft",n.BOTTOM_RIGHT="bottomRight",n.BOTTOM_CENTER="bottomCenter",n.BOTTOM_FULL_WIDTH="bottomFullWidth",n}(D||{}),An=function(n){return n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth",n}(An||{});const zie=Sr([[D.CENTER,"ag-center-cols-container"],[D.LEFT,"ag-pinned-left-cols-container"],[D.RIGHT,"ag-pinned-right-cols-container"],[D.FULL_WIDTH,"ag-full-width-container"],[D.TOP_CENTER,"ag-floating-top-container"],[D.TOP_LEFT,"ag-pinned-left-floating-top"],[D.TOP_RIGHT,"ag-pinned-right-floating-top"],[D.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[D.STICKY_TOP_CENTER,"ag-sticky-top-container"],[D.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[D.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[D.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[D.BOTTOM_CENTER,"ag-floating-bottom-container"],[D.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[D.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[D.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),kie=Sr([[D.CENTER,"ag-center-cols-viewport"],[D.TOP_CENTER,"ag-floating-top-viewport"],[D.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[D.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),Gie=Sr([[D.CENTER,"ag-center-cols-clipper"]]);class Wi extends V{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer=this.name===D.TOP_FULL_WIDTH||this.name===D.STICKY_TOP_FULL_WIDTH||this.name===D.BOTTOM_FULL_WIDTH||this.name===D.FULL_WIDTH}static getRowContainerCssClasses(e){return{container:zie.get(e),viewport:kie.get(e),wrapper:Gie.get(e)}}static getPinned(e){switch(e){case D.BOTTOM_LEFT:case D.TOP_LEFT:case D.STICKY_TOP_LEFT:case D.LEFT:return"left";case D.BOTTOM_RIGHT:case D.TOP_RIGHT:case D.STICKY_TOP_RIGHT:case D.RIGHT:return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([D.CENTER],()=>this.viewportSizeFeature=this.createManagedBean(new Vl(this)))}registerWithCtrlsService(){switch(this.name){case D.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case D.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case D.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case D.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case D.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case D.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case D.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case D.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case D.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case D.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case D.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case D.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i,s){this.comp=e,this.eContainer=t,this.eViewport=i,this.eWrapper=s,this.createManagedBean(new Bn(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const l=[D.TOP_CENTER,D.TOP_LEFT,D.TOP_RIGHT,D.BOTTOM_CENTER,D.BOTTOM_LEFT,D.BOTTOM_RIGHT,D.CENTER,D.LEFT,D.RIGHT,D.STICKY_TOP_CENTER,D.STICKY_TOP_LEFT,D.STICKY_TOP_RIGHT],u=[D.CENTER,D.LEFT,D.RIGHT,D.FULL_WIDTH],d=[D.CENTER,D.TOP_CENTER,D.STICKY_TOP_CENTER,D.BOTTOM_CENTER],p=[D.RIGHT,D.BOTTOM_RIGHT,D.TOP_RIGHT,D.STICKY_TOP_RIGHT];this.forContainers([D.LEFT,D.BOTTOM_LEFT,D.TOP_LEFT,D.STICKY_TOP_LEFT],()=>{this.pinnedWidthFeature=this.createManagedBean(new x7(this.eContainer)),this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(p,()=>{this.pinnedWidthFeature=this.createManagedBean(new I7(this.eContainer)),this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(u,()=>this.createManagedBean(new ed(this.eContainer,this.eWrapper))),this.forContainers(l,()=>this.createManagedBean(new td(this.eContainer))),this.forContainers(d,()=>this.createManagedBean(new f2(g=>this.comp.setContainerWidth(`${g}px`)))),n2()&&(this.forContainers([D.CENTER],()=>{this.addManagedListener(this.eventService,this.enableRtl?v.EVENT_LEFT_PINNED_WIDTH_CHANGED:v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.refreshPaddingForFakeScrollbar())}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()}refreshPaddingForFakeScrollbar(){const{enableRtl:e,columnModel:t,name:i,eWrapper:s,eContainer:r}=this,o=e?D.LEFT:D.RIGHT;this.forContainers([D.CENTER,o],()=>{const a=t.getContainerWidth(o),c=e?"marginLeft":"marginRight";i===D.CENTER?s.style[c]=a?"0px":"16px":r.style[c]=a?"16px":"0px"})}addListeners(){this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,()=>this.onScrollVisibilityChanged()),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if([D.STICKY_TOP_CENTER,D.STICKY_TOP_LEFT,D.STICKY_TOP_RIGHT,D.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const i=()=>{const s=this.gridOptionsService.is("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(s||r)};this.addManagedPropertyListener("domLayout",i),i()}stopHScrollOnPinnedRows(){this.forContainers([D.TOP_CENTER,D.STICKY_TOP_CENTER,D.BOTTOM_CENTER],()=>{this.addManagedListener(this.eViewport,"scroll",()=>this.eViewport.scrollLeft=0)})}onDisplayedColumnsChanged(){this.forContainers([D.CENTER],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers([D.CENTER],()=>this.onHorizontalViewportChanged())}onScrollVisibilityChanged(){const e=this.gridOptionsService.getScrollbarWidth()||0;if(this.name===D.CENTER){const i=this.scrollVisibleService.isHorizontalScrollShowing()?e:0,s=0==i?"100%":`calc(100% + ${i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setViewportHeight(s))}if(this.name===D.FULL_WIDTH){const i=`calc(100% - ${n2()?16:0}px)`;this.eContainer.style.setProperty("width",i)}}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(){const e=this.getCenterWidth(),t=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}getCenterWidth(){return j0(this.eViewport)}getCenterViewportScrollLeft(){return gl(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportVisible(){return Tr(this.eViewport)}getViewportScrollLeft(){return gl(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||tD(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){ml(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!Wi.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged()),n2()&&this.refreshPaddingForFakeScrollbar()}onDisplayedRowsChanged(e=!1){if(this.visible){const t=this.gridOptionsService.isDomLayout("print"),i=r=>{const o=r.isFullWidth(),a=this.embedFullWidthRows||t;return this.isFullWithContainer?!a&&o:a||!o},s=this.getRowCtrls().filter(i);this.comp.setRowCtrls(s,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)}getRowCtrls(){switch(this.name){case D.TOP_CENTER:case D.TOP_LEFT:case D.TOP_RIGHT:case D.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case D.STICKY_TOP_CENTER:case D.STICKY_TOP_LEFT:case D.STICKY_TOP_RIGHT:case D.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case D.BOTTOM_CENTER:case D.BOTTOM_LEFT:case D.BOTTOM_RIGHT:case D.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}}}go([C("scrollVisibleService")],Wi.prototype,"scrollVisibleService",void 0),go([C("dragService")],Wi.prototype,"dragService",void 0),go([C("ctrlsService")],Wi.prototype,"ctrlsService",void 0),go([C("columnModel")],Wi.prototype,"columnModel",void 0),go([C("resizeObserverService")],Wi.prototype,"resizeObserverService",void 0),go([C("animationFrameService")],Wi.prototype,"animationFrameService",void 0),go([C("rowRenderer")],Wi.prototype,"rowRenderer",void 0),go([B],Wi.prototype,"postConstruct",null);var js=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const Bie=`<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="${D.TOP_LEFT}"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="${D.TOP_CENTER}"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="${D.TOP_RIGHT}"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="${D.TOP_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="${D.LEFT}"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="${D.CENTER}"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="${D.RIGHT}"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="${D.FULL_WIDTH}"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="${D.STICKY_TOP_LEFT}"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="${D.STICKY_TOP_CENTER}"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="${D.STICKY_TOP_RIGHT}"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="${D.STICKY_TOP_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="${D.BOTTOM_LEFT}"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="${D.BOTTOM_CENTER}"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="${D.BOTTOM_RIGHT}"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="${D.BOTTOM_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>`;class hs extends me{constructor(){super(Bie)}init(){const e=(i,s)=>{const r=`${i}px`;s.style.minHeight=r,s.style.height=r},t={setRowAnimationCssOnBodyViewport:(i,s)=>this.setRowAnimationCssOnBodyViewport(i,s),setColumnCount:i=>G_(this.getGui(),i),setRowCount:i=>k_(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setColumnMovingCss:(i,s)=>this.addOrRemoveCssClass(i,s),updateLayoutClasses:(i,s)=>{[this.eBodyViewport.classList,this.eBodyClipper.classList,this.eBody.classList].forEach(o=>{o.toggle(Ft.AUTO_HEIGHT,s.autoHeight),o.toggle(Ft.NORMAL,s.normal),o.toggle(Ft.PRINT,s.print)}),this.addOrRemoveCssClass(Ft.AUTO_HEIGHT,s.autoHeight),this.addOrRemoveCssClass(Ft.NORMAL,s.normal),this.addOrRemoveCssClass(Ft.PRINT,s.print)},setAlwaysVerticalScrollClass:(i,s)=>this.eBodyViewport.classList.toggle(BD,s),registerBodyViewportResizeListener:i=>{const s=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>s())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,s)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(i,s))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new Gn),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&z_(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle(xl.ANIMATION_ON,t),i.toggle(xl.ANIMATION_OFF,!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}}js([C("resizeObserverService")],hs.prototype,"resizeObserverService",void 0),js([Pe("rangeService")],hs.prototype,"rangeService",void 0),js([W("eBodyViewport")],hs.prototype,"eBodyViewport",void 0),js([W("eStickyTop")],hs.prototype,"eStickyTop",void 0),js([W("eTop")],hs.prototype,"eTop",void 0),js([W("eBottom")],hs.prototype,"eBottom",void 0),js([W("gridHeader")],hs.prototype,"headerRootComp",void 0),js([W("eBodyClipper")],hs.prototype,"eBodyClipper",void 0),js([W("eBody")],hs.prototype,"eBody",void 0),js([B],hs.prototype,"init",null);var P7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Pl=class extends V{postConstruct(){this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)}updateImpl(){const e=this.ctrlsService.getCenterRowContainerCtrl();if(!e)return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:v.EVENT_SCROLL_VISIBILITY_CHANGED}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};P7([C("ctrlsService")],Pl.prototype,"ctrlsService",void 0),P7([B],Pl.prototype,"postConstruct",null),Pl=P7([$("scrollVisibleService")],Pl);var Fl,qD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let p2=Fl=class extends V{constructor(){super(...arguments),this.gridInstanceId=Fl.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[Fl.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return N0(this.gridOptionsService,e.target,ya.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const i=t[Fl.GRID_DOM_KEY];if(I(i))return i===this.gridInstanceId;t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gridOptionsService.isDomLayout("normal");let s,r;if(null!=e.clientX||null!=e.clientY?(s=e.clientX,r=e.clientY):(s=e.x,r=e.y),t){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition();s+=o.getScrollFeature().getHScrollPosition().left,r+=a.top}return{x:s,y:r}}};p2.gridInstanceSequence=new o2,p2.GRID_DOM_KEY="__ag_grid_instance",qD([C("ctrlsService")],p2.prototype,"ctrlsService",void 0),p2=Fl=qD([$("mouseEventService")],p2);var Un=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let pn=class extends V{constructor(){super(),this.onPageDown=Ep(this.onPageDown,100),this.onPageUp=Ep(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,s=e.altKey,r=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,a=this.mouseEventService.getCellPositionForEvent(e);let c=!1;switch(i){case H.PAGE_HOME:case H.PAGE_END:!r&&!s&&(this.onHomeOrEndKey(i),c=!0);break;case H.LEFT:case H.RIGHT:case H.UP:case H.DOWN:if(!a)return!1;r&&!s&&!o&&(this.onCtrlUpDownLeftRight(i,a),c=!0);break;case H.PAGE_DOWN:case H.PAGE_UP:!r&&!s&&(c=this.handlePageUpDown(i,a,t))}return c&&e.preventDefault(),c}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),!!t&&(e===H.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:s,focusIndex:r,focusColumn:o}=e;I(s)&&!s.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(s),I(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:o,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:r,rowPinned:null,column:o})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.getViewportHeight(),r=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRowIndexAtPixel(i.top+s+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a):this.navigateToNextPage(e,a)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.paginationProxy.getPixelOffset(),o=this.paginationProxy.getRowIndexAtPixel(i.top+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o,!0):this.navigateToNextPage(e,o,!0)}navigateToNextPage(e,t,i=!1){const s=this.getViewportHeight(),r=this.paginationProxy.getPageFirstRow(),o=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getRow(e.rowIndex),l=i?c?.rowHeight-s-a:s-a;let f,d=this.paginationProxy.getRowIndexAtPixel(c?.rowTop+l+a);d===e.rowIndex&&(t=d=e.rowIndex+(i?-1:1)),i?(f="bottom",d<r&&(d=r),t<r&&(t=r)):(f="top",d>o&&(d=o),t>o&&(t=o)),this.isRowTallerThanView(d)&&(t=d,f="top"),this.navigateTo({scrollIndex:t,scrollType:f,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){var i;const s=t?-1:1,r=this.getViewportHeight(),o=this.paginationProxy.getPageLastRow();let a=0,c=e.rowIndex;for(;c>=0&&c<=o;){const l=this.paginationProxy.getRow(c);if(l){const u=null!==(i=l.rowHeight)&&void 0!==i?i:0;if(a+u>r)break;a+=u}c+=s}return Math.max(0,Math.min(c,o))}getViewportHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth();let s=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(s-=i),s}isRowTallerThanView(e){const t=this.paginationProxy.getRow(e);if(!t)return!1;const i=t.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:s,column:r}=i;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:r,focusIndex:s,focusColumn:r})}onHomeOrEndKey(e){const t=e===H.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),s=t?i[0]:qe(i),r=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s})}onTabKeyDown(e,t){const i=t.shiftKey;if(this.tabToNextCellCommon(e,i,t))t.preventDefault();else if(i){const{rowIndex:r,rowPinned:o}=e.getRowPosition();(o?0===r:r===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusLastHeader(t)))}else e instanceof ya&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let s=this.getCellByPosition(i);return!!(s||(s=this.rowRenderer.getRowByPosition(i),s&&s.isFullWidth()))&&this.tabToNextCellCommon(s,e,t)}tabToNextCellCommon(e,t,i){let r,s=e.isEditing();if(!s&&e instanceof ya){const a=e.getRowCtrl();a&&(s=a.isEditing())}return r=s?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,t,i):this.moveToNextEditingCell(e,t,i):this.moveToNextCellNotEditing(e,t),r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const s=e.getCellPosition();e.getGui().focus(),e.stopEditing();const r=this.findNextCellToFocusOn(s,t,!0);return null!=r&&(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const s=e.getCellPosition(),r=this.findNextCellToFocusOn(s,t,!0);if(null==r)return!1;const o=r.getCellPosition(),a=this.isCellEditable(s),c=this.isCellEditable(o),l=o&&s.rowIndex===o.rowIndex&&s.rowPinned===o.rowPinned;return a&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),c?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.columnModel.getAllDisplayedColumns();let s;s=e instanceof ba?Object.assign(Object.assign({},e.getRowPosition()),{column:t?i[0]:qe(i)}):e.getCellPosition();const r=this.findNextCellToFocusOn(s,t,!1);if(r instanceof ya)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return I(r)}findNextCellToFocusOn(e,t,i){let s=e;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextTabbedCell(s,t);const r=this.gridOptionsService.getCallback("tabToNextCell");if(I(r)){const l=r({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:s||null});I(l)?(l.floating&&(Le(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),l.rowPinned=l.floating),s={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):s=null}if(!s)return null;if(s.rowIndex<0){const c=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+s.rowIndex,column:s.column}}),null}const o="fullRow"===this.gridOptionsService.get("editType");if(i&&!o&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const a=this.getCellByPosition(s);if(!a){const c=this.rowRenderer.getRowByPosition(s);if(!c||!c.isFullWidth()||i)continue;return c}if(!a.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(s),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,i,s){let r=i,o=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gridOptionsService.is("enableRtl")?t===H.LEFT&&(r=this.getLastCellOfColSpan(r)):t===H.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(t,r),o=ne(r);if(o&&e&&e.key===H.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),s){const c=this.gridOptionsService.getCallback("navigateToNextCell");if(I(c)){const u=c({key:t,previousCellPosition:i,nextCellPosition:r||null,event:e});I(u)?(u.floating&&(Le(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),u.rowPinned=u.floating),r={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):r=null}}if(!r)return;if(r.rowIndex<0){const c=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+r.rowIndex,column:i.column},event:e||void 0})}const a=this.getNormalisedPosition(r);a?this.focusPosition(a):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const i=this.columnModel.getAllDisplayedColumns(),s=this.rowRenderer.getRowByPosition(e);if(!s||!s.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?qe(i):i[0])};this.focusPosition(o);const a=null!=r&&this.rowPositionUtils.before(o,r);return this.eventService.dispatchEvent({type:v.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,floating:o.rowPinned,fromBelow:a}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:qe(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(t&&i?.sticky)&&ne(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};Un([C("mouseEventService")],pn.prototype,"mouseEventService",void 0),Un([C("paginationProxy")],pn.prototype,"paginationProxy",void 0),Un([C("focusService")],pn.prototype,"focusService",void 0),Un([Pe("rangeService")],pn.prototype,"rangeService",void 0),Un([C("columnModel")],pn.prototype,"columnModel",void 0),Un([C("rowModel")],pn.prototype,"rowModel",void 0),Un([C("ctrlsService")],pn.prototype,"ctrlsService",void 0),Un([C("rowRenderer")],pn.prototype,"rowRenderer",void 0),Un([C("headerNavigationService")],pn.prototype,"headerNavigationService",void 0),Un([C("rowPositionUtils")],pn.prototype,"rowPositionUtils",void 0),Un([C("cellNavigationService")],pn.prototype,"cellNavigationService",void 0),Un([C("pinnedRowModel")],pn.prototype,"pinnedRowModel",void 0),Un([B],pn.prototype,"postConstruct",null),pn=Un([$("navigationService")],pn);let KD=(()=>{class n extends l2{constructor(t){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=t}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),n.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const t=this.getGui(),i=this.params;this.addManagedListener(t,"keydown",r=>{q0(this.gridOptionsService,r,i.node,i.column,!0)||i.onKeyDown(r)})}}return n.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([B],KD.prototype,"postConstruct",null);class Wie extends me{constructor(e,t,i,s,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=s,this.setTemplate(`<div comp-id="${this.getCompId()}"/>`);const o=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const a=(l,u,d)=>{const f=d||o;null!=u&&""!=u?f.setAttribute(l,u):f.removeAttribute(l)},c={addOrRemoveCssClass:(l,u)=>this.addOrRemoveCssClass(l,u),setUserStyles:l=>s7(o,l),getFocusableElement:()=>this.getFocusableElement(),setTabIndex:l=>a("tabindex",l.toString()),setRole:l=>jt(o,l),setColId:l=>a("col-id",l),setTitle:l=>a("title",l),setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,u,d)=>this.setRenderDetails(l,u,d),setEditDetails:(l,u,d)=>this.setEditDetails(l,u,d),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};this.cellCtrl=t,t.setComp(c,this.getGui(),this.eCellWrapper,i,r)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!i&&!r&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,s=i&&null==this.eCellWrapper;s&&(this.eCellWrapper=en('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));const r=!i&&null!=this.eCellWrapper;r&&(Mr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const o=!e&&i,a=o&&null==this.eCellValue;a&&(this.eCellValue=en('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));const c=!o&&null!=this.eCellValue;c&&(Mr(this.eCellValue),this.eCellValue=void 0);const l=s||r||a||c;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const s=this.editorVersion,r=e.newAgStackInstance();if(!r)return;const{params:o}=e;r.then(c=>this.afterCellEditorCreated(s,c,o,t,i)),ne(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();hi(t);const i=null!=e?zs(e):null;null!=i&&(t.innerHTML=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Mr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Mr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t}createCellRendererInstance(e){const i=!this.beans.gridOptionsService.is("suppressAnimationFrame"),s=this.rendererVersion,{componentClass:r}=e,o=()=>{if(this.rendererVersion!==s||!this.isAlive())return;const c=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,s,r);c&&c.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const r=this.getParentOfValue();hi(r),r.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)}afterCellEditorCreated(e,t,i,s,r){if(e!==this.editorVersion)return void this.beans.context.destroyBean(t);if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing(!0);if(!t.getGui)return console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui();const c=s||void 0!==t.isPopup&&t.isPopup();c?this.addPopupCellEditor(i,r):this.addInCellEditor(),this.refreshEditStyles(!0,c),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),null===(i=this.rowCtrl)||void 0===i||i.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new KD(e));const s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);const r=this.beans.popupService,o=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),a=t??(i.getPopupPosition?i.getPopupPosition():"over"),c=this.beans.gridOptionsService.is("enableRtl"),l={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:c?"right":"left",keepWithinBounds:!0},u=r.positionPopupByComponent.bind(r,l),d=this.beans.localeService.getLocaleTextFunc(),f=r.addPopup({modal:o,eChild:s,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:u,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});f&&(this.hideEditorPopup=f.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&G0()&&e.focus({preventScroll:!0}),hi(this.getParentOfValue())}}class jie extends me{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e,this.setTemplate(`<div comp-id="${this.getCompId()}" style="${this.getInitialStyle(i)}"/>`);const s=this.getGui(),r=s.style;e.setComp({setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(a,c)=>this.addOrRemoveCssClass(a,c),setUserStyles:a=>s7(s,a),setTop:a=>r.top=a,setTransform:a=>r.transform=a,setRowIndex:a=>s.setAttribute("row-index",a),setRole:a=>jt(s,a),setRowId:a=>s.setAttribute("row-id",a),setRowBusinessKey:a=>s.setAttribute("row-business-key",a),setTabIndex:a=>s.setAttribute("tabindex",a.toString())},this.getGui(),i),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e),i=this.rowCtrl.getInitialRowTop(e);return t?`transform: ${t}`:`top: ${i}`}showFullWidth(e){const i=e.newAgStackInstance();i&&i.then(s=>{if(this.isAlive()){const r=s.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(s)}else this.beans.context.destroyBean(s)})}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(s=>{const r=s.getInstanceId();null==this.cellComps[r]?this.newCellComp(s):t[r]=null});const i=Vs(t).filter(s=>null!=s);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(i=>{const s=this.cellComps[i.getInstanceId()];s&&t.push(s.getGui())}),i7(this.getGui(),t)}newCellComp(e){const t=new Wie(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Vs(this.cellComps).filter(t=>null!=t);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(t=>{if(!t)return;const i=t.getCtrl().getInstanceId();this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}}var g2=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class wa extends me{constructor(){super(function $ie(){const n=me.elementGettingCreated.getAttribute("name"),e=Wi.getRowContainerCssClasses(n);let t;return t=n===D.CENTER?`<div class="${e.wrapper}" ref="eWrapper" role="presentation">\n                <div class="${e.viewport}" ref="eViewport" role="presentation">\n                    <div class="${e.container}" ref="eContainer"></div>\n                </div>\n            </div>`:n===D.TOP_CENTER||n===D.STICKY_TOP_CENTER||n===D.BOTTOM_CENTER?`<div class="${e.viewport}" ref="eViewport" role="presentation">\n                <div class="${e.container}" ref="eContainer"></div>\n            </div>`:`<div class="${e.container}" ref="eContainer"></div>`,t}()),this.rowComps={},this.name=me.elementGettingCreated.getAttribute("name"),this.type=function Fie(n){switch(n){case D.CENTER:case D.TOP_CENTER:case D.STICKY_TOP_CENTER:case D.BOTTOM_CENTER:return An.CENTER;case D.LEFT:case D.TOP_LEFT:case D.STICKY_TOP_LEFT:case D.BOTTOM_LEFT:return An.LEFT;case D.RIGHT:case D.TOP_RIGHT:case D.STICKY_TOP_RIGHT:case D.BOTTOM_RIGHT:return An.RIGHT;case D.FULL_WIDTH:case D.TOP_FULL_WIDTH:case D.STICKY_TOP_FULL_WIDTH:case D.BOTTOM_FULL_WIDTH:return An.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(this.name)}postConstruct(){const e={setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:i=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i};this.createManagedBean(new Wi(this.name)).setComp(e,this.eContainer,this.eViewport,this.eWrapper)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const t=Object.assign({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(s=>{const r=s.getInstanceId(),o=t[r];if(o)this.rowComps[r]=o,delete t[r],this.ensureDomOrder(o.getGui());else{if(!s.getRowNode().displayed)return;const a=new jie(s,this.beans,this.type);this.rowComps[r]=a,this.appendRow(a.getGui())}}),Vs(t).forEach(s=>{this.eContainer.removeChild(s.getGui()),s.destroy()}),jt(this.eContainer,e.length?"rowgroup":"presentation")}appendRow(e){this.domOrder?eD(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(n7(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}}g2([C("beans")],wa.prototype,"beans",void 0),g2([W("eViewport")],wa.prototype,"eViewport",void 0),g2([W("eContainer")],wa.prototype,"eContainer",void 0),g2([W("eWrapper")],wa.prototype,"eWrapper",void 0),g2([B],wa.prototype,"postConstruct",null),g2([Wt],wa.prototype,"preDestroy",null);var YD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class F7{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gridOptionsService.is("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?He.ICON_PINNED:He.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}}YD([C("columnModel")],F7.prototype,"columnModel",void 0),YD([C("gridOptionsService")],F7.prototype,"gridOptionsService",void 0);var zl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class m2{constructor(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!I(e)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?He.ICON_PINNED:He.ICON_MOVE}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===zn.ToolPanel)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const s=e.dragItem.visibleState,r=(t||[]).filter(o=>s[o.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i="api"){if(e){const s=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColumnsVisible(s,t,i)}}setColumnsPinned(e,t,i="api"){if(e){const s=e.filter(r=>!r.getColDef().lockPinned);this.columnModel.setColumnsPinned(s,t,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}normaliseX(e){return this.gridOptionsService.is("enableRtl")&&(e=this.eContainer.clientWidth-e),this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e}checkCenterForScrolling(e){if(this.centerContainer){const t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>i-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,s=!1){var r;if(s){if(this.lastMovedInfo){const{columns:u,toIndex:d}=this.lastMovedInfo;this.moveColumns(u,d,"uiColumnMoved",!0)}return}if(this.lastDraggingEvent=e,ne(e.hDirection))return;const o=this.normaliseX(e.x);t||this.checkCenterForScrolling(o);const a=this.normaliseDirection(e.hDirection),c=e.dragSource.type,l=(null===(r=e.dragSource.getDragItem().columns)||void 0===r?void 0:r.filter(u=>!u.getColDef().lockPinned||u.getPinned()==this.pinned))||[];this.attemptMoveColumns({dragSourceType:c,allMovingColumns:l,hDirection:a,mouseX:o,fromEnter:t,fakeEvent:i})}normaliseDirection(e){if(!this.gridOptionsService.is("enableRtl"))return e;switch(e){case Dr.Left:return Dr.Right;case Dr.Right:return Dr.Left;default:console.error(`AG Grid: Unknown direction ${e}`)}}attemptMoveColumns(e){const{dragSourceType:t,hDirection:i,mouseX:s,fromEnter:r,fakeEvent:o}=e,a=i===Dr.Left,c=i===Dr.Right;let{allMovingColumns:l}=e;if(t===zn.HeaderCell){let w=[];l.forEach(T=>{let R=null,N=T.getParent();for(;null!=N&&1===N.getDisplayedLeafColumns().length;)R=N,N=N.getParent();null!=R?R.getProvidedColumnGroup().getLeafColumns().forEach(j=>{w.includes(j)||w.push(j)}):w.includes(T)||w.push(T)}),l=w}const u=l.slice();this.columnModel.sortColumnsLikeGridColumns(u);const d=this.calculateValidMoves(u,c,s),f=this.calculateOldIndex(u);if(0===d.length)return;const p=d[0];let g=null!==f&&!r;if(t==zn.HeaderCell&&(g=null!==f),g&&!o&&(a&&p>=f||c&&p<=f))return;const m=this.columnModel.getAllDisplayedColumns();let y=[],M=null;for(let w=0;w<d.length;w++){const T=d[w],R=this.columnModel.getProposedColumnOrder(u,T);if(!this.columnModel.doesOrderPassRules(R))continue;const N=R.filter(j=>m.includes(j));if(null===M)M=N;else if(!re.areEqual(N,M))break;const k=this.groupFragCount(R);y.push({move:T,fragCount:k})}0!==y.length&&(y.sort((w,T)=>w.fragCount-T.fragCount),this.moveColumns(l,y[0].move,"uiColumnMoved",!1))}calculateOldIndex(e){const t=this.columnModel.getAllGridColumns(),i=v_(e.map(c=>t.indexOf(c))),s=i[0];return qe(i)-s!=i.length-1?null:s}moveColumns(e,t,i,s){this.columnModel.moveColumns(e,t,i,s),this.lastMovedInfo=s?null:{columns:e,toIndex:t}}groupFragCount(e){function t(s){let r=[],o=s.getOriginalParent();for(;null!=o;)r.push(o),o=o.getOriginalParent();return r}let i=0;for(let s=0;s<e.length-1;s++){let r=t(e[s]),o=t(e[s+1]);[r,o]=r.length>o.length?[r,o]:[o,r],r.forEach(a=>{-1===o.indexOf(a)&&i++})}return i}calculateValidMoves(e,t,i){if(this.gridOptionsService.is("suppressMovableColumns")||e.some(m=>m.getColDef().suppressMovable))return[];const r=this.columnModel.getDisplayedColumns(this.pinned),o=this.columnModel.getAllGridColumns(),a=r.filter(m=>Vi(e,m)),c=r.filter(m=>!Vi(e,m)),l=o.filter(m=>!Vi(e,m));let f,u=0,d=i;if(t){let m=0;a.forEach(y=>m+=y.getActualWidth()),d-=m}if(d>0){for(let m=0;m<c.length&&(d-=c[m].getActualWidth(),!(d<0));m++)u++;t&&u++}u>0?f=l.indexOf(c[u-1])+1:(f=l.indexOf(c[0]),-1===f&&(f=0));const p=[f],g=(m,y)=>m-y;if(t){let m=f+1;const y=o.length-1;for(;m<=y;)p.push(m),m++;p.sort(g)}else{let m=f;const y=o.length-1;let M=o[m];for(;m<=y&&this.isColumnHidden(r,M);)m++,p.push(m),M=o[m];m=f-1;const w=0;for(;m>=w;)p.push(m),m--;p.sort(g).reverse()}return p}isColumnHidden(e,t){return e.indexOf(t)<0}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?He.ICON_LEFT:He.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(He.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const r=this.lastDraggingEvent.dragItem.columns.filter(o=>!o.getColDef().lockPinned);r.length>0&&(this.dragAndDropService.setGhostIcon(He.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(r,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}}}zl([C("columnModel")],m2.prototype,"columnModel",void 0),zl([C("dragAndDropService")],m2.prototype,"dragAndDropService",void 0),zl([C("gridOptionsService")],m2.prototype,"gridOptionsService",void 0),zl([C("ctrlsService")],m2.prototype,"ctrlsService",void 0),zl([B],m2.prototype,"init",null);var kl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class C2 extends V{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]]}})}isInterestedIn(e){return e===zn.HeaderCell||e===zn.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new m2(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new F7(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===zn.ToolPanel}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}}kl([C("dragAndDropService")],C2.prototype,"dragAndDropService",void 0),kl([C("columnModel")],C2.prototype,"columnModel",void 0),kl([C("ctrlsService")],C2.prototype,"ctrlsService",void 0),kl([B],C2.prototype,"postConstruct",null),kl([B],C2.prototype,"init",null);class QD{static getHeaderClassesFromColDef(e,t,i,s){return ne(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,i,s)}static getToolPanelClassesFromColDef(e,t,i,s){return ne(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,i,s)}static getClassParams(e,t,i,s){return{colDef:e,column:i,columnGroup:s,api:t.api,columnApi:t.columnApi,context:t.context}}static getColumnClassesFromCollDef(e,t,i,s,r){if(ne(e))return[];let o;return o="function"==typeof e?e(this.getClassParams(t,i,s,r)):e,"string"==typeof o?[o]:Array.isArray(o)?[...o]:[]}}var nd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Gl=(()=>{class n extends L7{constructor(t){super(n.TEMPLATE,t),this.headerCompVersion=0,this.column=t.getColumnGroupChild(),this.pinned=t.getPinned()}postConstruct(){const t=this.getGui(),i=(o,a,c)=>{const l=c||t;null!=a&&""!=a?l.setAttribute(o,a):l.removeAttribute(o)};this.ctrl.setComp({setWidth:o=>t.style.width=o,addOrRemoveCssClass:(o,a)=>this.addOrRemoveCssClass(o,a),setColId:o=>i("col-id",o),setTitle:o=>i("title",o),setAriaDescription:o=>I_(t,o),setAriaSort:o=>o?U_(t,o):W_(t),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerComp},this.getGui(),this.eResize,this.eHeaderCompWrapper);const r=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",r)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(t){this.headerCompVersion++;const i=this.headerCompVersion;t.newAgStackInstance().then(s=>this.afterCompCreated(i,s))}afterCompCreated(t,i){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(i)}}return n.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',n})();nd([W("eResize")],Gl.prototype,"eResize",void 0),nd([W("eHeaderCompWrapper")],Gl.prototype,"eHeaderCompWrapper",void 0),nd([B],Gl.prototype,"postConstruct",null),nd([Wt],Gl.prototype,"destroyHeaderComp",null);var z7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let id=(()=>{class n extends L7{constructor(t){super(n.TEMPLATE,t)}postConstruct(){const t=this.getGui(),i=(r,o)=>null!=o?t.setAttribute(r,o):t.removeAttribute(r);this.ctrl.setComp({addOrRemoveCssClass:(r,o)=>this.addOrRemoveCssClass(r,o),setResizableDisplayed:r=>De(this.eResize,r),setWidth:r=>t.style.width=r,setColId:r=>t.setAttribute("col-id",r),setAriaExpanded:r=>i("aria-expanded",r),setTitle:r=>i("title",r),setUserCompDetails:r=>this.setUserCompDetails(r)},t,this.eResize)}setUserCompDetails(t){t.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(t){const i=()=>this.destroyBean(t);if(!this.isAlive())return void i();const s=this.getGui(),r=t.getGui();s.appendChild(r),this.addDestroyFunc(i),this.ctrl.setDragSource(s)}}return n.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',n})();z7([C("userComponentFactory")],id.prototype,"userComponentFactory",void 0),z7([W("eResize")],id.prototype,"eResize",void 0),z7([B],id.prototype,"postConstruct",null);var XD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},gn=function(n){return n.COLUMN_GROUP="group",n.COLUMN="column",n.FLOATING_FILTER="filter",n}(gn||{});class k7 extends me{constructor(e){super(),this.headerComps={};const t=e.getType()==gn.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==gn.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";this.setTemplate(`<div class="ag-header-row ${t}" role="row"></div>`),this.ctrl=e}init(){this.ctrl.setComp({setTransform:t=>this.getGui().style.transform=t,setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:t=>this.setHeaderCtrls(t),setWidth:t=>this.getGui().style.width=t,setAriaRowIndex:t=>Vp(this.getGui(),t)})}destroyHeaderCtrls(){this.setHeaderCtrls([])}setHeaderCtrls(e){if(!this.isAlive())return;const t=this.headerComps;this.headerComps={},e.forEach(r=>{const o=r.getInstanceId();let a=t[o];delete t[o],null==a&&(a=this.createHeaderComp(r),this.getGui().appendChild(a.getGui())),this.headerComps[o]=a}),lt(t,(r,o)=>{this.getGui().removeChild(o.getGui()),this.destroyBean(o)});const i=this.gridOptionsService.is("ensureDomOrder"),s=this.gridOptionsService.isDomLayout("print");if(i||s){const r=Vs(this.headerComps);r.sort((a,c)=>a.getCtrl().getColumnGroupChild().getLeft()-c.getCtrl().getColumnGroupChild().getLeft());const o=r.map(a=>a.getGui());i7(this.getGui(),o)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case gn.COLUMN_GROUP:t=new id(e);break;case gn.FLOATING_FILTER:t=new h2(e);break;default:t=new Gl(e)}return this.createBean(t),t.setParentComponent(this),t}}XD([B],k7.prototype,"init",null),XD([Wt],k7.prototype,"destroyHeaderCtrls",null);var G7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let qie=0,Sa=(()=>{class n extends V{constructor(t,i){super(),this.lastFocusEvent=null,this.columnGroupChild=t,this.parentRowCtrl=i,this.instanceId=t.getUniqueId()+"-"+qie++}shouldStopEventPropagation(t){const{headerRowIndex:i,column:s}=this.focusService.getFocusedHeader();return oD(this.gridOptionsService,t,i,s)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(t){this.eGui=t,this.addDomData()}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case H.PAGE_DOWN:case H.PAGE_UP:case H.PAGE_HOME:case H.PAGE_END:i&&t.preventDefault()}}addDomData(){const t=n.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,t,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,t,null))}getGui(){return this.eGui}focus(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}}return n.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",n})();G7([C("focusService")],Sa.prototype,"focusService",void 0),G7([C("beans")],Sa.prototype,"beans",void 0),G7([C("userComponentFactory")],Sa.prototype,"userComponentFactory",void 0);class sd extends V{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=s,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?qe(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,Fe.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),t=I(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),s=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(s),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===e.getPinned())return t;const s=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===e.getPinned()?s+this.beans.columnModel.getBodyContainerWidth()+t:s+t}setLeft(e){let t;if(I(e)&&(this.eCell.style.left=`${e}px`),this.columnOrGroup instanceof Fe)t=this.columnOrGroup;else{const r=this.columnOrGroup.getLeafColumns();if(!r.length)return;r.length>1&&B_(this.ariaEl,r.length),t=r[0]}const i=this.beans.columnModel.getAriaColumnIndex(t);Pp(this.ariaEl,i)}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([B],sd.prototype,"postConstruct",null);var ZD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Bl extends V{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}}ZD([C("columnHoverService")],Bl.prototype,"columnHoverService",void 0),ZD([B],Bl.prototype,"postConstruct",null);var B7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class rd extends Sa{constructor(e,t){super(e,t),this.iconCreated=!1,this.column=e}setComp(e,t,i,s){super.setGui(t),this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Fe.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}setupActive(){const e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=At("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new Bs(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();oo(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const r=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(r)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void r.focus();const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.columnModel;let i=this.column;do{if(i=e?t.getDisplayedColBefore(i):t.getDisplayedColAfter(i),!i)break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case H.UP:case H.DOWN:t||e.preventDefault();case H.LEFT:case H.RIGHT:if(t)return;e.stopPropagation();case H.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case H.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&da(e.relatedTarget,"ag-floating-filter");if(i&&s&&e.target===this.eGui){const o=this.lastFocusEvent;o&&o&&o.key===H.TAB&&this.focusService.focusInto(this.eGui,o.shiftKey)}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(){this.createManagedBean(new Bl([this.column],this.eGui));const e=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const t=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,v.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new sd(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){const e=this.column.getColDef();this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton}setupUserComp(){if(!this.active)return;const e=this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])}setupSyncWithFilter(){if(!this.active)return;const e=t=>{const i=this.comp.getFloatingFilterComp();i&&i.then(s=>{if(s){const r=this.filterManager.getCurrentFloatingFilterParentModel(this.column);s.onParentModelChanged(r,t)}})};this.destroySyncListener=this.addManagedListener(this.column,Fe.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListener(this.column,Fe.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Fe.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))}updateFilterButton(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))}onColDefChanged(){var e,t;const i=this.active;this.setupActive();const s=!i&&this.active;i&&!this.active&&(null===(e=this.destroySyncListener)||void 0===e||e.call(this),null===(t=this.destroyFilterChangedListener)||void 0===t||t.call(this));const r=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();o&&r?o.then(a=>{var c;(!a||(null===(c=this.userCompDetails)||void 0===c?void 0:c.componentClass)!==r.componentClass)&&this.updateCompDetails(r,s)}):this.updateCompDetails(r,s)}updateCompDetails(e,t){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())}}B7([C("filterManager")],rd.prototype,"filterManager",void 0),B7([C("columnHoverService")],rd.prototype,"columnHoverService",void 0),B7([C("menuFactory")],rd.prototype,"menuFactory",void 0);var U7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class od extends V{constructor(e,t,i,s,r){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=r}postConstruct(){const e=this.column.getColDef(),t=[];let i,s;const r=()=>{if(De(this.eResize,i),!i)return;const c=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(c),s){const l=this.gridOptionsService.is("skipHeaderOnAutoSize"),u=()=>{this.columnModel.autoSizeColumn(this.column,l,"uiColumnResized")};this.eResize.addEventListener("dblclick",u);const d=new fi(this.eResize);d.addEventListener(fi.EVENT_DOUBLE_TAP,u),this.addDestroyFunc(()=>{this.eResize.removeEventListener("dblclick",u),d.removeEventListener(fi.EVENT_DOUBLE_TAP,u),d.destroy()})}},o=()=>{t.forEach(c=>c()),t.length=0},a=()=>{const c=this.column.isResizable(),l=!this.gridOptionsService.is("suppressAutoSize")&&!e.suppressAutoSize;(c!==i||l!==s)&&(i=c,s=l,o(),r())};a(),this.addDestroyFunc(o),this.ctrl.addRefreshFunction(a)}onResizing(e,t){const i=this.normaliseResizeAmount(t);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+i}],this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}normaliseResizeAmount(e){let t=e;const i="left"!==this.pinned,s="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}}U7([C("horizontalResizeService")],od.prototype,"horizontalResizeService",void 0),U7([C("columnModel")],od.prototype,"columnModel",void 0),U7([B],od.prototype,"postConstruct",null);var ad=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Ul extends V{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e;const t=e.getColDef();this.filteredOnly=!!t?.headerCheckboxSelectionFilteredOnly,this.currentPageOnly=!!t?.headerCheckboxSelectionCurrentPageOnly}onSpaceKeyDown(e){const t=this.cbSelectAll,i=this.gridOptionsService.getDocument();t.isDisplayed()&&!t.getGui().contains(i.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new uo),this.cbSelectAll.addCssClass("ag-header-select-all"),jt(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,uo.EVENT_CHANGED,this.onCbSelectAll.bind(this)),P0(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),s=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?`${s} (${i})`:null),this.cbSelectAll.setInputAriaLabel(`${s} (${i})`),this.headerCellCtrl.refreshAriaDescription()}checkRightRowModelType(e){const t=this.rowModel.getType();return"clientSide"===t||"serverSide"===t||(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue();let t="uiSelectAll";this.currentPageOnly?t="uiSelectAllCurrentPage":this.filteredOnly&&(t="uiSelectAllFiltered");const i={source:t,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};e?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context})),!!e&&this.checkRightRowModelType("headerCheckboxSelection")}}ad([C("gridApi")],Ul.prototype,"gridApi",void 0),ad([C("columnApi")],Ul.prototype,"columnApi",void 0),ad([C("rowModel")],Ul.prototype,"rowModel",void 0),ad([C("selectionService")],Ul.prototype,"selectionService",void 0);var JD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Wl=function(n){return n.TAB_GUARD="ag-tab-guard",n.TAB_GUARD_TOP="ag-tab-guard-top",n.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",n}(Wl||{});class W7 extends V{constructor(e){super(),this.skipTabGuardFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:s,focusInnerElement:r,onFocusIn:o,onFocusOut:a,shouldStopEventPropagation:c,onTabKeyDown:l,handleKeyDown:u,eFocusableElement:d}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=r,this.eFocusableElement=d,this.providedFocusIn=o,this.providedFocusOut=a,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=l,this.providedHandleKeyDown=u}postConstruct(){this.createManagedBean(new Bs(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){const e=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}onFocusIn(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()}onFocusOut(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,t.focus()}}JD([C("focusService")],W7.prototype,"focusService",void 0),JD([B],W7.prototype,"postConstruct",null);var mn,fs=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Rt=mn=class extends V{static addKeyboardModeEvents(e,t){const i=mn.instancesMonitored.get(e);i&&i.length>0?-1===i.indexOf(t)&&i.push(t):(mn.instancesMonitored.set(e,[t]),e.addEventListener("keydown",mn.toggleKeyboardMode),e.addEventListener("mousedown",mn.toggleKeyboardMode))}static removeKeyboardModeEvents(e,t){const i=mn.instancesMonitored.get(e);let s=[];i&&i.length&&(s=[...i].filter(r=>r!==t),mn.instancesMonitored.set(e,s)),0===s.length&&(e.removeEventListener("keydown",mn.toggleKeyboardMode),e.removeEventListener("mousedown",mn.toggleKeyboardMode))}static toggleKeyboardMode(e){const t=mn.keyboardModeActive,i="keydown"===e.type;if(i&&(e.ctrlKey||e.metaKey||e.altKey)||t&&i||!t&&!i)return;mn.keyboardModeActive=i;const s=e.target.ownerDocument;if(!s)return;const r=mn.instancesMonitored.get(s);r&&r.forEach(o=>{o.dispatchEvent({type:i?v.EVENT_KEYBOARD_FOCUS:v.EVENT_MOUSE_FOCUS})})}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl;const i=this.gridOptionsService.getDocument();mn.addKeyboardModeEvents(i,this.gridCtrl),this.addDestroyFunc(()=>this.unregisterGridCompController(this.gridCtrl))})}unregisterGridCompController(e){const t=this.gridOptionsService.getDocument();mn.removeKeyboardModeEvents(t,e)}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return mn.keyboardModeActive}getFocusCellToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,ba.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,Sa.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(this.gridOptionsService.getDomData(i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return!!this.isCellRestoreFocused(e)&&(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0)}isCellRestoreFocused(e){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:i}=this.focusedCellPosition,s={rowIndex:e,rowPinned:t,column:i,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return r&&(s.isFullWidthCell=r.isFullWidth()),s}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const e=Object.assign({type:v.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:i,rowPinned:s,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:o=!1}=e,a=this.columnModel.getGridColumn(t);if(!a)return void(this.focusedCellPosition=null);this.focusedCellPosition=a?{rowIndex:i,rowPinned:so(s),column:a}:null;const c=Object.assign(Object.assign({type:v.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:r,preventScrollOnBrowserFocus:o,floating:null});this.eventService.dispatchEvent(c)}isCellFocused(e){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(null==this.focusedHeaderPosition)return!1;const t=e.getColumnGroupChild(),i=e.getRowIndex(),s=e.getPinned(),{column:r,headerRowIndex:o}=this.focusedHeaderPosition;return t===r&&i===o&&s==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){const{direction:t,fromTab:i,allowUserOverride:s,event:r}=e;let{headerPosition:o}=e;if(s){const l=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(i){const d=this.gridOptionsService.getCallback("tabToNextHeader");d&&(o=d({backwards:"Before"===t,previousHeaderPosition:l,nextHeaderPosition:o,headerRowCount:u}))}else{const d=this.gridOptionsService.getCallback("navigateToNextHeader");d&&r&&(o=d({key:r.key,previousHeaderPosition:l,nextHeaderPosition:o,headerRowCount:u,event:r}))}}return!!o&&(-1===o.headerRowIndex?this.focusGridView(o.column):(this.headerNavigationService.scrollToColumn(o.column,t),this.ctrlsService.getHeaderRowContainerCtrl(o.column.getPinned()).focusHeader(o.headerRowIndex,o.column,r)))}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:e}}))}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,i=qe(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},event:e})}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===so(t)}findFocusableElements(e,t,i=!1){let r=Qp;t&&(r+=", "+t),i&&(r+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(Z_)),a=Array.prototype.slice.apply(e.querySelectorAll(r));return a.length?(u=a,o.filter(d=>-1===u.indexOf(d))):o;var u}focusInto(e,t=!1,i=!1){const s=this.findFocusableElements(e,null,i),r=t?qe(s):s[0];return!!r&&(r.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const i=this.findFocusableElements(e),s=i.indexOf(t);if(-1===s)return null;let r=-1;for(let o=s-1;o>=0;o--)if(i[o].classList.contains(Wl.TAB_GUARD_TOP)){r=o;break}return r<=0?null:i[r-1]}findNextFocusableElement(e=this.eGridDiv,t,i){const s=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),o=this.gridOptionsService.getDocument().activeElement;let a;a=t?s.findIndex(l=>l.contains(o)):s.indexOf(o);const c=a+(i?-1:1);return c<0||c>=s.length?null:s[c]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const i=e.querySelectorAll(`.${Bs.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let s=0;s<i.length;s++)if(i[s].contains(t))return!0;return!1}findTabbableParent(e,t=5){let i=0;for(;e&&null===B0(e)&&++i<=t;)e=e.parentElement;return null===B0(e)?null:e}focusGridView(e,t){if(this.gridOptionsService.is("suppressCellFocus"))return t?this.focusLastHeader():this.focusNextGridCoreContainer(!1);const i=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;const{rowIndex:s,rowPinned:r}=i,o=this.getFocusedHeader();return!e&&o&&(e=o.column),!(null==s||!e)&&(this.navigationService.ensureCellVisible({rowIndex:s,column:e,rowPinned:r}),this.setFocusedCell({rowIndex:s,column:e,rowPinned:so(r),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:s,rowPinned:r,column:e}),!0)}focusNextGridCoreContainer(e,t=!1){return!(t||!this.gridCtrl.focusNextInnerContainer(e))||((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}};Rt.AG_KEYBOARD_FOCUS="ag-keyboard-focus",Rt.keyboardModeActive=!1,Rt.instancesMonitored=new Map,fs([C("eGridDiv")],Rt.prototype,"eGridDiv",void 0),fs([C("columnModel")],Rt.prototype,"columnModel",void 0),fs([C("headerNavigationService")],Rt.prototype,"headerNavigationService",void 0),fs([C("rowRenderer")],Rt.prototype,"rowRenderer",void 0),fs([C("rowPositionUtils")],Rt.prototype,"rowPositionUtils",void 0),fs([C("cellPositionUtils")],Rt.prototype,"cellPositionUtils",void 0),fs([Pe("rangeService")],Rt.prototype,"rangeService",void 0),fs([C("navigationService")],Rt.prototype,"navigationService",void 0),fs([C("ctrlsService")],Rt.prototype,"ctrlsService",void 0),fs([B],Rt.prototype,"init",null),Rt=mn=fs([$("focusService")],Rt);var Rr=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class $s extends Sa{constructor(e,t){super(e,t),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,s){super.setGui(t),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(s),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new od(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new Bl([this.column],t)),this.createManagedBean(new sd(this.column,t,this.beans)),this.createManagedBean(new Bs(t,{shouldStopEventPropagation:r=>this.shouldStopEventPropagation(r),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(t),this.addManagedListener(this.column,Fe.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addMouseDownListenerIfNeeded(e){if(!zi())return;const i=this.gridOptionsService.getDocument();["mousedown","touchstart"].forEach(s=>{this.addManagedListener(e,s,r=>{const o=i.activeElement;o!==e&&!e.contains(o)&&(e.focus(),Rt.toggleKeyboardMode(r))})})}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){const e=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:i=>{this.gridApi.showColumnMenuAfterButtonClick(this.column,i)},progressSort:i=>{this.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,s)=>{this.sortController.setSortForColumn(this.column,i,!!s,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new Ul(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===H.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===H.ENTER&&this.onEnterKeyDown(e)}onEnterKeyDown(e){const t=this.comp.getUserCompInstance();t&&(e.ctrlKey||e.metaKey?this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}isMenuEnabled(){return this.menuEnabled}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column)}this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(){const t=this.createManagedBean(new H7({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>this.eGui,getLocation:()=>"header",getTooltipValue:()=>this.column.getColDef().headerTooltip},this.beans));t.setComp(this.comp),this.refreshFunctions.push(()=>t.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=QD.getHeaderClassesFromColDef(t,this.gridOptionsService,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{s.has(r)?s.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),s.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const t=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:zn.HeaderCell,eElement:e,defaultIconName:t?He.ICON_HIDE:He.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),dragItemName:this.displayName,onDragStarted:()=>this.column.setMoving(!0,"uiColumnMoved"),onDragStopped:()=>this.column.setMoving(!1,"uiColumnMoved"),onGridEnter:i=>{var s;if(t){const r=(null===(s=i?.columns)||void 0===s?void 0:s.filter(o=>!o.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(r,!0,"uiColumnMoved")}},onGridExit:i=>{var s;if(t){const r=(null===(s=i?.columns)||void 0===s?void 0:s.filter(o=>!o.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(r,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}createDragItem(){const e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}}removeDragSource(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)}onColDefChanged(){this.refresh()}updateState(){const e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!(!t||!t.refresh)&&t.refresh(e)}calculateDisplayName(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!(this.gridOptionsService.is("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListener(this.column,Fe.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,Fe.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,Fe.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,Fe.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,columnModel:s,gridOptionsService:r}=this;if(!t.isSpanHeaderHeight())return;const{numberOfParents:o,isSpanningTotal:a}=this.getColumnGroupPaddingInfo();if(i.addOrRemoveCssClass("ag-header-span-height",o>0),0===o)return;i.addOrRemoveCssClass("ag-header-span-total",a);const l=r.is("pivotMode")?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight(),u=s.getColumnHeaderRowHeight(),d=o*l;e.style.setProperty("top",-d+"px"),e.style.setProperty("height",`${u+d}px`)}getColumnGroupPaddingInfo(){let e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}setupAutoHeight(e){const t=c=>{if(!this.isAlive())return;const{paddingTop:l,paddingBottom:u,borderBottomWidth:d,borderTopWidth:f}=co(this.getGui()),m=e.offsetHeight+(l+u+d+f);if(c<5){const y=this.beans.gridOptionsService.getDocument();if(!y||!y.contains(e)||0==m)return void this.beans.frameworkOverrides.setTimeout(()=>t(c+1),0)}this.columnModel.setColumnHeaderHeight(this.column,m)};let s,i=!1;const r=()=>{const c=this.column.isAutoHeaderHeight();c&&!i&&o(),!c&&i&&a()},o=()=>{i=!0,t(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=this.resizeObserverService.observeResize(e,()=>t(0))},a=()=>{i=!1,s&&s(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};r(),this.addDestroyFunc(()=>a()),this.addManagedListener(this.column,Fe.EVENT_WIDTH_CHANGED,()=>i&&t(0)),this.addManagedListener(this.eventService,Fe.EVENT_SORT_CHANGED,()=>{i&&this.beans.frameworkOverrides.setTimeout(()=>t(0))}),this.addRefreshFunction(r)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(N_(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}refreshAriaDescription(){const e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()}addColumnHoverListener(){const e=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const t=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,v.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupFilterCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-filtered",this.column.isFilterActive())};this.addManagedListener(this.column,Fe.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupColId(){this.comp.setColId(this.column.getColId())}addActiveHeaderMouseListeners(){const e=t=>this.setActiveHeader("mouseenter"===t.type);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}}Rr([C("columnModel")],$s.prototype,"columnModel",void 0),Rr([C("columnHoverService")],$s.prototype,"columnHoverService",void 0),Rr([C("sortController")],$s.prototype,"sortController",void 0),Rr([C("menuFactory")],$s.prototype,"menuFactory",void 0),Rr([C("dragAndDropService")],$s.prototype,"dragAndDropService",void 0),Rr([C("resizeObserverService")],$s.prototype,"resizeObserverService",void 0),Rr([C("gridApi")],$s.prototype,"gridApi",void 0),Rr([C("columnApi")],$s.prototype,"columnApi",void 0),Rr([Wt],$s.prototype,"removeDragSource",null);var cd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class jl extends V{constructor(e,t,i,s){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.is("suppressAutoSize")){const t=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnModel.autoSizeColumns({columns:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){this.calculateInitialValues();let t=null;if(e&&(t=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),t){const i=t.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter(s=>s.isResizable()),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(s=>this.resizeTakeFromStartWidth+=s.getActualWidth()),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(s=>this.resizeTakeFromRatios.push(s.getActualWidth()/this.resizeTakeFromStartWidth))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}onResizing(e,t,i="uiColumnResized"){const s=this.normaliseDragChange(t);this.resizeColumns(this.resizeStartWidth+s,i,e)}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),t>this.resizeStartWidth&&this.resizeColumns(t,e,!0)}resizeColumns(e,t,i=!0){const s=[];s.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols&&s.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(e-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:s,finished:i,source:t}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}calculateInitialValues(){const e=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=e.filter(t=>t.isResizable()),this.resizeStartWidth=0,this.resizeCols.forEach(t=>this.resizeStartWidth+=t.getActualWidth()),this.resizeRatios=[],this.resizeCols.forEach(t=>this.resizeRatios.push(t.getActualWidth()/this.resizeStartWidth))}normaliseDragChange(e){let t=e;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}}cd([C("horizontalResizeService")],jl.prototype,"horizontalResizeService",void 0),cd([C("autoWidthCalculator")],jl.prototype,"autoWidthCalculator",void 0),cd([C("columnModel")],jl.prototype,"columnModel",void 0),cd([B],jl.prototype,"postConstruct",null);class eA extends V{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,_n.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([B],eA.prototype,"postConstruct",null);var ld=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class $l extends Sa{constructor(e,t){super(e,t),this.columnGroup=e}setComp(e,t,i){super.setGui(t),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();const s=this.getParentRowCtrl().getPinned(),r=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Bl(r,t)),this.createManagedBean(new sd(this.columnGroup,t,this.beans)),this.createManagedBean(new eA(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new jl(e,i,s,this.columnGroup)),this.createManagedBean(new Bs(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}resizeLeafColumnsToFit(e){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){let e=this.displayName;const t={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:s=>{this.columnModel.setColumnGroupOpened(this.columnGroup.getProvidedColumnGroup(),s,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!e){let s=this.columnGroup;const r=s.getLeafColumns();for(;s.getParent()&&s.getParent().getLeafColumns().length===r.length;)s=s.getParent();const o=s.getColGroupDef();o&&(e=o.headerName),e||(e=r?this.columnModel.getDisplayNameForColumn(r[0],"header",!0):"")}const i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}setupTooltip(){const e=this.columnGroup.getColGroupDef(),t={getColumn:()=>this.columnGroup,getGui:()=>this.eGui,getLocation:()=>"headerGroup",getTooltipValue:()=>e&&e.headerTooltip};e&&(t.getColDef=()=>e),this.createManagedBean(new H7(t,this.beans)).setComp(this.comp)}setupExpandable(){const e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,vt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,vt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.columnGroup;this.expandable=e.isExpandable();const t=e.isExpanded();this.comp.setAriaExpanded(this.expandable?t?"true":"false":void 0)}addAttributes(){this.comp.setColId(this.columnGroup.getUniqueId())}addClasses(){const e=this.columnGroup.getColGroupDef(),t=QD.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(t.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.columnGroup.isMoving());t.forEach(s=>{this.addManagedListener(s,Fe.EVENT_MOVING_CHANGED,i)}),i()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.columnGroup)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===H.ENTER){const i=this.columnGroup,s=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){if(this.isSuppressMoving())return;const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),s={type:zn.HeaderCell,eElement:e,defaultIconName:i?He.ICON_HIDE:He.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:()=>t.forEach(r=>r.setMoving(!0,"uiColumnDragged")),onDragStopped:()=>t.forEach(r=>r.setMoving(!1,"uiColumnDragged")),onGridEnter:r=>{var o;if(i){const a=(null===(o=r?.columns)||void 0===o?void 0:o.filter(c=>!c.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:r=>{var o;if(i){const a=(null===(o=r?.columns)||void 0===o?void 0:o.filter(c=>!c.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(s))}getDragItemForGroup(){const e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),t={};e.forEach(s=>t[s.getId()]=s.isVisible());const i=[];return this.columnModel.getAllDisplayedColumns().forEach(s=>{e.indexOf(s)>=0&&(i.push(s),fn(e,s))}),e.forEach(s=>i.push(s)),{columns:i,visibleState:t}}isSuppressMoving(){let e=!1;return this.columnGroup.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.is("suppressMovableColumns")}}ld([C("columnModel")],$l.prototype,"columnModel",void 0),ld([C("dragAndDropService")],$l.prototype,"dragAndDropService",void 0),ld([C("gridApi")],$l.prototype,"gridApi",void 0),ld([C("columnApi")],$l.prototype,"columnApi",void 0);var tA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Qie=0;class ql extends V{constructor(e,t,i){super(),this.instanceId=Qie++,this.headerCellCtrls={},this.rowIndex=e,this.pinned=t,this.type=i}getInstanceId(){return this.instanceId}setComp(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),zi()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)}addEventListeners(){this.addManagedListener(this.eventService,v.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){return ca(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){return this.gridOptionsService.isDomLayout("print")?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)}onRowHeightChanged(){let e=this.columnModel.getHeaderRowCount();const t=[];let i=0;this.columnModel.hasFloatingFilters()&&(e++,i=1);const s=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),a=e-(1+i);for(let u=0;u<a;u++)t.push(s);t.push(r);for(let u=0;u<i;u++)t.push(this.columnModel.getFloatingFiltersHeight());let c=0;for(let u=0;u<this.rowIndex;u++)c+=t[u];const l=t[this.rowIndex]+"px";this.comp.setTop(c+"px"),this.comp.setHeight(l)}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(){const e=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(r=>{if(r.isEmptyGroup())return;const o=r.getUniqueId();let a=e[o];if(delete e[o],a&&a.getColumnGroupChild()!=r&&(this.destroyBean(a),a=void 0),null==a)switch(this.type){case gn.FLOATING_FILTER:a=this.createBean(new rd(r,this));break;case gn.COLUMN_GROUP:a=this.createBean(new $l(r,this));break;default:a=this.createBean(new $s(r,this))}this.headerCellCtrls[o]=a});const i=r=>!!this.focusService.isHeaderWrapperFocused(r)&&this.columnModel.isDisplayed(r.getColumnGroupChild());lt(e,(r,o)=>{i(o)?this.headerCellCtrls[r]=o:this.destroyBean(o)});const s=Vs(this.headerCellCtrls);this.comp.setHeaderCtrls(s)}getColumnsInViewport(){return this.gridOptionsService.isDomLayout("print")?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth();return["left",null,"right"].forEach(i=>{const s=this.columnModel.getVirtualHeaderGroupRow(i,t);e=e.concat(s)}),e}getActualDepth(){return this.type==gn.FLOATING_FILTER?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){const s=Vs(this.headerCellCtrls).find(r=>r.getColumnGroupChild()==e);return!!s&&(s.focus(t),!0)}destroy(){lt(this.headerCellCtrls,(e,t)=>{this.destroyBean(t)}),this.headerCellCtrls={},super.destroy()}}tA([C("columnModel")],ql.prototype,"columnModel",void 0),tA([C("focusService")],ql.prototype,"focusService",void 0);var Kl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class v2 extends V{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const t=new C2(this.pinned,e);this.createManagedBean(t)}refresh(e=!1){const t=new o2,i=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const c=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<c;l++){const u=this.createBean(new ql(t.next(),this.pinned,gn.COLUMN_GROUP));this.groupsRowCtrls.push(u)}})(),(()=>{const c=t.next(),l=!(this.hidden||null!=this.columnsRowCtrl&&e&&this.columnsRowCtrl.getRowIndex()===c);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new ql(c,this.pinned,gn.COLUMN)))})(),(()=>{this.includeFloatingFilter=this.columnModel.hasFloatingFilters()&&!this.hidden;const c=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void c();const l=t.next();if(this.filtersRowCtrl){const u=this.filtersRowCtrl.getRowIndex()!==l;(!e||u)&&c()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new ql(l,this.pinned,gn.FLOATING_FILTER)))})();const a=this.getAllCtrls();this.comp.setCtrls(a),this.restoreFocusOnHeader(i)}restoreFocusOnHeader(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.columnModel.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new f2(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const i=()=>{const s=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==s)return;const r=0==s,o=this.hidden!==r,a=this.gridOptionsService.is("enableRtl"),c=this.gridOptionsService.getScrollbarWidth(),u=this.scrollVisibleService.isVerticalScrollShowing()&&(a&&e||!a&&t)?s+c:s;this.comp.setPinnedContainerWidth(`${u}px`),this.comp.setDisplayed(!r),o&&(this.hidden=r,this.refresh())};this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,v.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}getHeaderCtrlForColumn(e){if(e instanceof Fe)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const r=this.getAllCtrls()[e];return!!r&&r.focusHeader(t,i)}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}}Kl([C("ctrlsService")],v2.prototype,"ctrlsService",void 0),Kl([C("scrollVisibleService")],v2.prototype,"scrollVisibleService",void 0),Kl([C("pinnedWidthService")],v2.prototype,"pinnedWidthService",void 0),Kl([C("columnModel")],v2.prototype,"columnModel",void 0),Kl([C("focusService")],v2.prototype,"focusService",void 0);var j7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let E2=(()=>{class n extends me{constructor(t){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=t}init(){this.selectAndSetTemplate();const t={setDisplayed:s=>this.setDisplayed(s),setCtrls:s=>this.setCtrls(s),setCenterWidth:s=>this.eCenterContainer.style.width=s,setViewportScrollLeft:s=>this.getGui().scrollLeft=s,setPinnedContainerWidth:s=>{const r=this.getGui();r.style.width=s,r.style.maxWidth=s,r.style.minWidth=s}};this.createManagedBean(new v2(this.pinned)).setComp(t,this.getGui())}selectAndSetTemplate(){this.setTemplate("left"==this.pinned?n.PINNED_LEFT_TEMPLATE:"right"==this.pinned?n.PINNED_RIGHT_TEMPLATE:n.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())}setCtrls(t){const i=this.headerRowComps;let s;this.headerRowComps={},this.rowCompsList=[];const r=o=>{const a=o.getGui();a.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(a),s&&n7(this.eRowContainer,a,s),s=a};t.forEach(o=>{const a=o.getInstanceId(),c=i[a];delete i[a];const l=c||this.createBean(new k7(o));this.headerRowComps[a]=l,this.rowCompsList.push(l),r(l)}),Vs(i).forEach(o=>this.destroyRowComp(o))}}return n.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',n.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',n.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',n})();j7([W("eCenterContainer")],E2.prototype,"eCenterContainer",void 0),j7([B],E2.prototype,"init",null),j7([Wt],E2.prototype,"destroyRowComps",null);var Yl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Lr=function(n){return n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT",n}(Lr||{});let Ma=class extends V{postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:s,column:r}=t,o=this.getHeaderRowCount(),a=e===Lr.UP;let{nextRow:c,nextFocusColumn:l}=a?this.headerPositionUtils.getColumnVisibleParent(r,s):this.headerPositionUtils.getColumnVisibleChild(r,s),u=!1;return c<0&&(c=0,l=r,u=!0),c>=o&&(c=-1),!(!u&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:l},allowUserOverride:!0,event:i})}navigateHorizontally(e,t=!1,i){const s=this.focusService.getFocusedHeader();let a,c;return e===Lr.LEFT!==this.gridOptionsService.is("enableRtl")?(c="Before",a=this.headerPositionUtils.findHeader(s,c)):(c="After",a=this.headerPositionUtils.findHeader(s,c)),a||!t?this.focusService.focusHeaderPosition({headerPosition:a,direction:c,fromTab:t,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(s,c,i)}focusNextHeaderRow(e,t,i){const s=e.headerRowIndex;let o,r=null;return"Before"===t?s>0&&(o=s-1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=s+1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),this.focusService.focusHeaderPosition({headerPosition:r,direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(e instanceof _n){const s=e.getDisplayedLeafColumns();i="Before"===t?qe(s):s[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}};Yl([C("focusService")],Ma.prototype,"focusService",void 0),Yl([C("headerPositionUtils")],Ma.prototype,"headerPositionUtils",void 0),Yl([C("ctrlsService")],Ma.prototype,"ctrlsService",void 0),Yl([B],Ma.prototype,"postConstruct",null),Ma=Yl([$("headerNavigationService")],Ma);var ud=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Ql extends V{setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new Bs(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let s,t=0,i=e.getHeaderRowCount();e.hasFloatingFilters()&&(i++,t=1);const o=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),l=i-(1+t);s=t*e.getFloatingFiltersHeight(),s+=l*o,s+=a,this.headerHeight!==s&&(this.headerHeight=s,this.comp.setHeightAndMinHeight(`${s+1}px`),this.eventService.dispatchEvent({type:v.EVENT_HEADER_HEIGHT_CHANGED}))}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.columnModel.getAllDisplayedColumns().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gridOptionsService.is("enableRtl");(this.headerNavigationService.navigateHorizontally(e.shiftKey!==t?Lr.LEFT:Lr.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case H.LEFT:t=Lr.LEFT;case H.RIGHT:I(t)||(t=Lr.RIGHT),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case H.UP:t=Lr.UP;case H.DOWN:I(t)||(t=Lr.DOWN),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const t=this.gridOptionsService.getDocument(),{relatedTarget:i}=e;!i&&this.eGui.contains(t.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()}}ud([C("headerNavigationService")],Ql.prototype,"headerNavigationService",void 0),ud([C("focusService")],Ql.prototype,"focusService",void 0),ud([C("columnModel")],Ql.prototype,"columnModel",void 0),ud([C("ctrlsService")],Ql.prototype,"ctrlsService",void 0);let nA=(()=>{class n extends me{constructor(){super(n.TEMPLATE)}postConstruct(){const t={addOrRemoveCssClass:(r,o)=>this.addOrRemoveCssClass(r,o),setHeightAndMinHeight:r=>{this.getGui().style.height=r,this.getGui().style.minHeight=r}};this.createManagedBean(new Ql).setComp(t,this.getGui(),this.getFocusableElement());const s=r=>{this.createManagedBean(r),this.appendChild(r)};s(new E2("left")),s(new E2(null)),s(new E2("right"))}}return n.TEMPLATE='<div class="ag-header" role="presentation"/>',n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([B],nA.prototype,"postConstruct",null);var $7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Xl=class extends V{addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};$7([C("dragService")],Xl.prototype,"dragService",void 0),$7([C("ctrlsService")],Xl.prototype,"ctrlsService",void 0),Xl=$7([$("horizontalResizeService")],Xl);var Zl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Ta=class extends V{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t){this.showPopup(e,i=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:i})},"columnMenu",t.target)}showMenuAfterButtonClick(e,t,i){this.showPopup(e,s=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:s,keepWithinBounds:!0,position:"under",column:e})},i,t)}showPopup(e,t,i,s){const r=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!r)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");let a;jt(o,"presentation"),o.classList.add("ag-menu"),this.tabListener=this.addManagedListener(o,"keydown",p=>this.trapFocusWithin(p,o)),r.guiPromise.then(p=>o.appendChild(p));const l=s||this.ctrlsService.getGridBodyCtrl().getGui(),d=this.localeService.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:p=>{e.setMenuVisible(!1,"contextMenu");const g=p instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),g&&s&&Tr(s)){const m=this.focusService.findTabbableParent(s);m&&m.focus()}(()=>{var p;null===(p=r.filterPromise)||void 0===p||p.then(g=>{var m;return null===(m=g?.afterGuiDetached)||void 0===m?void 0:m.call(g)})})()},positionCallback:()=>t(o),anchorToElement:l,ariaLabel:d("ariaLabelColumnMenu","Column Menu")});f&&(this.hidePopup=a=f.hideFunc),r.filterPromise.then(p=>{t(o),p.afterGuiAttached&&p.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu")}trapFocusWithin(e,t){e.key!==H.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}isMenuEnabled(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")}};Zl([C("filterManager")],Ta.prototype,"filterManager",void 0),Zl([C("popupService")],Ta.prototype,"popupService",void 0),Zl([C("focusService")],Ta.prototype,"focusService",void 0),Zl([C("ctrlsService")],Ta.prototype,"ctrlsService",void 0),Ta=Zl([$("menuFactory")],Ta);var dd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class y2 extends me{constructor(e){super(y2.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e,e.items&&e.items.forEach(t=>this.addItem(t))}postConstruct(){this.createManagedBean(new Bs(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(()=>{var e,t,i;return null===(i=null===(t=null===(e=this.activeItem)||void 0===e?void 0:e.tabbedItem)||void 0===t?void 0:t.afterDetachedCallback)||void 0===i?void 0:i.call(t)})}static getTemplate(e){return`<div class="ag-tabs ${e}">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header ${e?`${e}-header`:""}"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>\n        </div>`}handleKeyDown(e){const t=this.gridOptionsService.getDocument();switch(e.key){case H.RIGHT:case H.LEFT:if(!this.eHeader.contains(t.activeElement))return;const i=e.key===H.RIGHT,s=this.gridOptionsService.is("enableRtl"),r=this.items.indexOf(this.activeItem),o=i!==s?Math.min(r+1,this.items.length-1):Math.max(r-1,0);if(r===o)return;e.preventDefault();const a=this.items[o];this.showItemWrapper(a),a.eHeaderButton.focus();break;case H.UP:case H.DOWN:e.stopPropagation()}}onTabKeyDown(e){if(e.defaultPrevented)return;const{focusService:t,eHeader:i,eBody:s,activeItem:r}=this,a=this.gridOptionsService.getDocument().activeElement,c=e.target;if(e.preventDefault(),i.contains(a))return void t.focusInto(s,e.shiftKey);let l=null;t.isTargetUnderManagedComponent(s,c)&&(e.shiftKey&&(l=this.focusService.findFocusableElementBeforeTabGuard(s,c)),l||(l=r.eHeaderButton)),!l&&s.contains(a)&&(l=t.findNextFocusableElement(s,!1,e.shiftKey),l||(l=r.eHeaderButton)),l&&l.focus()}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const t=document.createElement("span");jt(t,"tab"),t.setAttribute("tabindex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eHeader.appendChild(t),oo(t,e.titleLabel);const i={tabbedItem:e,eHeaderButton:t};this.items.push(i),t.addEventListener("click",this.showItemWrapper.bind(this,i))}showItem(e){const t=this.items.find(i=>i.tabbedItem===e);t&&this.showItemWrapper(t)}showItemWrapper(e){var t,i;const{tabbedItem:s,eHeaderButton:r}=e;this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),hi(this.eBody),s.bodyPromise.then(o=>{this.eBody.appendChild(o);const a=!this.focusService.isKeyboardMode();if(this.focusService.focusInto(this.eBody,!1,a),s.afterAttachedCallback&&s.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const c=s.getScrollableContainer&&s.getScrollableContainer()||o;this.lastScrollListener=this.addManagedListener(c,"scroll",()=>{this.tabbedItemScrollMap.set(s.name,c.scrollTop)});const l=this.tabbedItemScrollMap.get(s.name);void 0!==l&&setTimeout(()=>{c.scrollTop=l},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(i=(t=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===i||i.call(t)),r.classList.add("ag-tab-selected"),this.activeItem=e):h_(this.params.onActiveItemClicked)}}dd([C("focusService")],y2.prototype,"focusService",void 0),dd([W("eHeader")],y2.prototype,"eHeader",void 0),dd([W("eBody")],y2.prototype,"eBody",void 0),dd([B],y2.prototype,"postConstruct",null);let q7=class extends V{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){const i=this.gridOptionsService.getWindow(),o=this.gridOptionsService.is("suppressBrowserResizeObserver");return i.ResizeObserver&&!o?(()=>{const c=new i.ResizeObserver(t);return c.observe(e),()=>c.disconnect()})():(()=>{let c=t7(e),l=e7(e),u=!0;const d=()=>{if(u){const f=t7(e),p=e7(e);(f!==c||p!==l)&&(c=f,l=p,t()),this.doNextPolyfillTurn(d)}};return d(),()=>u=!1})()}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(i=>i())},50))}};q7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$("resizeObserverService")],q7);var hd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let b2=class extends V{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const t=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){const i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],s),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,s)=>i.index!==s.index?t*(s.index-i.index):s.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,s=this.createTasksP2,r=s.list,o=this.destroyTasks,a=(new Date).getTime();let c=(new Date).getTime()-a;const l=e<=0,u=this.ctrlsService.getGridBodyCtrl();for(;l||c<e;){if(!u.getScrollFeature().scrollGridIfNeeded()){let f;if(i.length)this.sortTaskList(t),f=i.pop().task;else if(r.length)this.sortTaskList(s),f=r.pop().task;else{if(!o.length){this.cancelledTasks.clear();break}f=o.pop()}this.cancelledTasks.has(f)||f()}c=(new Date).getTime()-a}i.length||r.length||o.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gridOptionsService.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask(()=>{t=!1,e()})):this.getFrameworkOverrides().setTimeout(e,0)}}};hd([C("ctrlsService")],b2.prototype,"ctrlsService",void 0),hd([C("paginationProxy")],b2.prototype,"paginationProxy",void 0),hd([B],b2.prototype,"init",null),b2=hd([$("animationFrameService")],b2);var Jl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let _a=class extends V{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const s=this.rowRenderer.getAllCellsForColumn(e);return t||s.push(i),this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(o=>this.cloneItemIntoDummy(o,t)),i.appendChild(t);const s=t.offsetWidth;return i.removeChild(t),s+this.getAutoSizePadding()}getAutoSizePadding(){const e=this.gridOptionsService.getNum("autoSizePadding");return null!=e&&e>=0?e:20}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const s=i.getHtmlElementForColumnHeader(e);null!=s&&(t=s)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const s=document.createElement("div"),r=s.classList;["ag-header-cell","ag-header-group-cell"].some(c=>i.classList.contains(c))?(r.add("ag-header","ag-header-row"),s.style.position="static"):r.add("ag-row");let a=e.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(l=>a.classList.contains(l))){for(let l=0;l<a.classList.length;l++){const u=a.classList[l];"ag-row-position-absolute"!=u&&r.add(u)}break}a=a.parentElement}s.appendChild(i),t.appendChild(s)}};Jl([C("rowRenderer")],_a.prototype,"rowRenderer",void 0),Jl([C("ctrlsService")],_a.prototype,"ctrlsService",void 0),Jl([C("rowCssClassCalculator")],_a.prototype,"rowCssClassCalculator",void 0),Jl([B],_a.prototype,"postConstruct",null),_a=Jl([$("autoWidthCalculator")],_a);var fd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class e3 extends V{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let e=0;if(!this.gridOptionsService.isGroupRowsSticky())return void this.refreshNodesAndContainerHeight([],e);const t=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),s=r=>{var o,a,c;let l;if(t.push(r),this.isClientSide){let d=r;for(;d.expanded;)if(d.master)d=d.detailNode;else if(d.childrenAfterSort){if(0===d.childrenAfterSort.length)break;d=qe(d.childrenAfterSort)}l=d.rowTop+d.rowHeight}else if(r.master)l=r.detailNode.rowTop+r.detailNode.rowHeight;else{const d=null===(o=r.childStore)||void 0===o?void 0:o.getStoreBounds();l=(null!==(a=d?.heightPx)&&void 0!==a?a:0)+(null!==(c=d?.topPx)&&void 0!==c?c:0)}const u=i+e+r.rowHeight;r.stickyRowTop=l<u?e+(l-u):e,e=0,t.forEach(d=>{const f=d.stickyRowTop+d.rowHeight;e<f&&(e=f)})};for(;;){const r=i+e,o=this.rowModel.getRowIndexAtPixel(r),a=this.rowModel.getRow(o);if(null==a||a.level<0)break;const c=[];let l=a.parent;for(;l.level>=0;)c.push(l),l=l.parent;const u=c.reverse().find(d=>t.indexOf(d)<0&&d.displayed);if(u)s(u);else{if(!(a.isExpandable()&&a.expanded&&a.rowTop<r))break;s(a)}}this.refreshNodesAndContainerHeight(t,e)}refreshStickyNode(e){const t=[];for(let i=0;i<this.stickyRowCtrls.length;i++){const s=this.stickyRowCtrls[i].getRowNode();s!==e&&t.push(s)}this.refreshNodesAndContainerHeight(t,this.containerHeight),this.checkStickyRows()}refreshNodesAndContainerHeight(e,t){const i=this.stickyRowCtrls.filter(a=>-1===e.indexOf(a.getRowNode())),s=e.filter(a=>-1===this.stickyRowCtrls.findIndex(c=>c.getRowNode()===a)),r={};i.forEach(a=>{r[a.getRowNode().id]=a,this.stickyRowCtrls=this.stickyRowCtrls.filter(c=>c!==a)});for(const a of Object.values(r))a.getRowNode().sticky=!1;this.destroyRowCtrls(r,!1);const o=s.map(a=>(a.sticky=!0,this.createRowCon(a,!1,!1)));this.stickyRowCtrls.push(...o),this.stickyRowCtrls.forEach(a=>a.setRowTop(a.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((a,c)=>c.getRowNode().rowIndex-a.getRowNode().rowIndex),this.containerHeight!==t&&(this.containerHeight=t,this.gridBodyCtrl.setStickyTopHeight(t))}}fd([C("rowModel")],e3.prototype,"rowModel",void 0),fd([C("rowRenderer")],e3.prototype,"rowRenderer",void 0),fd([C("ctrlsService")],e3.prototype,"ctrlsService",void 0),fd([B],e3.prototype,"postConstruct",null);var ps=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let yi=class extends V{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,v.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,v.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){const e=this.rowModel.getType();("clientSide"===e||"serverSide"===e)&&(this.stickyRowFeature=this.createManagedBean(new e3(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.is("keepDetailRows")){const e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new tse(e??3)}}getKeepDetailRowsCount(){const e=this.gridOptionsService.getNum("keepDetailRowsCount");return I(e)&&e>0?e:10}getRowCtrls(){return this.allRowCtrls}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const e=Vs(this.rowCtrlsByRowIndex),t=this.gridOptionsService.is("ensureDomOrder"),i=this.gridOptionsService.isDomLayout("print");(t||i)&&e.sort((o,a)=>o.getRowNode().rowIndex-a.getRowNode.rowIndex);const s=Vs(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=[...e,...s,...r]}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,v.EVENT_CELL_FOCUSED,t=>{this.onCellFocusChanged(t)}),this.addManagedListener(this.eventService,v.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,v.EVENT_FLASH_CELLS,t=>{this.getAllCellCtrls().forEach(i=>i.onFlashCells(t))}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())}),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}),this.gridOptionsService.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,v.EVENT_RANGE_SELECTION_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRangeSelectionChanged())}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_MOVED,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PINNED,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.columnModel.getAllGridColumns();e&&e.forEach(t=>{const i=l=>{this.getAllCellCtrls().forEach(u=>{u.getColumn()===t&&l(u)})},s=()=>{i(l=>l.onLeftChanged())},r=()=>{i(l=>l.onWidthChanged())},o=()=>{i(l=>l.onFirstRightPinnedChanged())},a=()=>{i(l=>l.onLastLeftPinnedChanged())},c=()=>{i(l=>l.onColDefChanged())};t.addEventListener("leftChanged",s),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",o),t.addEventListener("lastLeftPinnedChanged",a),t.addEventListener("colDefChanged",c),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",s),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",o),t.removeEventListener("lastLeftPinnedChanged",a),t.removeEventListener("colDefChanged",c)})})}onDomLayoutChanged(){const e=this.gridOptionsService.isDomLayout("print"),t=e||this.gridOptionsService.is("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const s=i.getCellElement(e);s&&t.push(s)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach(i=>{i.destroyFirstPass(),i.destroySecondPass()}),e.length=0,t&&t.forEach(i=>{const s=new ba(i,this.beans,!1,!1,this.printLayout);e.push(s)})}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}getRenderedIndexesForRowNodes(e){const t=[];return ne(e)||lt(this.rowCtrlsByRowIndex,(i,s)=>{const r=s.getRowNode();e.indexOf(r)>=0&&t.push(i)}),t}redrawRows(e){const t=null!=e&&e.length>0;if(t){const i=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(i)}this.redrawAfterModelUpdate({recycleRows:t})}getCellToRestoreFocusToAfterRefresh(e){const t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const s=this.gridOptionsService.getDocument().activeElement,r=this.gridOptionsService.getDomData(s,ya.DOM_DATA_KEY_CELL_CTRL),o=this.gridOptionsService.getDomData(s,ba.DOM_DATA_KEY_ROW_CTRL);return r||o?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&this.gridOptionsService.isAnimateRows(),r=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.recycleRows(r,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gridOptionsService.is("suppressScrollOnNewData");t&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){const r=t[s].getAllCellCtrls(),o=r.length;for(let a=0;a<o;a++)e.push(r[a])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],t=[...this.topRowCtrls,...this.bottomRowCtrls,...e];for(const i of Object.keys(this.rowCtrlsByRowIndex))t.push(this.rowCtrlsByRowIndex[i]);return t}addRenderedRowListener(e,t,i){const s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}flashCells(e={}){const{flashDelay:t,fadeDelay:i}=e;this.getCellCtrls(e.rowNodes,e.columns).forEach(s=>s.flashCell({flashDelay:t,fadeDelay:i}))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{if(i.refreshShouldDestroy()){const s=i.getRowCtrl();s&&s.refreshCell(i)}else i.refreshCell(t)}),this.refreshFullWidthRows(e.rowNodes)}getCellRendererInstances(e){var t;const i=this.getCellCtrls(e.rowNodes,e.columns).map(o=>o.getCellRenderer()).filter(o=>null!=o);if(null!==(t=e.columns)&&void 0!==t&&t.length)return i;const s=[],r=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(o=>{if(r&&!this.isRowInMap(o.getRowNode(),r)||!o.isFullWidth())return;const a=o.getFullWidthCellRenderer();a&&s.push(a)}),[...s,...i]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const s=i.getCellEditor();s&&t.push(s)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const s=i.id;"top"===i.rowPinned?t.top[s]=i:"bottom"===i.rowPinned?t.bottom[s]=i:t.normal[s]=i}),t}isRowInMap(e,t){const i=e.id,s=e.rowPinned;return"bottom"===s?null!=t.bottom[i]:"top"===s?null!=t.top[i]:null!=t.normal[i]}getCellCtrls(e,t){const i=this.mapRowNodes(e),s=[];let r;I(t)&&(r={},t.forEach(a=>{const c=this.columnModel.getGridColumn(a);I(c)&&(r[c.getId()]=!0)}));const o=a=>{const c=a.getRowNode();null!=i&&!this.isRowInMap(c,i)||a.getAllCellCtrls().forEach(l=>{const u=l.getColumn().getId();r&&!r[u]||s.push(l)})};return this.getAllRowCtrls().forEach(a=>o(a)),s}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}getRowsToRecycle(){const e=[];lt(this.rowCtrlsByRowIndex,(i,s)=>{null==s.getRowNode().id&&e.push(i)}),this.removeRowCtrls(e);const t={};return lt(this.rowCtrlsByRowIndex,(i,s)=>{const r=s.getRowNode();t[r.id]=s}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){e.forEach(t=>{const i=this.rowCtrlsByRowIndex[t];i&&(i.destroyFirstPass(),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[t]})}onBodyScroll(e){"vertical"===e.direction&&this.redraw()}redraw(e=!0){let t;if(this.stickyRowFeature&&G0()&&(t=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.recycleRows(null,!1,e),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(e),null!=t){const i=this.getCellToRestoreFocusToAfterRefresh();null!=t&&null==i&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(t))}}removeRowCompsNotToDraw(e){const t={};e.forEach(r=>t[r]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!t[r]);this.removeRowCtrls(s)}calculateIndexesToDraw(e){let t=X_(this.firstRenderedRow,this.lastRenderedRow);const i=(s,r)=>{const o=r.getRowNode().rowIndex;null!=o&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&t.push(o)};return lt(this.rowCtrlsByRowIndex,i),lt(e,i),t.sort((s,r)=>s-r),t=t.filter(s=>{const r=this.paginationProxy.getRow(s);return r&&!r.sticky}),t}recycleRows(e,t=!1,i=!1){this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();const s=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(s),this.printLayout&&(t=!1),s.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,i)}),e&&(!i||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,t):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:v.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e})}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw()}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const s=i.getRowNode();return!(null!=t&&!this.isRowInMap(s,t))})}refreshFullWidthRow(e){this.refreshFullWidthRows([e])}refreshFullWidthRows(e){const t=this.getFullWidthRowCtrls(e);let i=!1;const s=[];t.forEach(r=>{if(r.refreshFullWidth())return;const a=r.getRowNode();a.sticky?this.stickyRowFeature.refreshStickyNode(a):s.push(a.rowIndex),i=!0}),s.length>0&&this.removeRowCtrls(s),i&&this.redraw(!1)}createOrUpdateRowCtrl(e,t,i,s){let r,o=this.rowCtrlsByRowIndex[e];if(o||(r=this.paginationProxy.getRow(e),I(r)&&I(t)&&t[r.id]&&r.alreadyRendered&&(o=t[r.id],t[r.id]=null)),!o){if(r||(r=this.paginationProxy.getRow(e)),!I(r))return;o=this.createRowCon(r,i,s)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){const i=[];lt(e,(s,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable())return void this.cachedRowCtrls.addRow(r);r.destroyFirstPass(),t?(this.zombieRowCtrls[r.getInstanceId()]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[r.getInstanceId()]})):r.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),u_(i))}getRowBuffer(){let e=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof e?e<0&&(Le(()=>console.warn("AG Grid: rowBuffer should not be negative"),"warn rowBuffer negative"),e=0,this.gridOptionsService.set("rowBuffer",0)):e=10,e}getRowBufferInPixels(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let e,t;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{const c=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),u=this.gridOptionsService.is("suppressRowVirtualisation");let f,p,d=!1;do{const w=this.paginationProxy.getPixelOffset(),{pageFirstPixel:T,pageLastPixel:R}=this.paginationProxy.getCurrentPagePixelRange(),N=this.rowContainerHeightService.getDivStretchOffset(),k=l.getScrollFeature().getVScrollPosition(),j=k.top,ae=k.bottom;u?(f=T+N,p=R+N):(f=Math.max(j+w-c,T)+N,p=Math.min(ae+w+c,R)+N),this.firstVisibleVPixel=Math.max(j+w,T)+N,d=this.ensureAllRowsInRangeHaveHeightsCalculated(f,p)}while(d);let g=this.paginationProxy.getRowIndexAtPixel(f),m=this.paginationProxy.getRowIndexAtPixel(p);const y=this.paginationProxy.getPageFirstRow(),M=this.paginationProxy.getPageLastRow();g<y&&(g=y),m>M&&(m=M),e=g,t=m}else e=0,t=-1;const i=this.gridOptionsService.isDomLayout("normal"),s=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!s&&t-e>r&&(t=e+r),e===this.firstRenderedRow&&t===this.lastRenderedRow||(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:v.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:v.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return i&&this.updateContainerHeights(),i}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const s=e.getRowNode(),r=this.focusService.isRowNodeFocused(s),o=e.isEditing();return!!(r||o||s.detail)&&!!this.paginationProxy.isRowPresent(s)}createRowCon(e,t,i){const s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(s)return s;const r=this.gridOptionsService.is("suppressAnimationFrame");return new ba(e,this.beans,t,i&&!r&&!this.printLayout,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.keys(e).map(t=>e[t].getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null)}return t}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}isRangeInRenderedViewport(e,t){return null!=e&&null!=t&&!(t<this.firstRenderedRow||e>this.lastRenderedRow)}};ps([C("animationFrameService")],yi.prototype,"animationFrameService",void 0),ps([C("paginationProxy")],yi.prototype,"paginationProxy",void 0),ps([C("columnModel")],yi.prototype,"columnModel",void 0),ps([C("pinnedRowModel")],yi.prototype,"pinnedRowModel",void 0),ps([C("rowModel")],yi.prototype,"rowModel",void 0),ps([C("focusService")],yi.prototype,"focusService",void 0),ps([C("beans")],yi.prototype,"beans",void 0),ps([C("rowContainerHeightService")],yi.prototype,"rowContainerHeightService",void 0),ps([C("ctrlsService")],yi.prototype,"ctrlsService",void 0),ps([B],yi.prototype,"postConstruct",null),yi=ps([$("rowRenderer")],yi);class tse{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],fn(this.entriesList,e)}getEntries(){return this.entriesList}}var iA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let pd=class extends V{formatValue(e,t,i,s,r=!0){let a,o=null;const c=e.getColDef();if(s?a=s:r&&(a=c.valueFormatter),a){const l={value:i,node:t,data:t?t.data:null,colDef:c,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o="function"==typeof a?a(l):this.expressionService.evaluate(a,l)}else if(c.refData)return c.refData[i]||"";return null==o&&Array.isArray(i)&&(o=i.join(", ")),o}};iA([C("expressionService")],pd.prototype,"expressionService",void 0),pd=iA([$("valueFormatterService")],pd);var K7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let t3=class extends V{init(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))}isEmpty(e){return ui("top"===e?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const i="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(ui(i))return 0;for(let s=0;s<i.length;s++){const r=i[s];if(r.rowTop+r.rowHeight-1>=e)return s}return i.length-1}setPinnedTopRowData(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:v.EVENT_PINNED_ROW_DATA_CHANGED})}setPinnedBottomRowData(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:v.EVENT_PINNED_ROW_DATA_CHANGED})}createNodesFromData(e,t){const i=[];if(e){let s=0;e.forEach((r,o)=>{const a=new Me(this.beans);a.data=r,a.id=(t?Me.ID_PREFIX_TOP_PINNED:Me.ID_PREFIX_BOTTOM_PINNED)+o,a.rowPinned=t?"top":"bottom",a.setRowTop(s),a.setRowHeight(this.gridOptionsService.getRowHeightForNode(a).height),a.setRowIndex(o),s+=a.rowHeight,i.push(a)})}return i}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){ui(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){ui(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||0===e.length)return 0;const t=qe(e);return t.rowTop+t.rowHeight}};K7([C("beans")],t3.prototype,"beans",void 0),K7([B],t3.prototype,"init",null),t3=K7([$("pinnedRowModel")],t3);class Y7{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let s=0;s<e.childrenAfterGroup.length;s++){const r=e.childrenAfterGroup[s];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[s],t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},i++,t=t.parent;return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){const r=this.mapToItems[i.id],o=this.mapToItems[i.parent.id];o.children||(o.children=[]),o.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}}let Q7=(()=>{class n extends V{constructor(t){super(),this.state=n.STATE_WAITING_TO_LOAD,this.version=0,this.id=t}getId(){return this.id}load(){this.state=n.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=n.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(t){this.isRequestMostRecentAndLive(t)&&(this.state=n.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(t,i){this.successCommon(t,i)}pageLoaded(t,i,s){this.successCommon(t,{rowData:i,rowCount:s})}isRequestMostRecentAndLive(t){const i=t===this.version,s=this.isAlive();return i&&s}successCommon(t,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=n.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(t=!0){this.dispatchEvent({type:n.EVENT_LOAD_COMPLETE,success:t,block:this})}}return n.EVENT_LOAD_COMPLETE="loadComplete",n.STATE_WAITING_TO_LOAD="needsLoading",n.STATE_LOADING="loading",n.STATE_LOADED="loaded",n.STATE_FAILED="failed",n})();var md,gd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let mo=md=class extends V{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gridOptionsService.getNum("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=re.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener(Q7.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){re.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:md.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:md.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");const e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>i.getState()===Q7.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:i,state:s}=t.getBlockStateJson();e[i]=s}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};mo.BLOCK_LOADED_EVENT="blockLoaded",mo.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",gd([C("rowModel")],mo.prototype,"rowModel",void 0),gd([B],mo.prototype,"postConstruct",null),gd([function(n,e){return function(t,i){e(t,i,0)}}(0,Tn("loggerFactory"))],mo.prototype,"setBeans",null),mo=md=gd([$("rowNodeBlockLoader")],mo);var X7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let n3=class extends V{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,i,s){const r=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return r&&this.calculatePages(),r}isPaginateChildRows(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:v.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows})}onPaginationPageSizeChanged(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:v.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0})}goToPage(e){this.active&&this.currentPage!==e&&"number"==typeof this.currentPage&&(this.currentPage=e,this.onModelUpdated({type:v.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0}))}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return ne(this.topRowBounds)||ne(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const t=this.getPageFirstRow(),i=this.getPageLastRow();for(let s=t;s<=i;s++){const r=this.getRow(s);r&&e(r)}}getType(){return this.rowModel.getType()}getRowBounds(e){const t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPageSize(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)}calculatePages(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(I(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:v.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const s=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=s-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};X7([C("rowModel")],n3.prototype,"rowModel",void 0),X7([B],n3.prototype,"postConstruct",null),n3=X7([$("paginationProxy")],n3);var sA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Cd=class extends V{processAllCellClasses(e,t,i,s){this.processClassRules(e.cellClassRules,t,i,s),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,s){if(null==e)return;const r=Object.keys(e),o={},a={};for(let c=0;c<r.length;c++){const l=r[c],u=e[l];let d;"string"==typeof u?d=this.expressionService.evaluate(u,t):"function"==typeof u&&(d=u(t)),l.split(" ").forEach(f=>{null==f||""==f.trim()||(d?o[f]=!0:a[f]=!0)})}s&&Object.keys(a).forEach(s),Object.keys(o).forEach(i)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let s;return s="function"==typeof i?i(t):i,"string"==typeof s&&(s=[s]),s||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(r=>{i(r)})}};sA([C("expressionService")],Cd.prototype,"expressionService",void 0),Cd=sA([$("stylingService")],Cd);class sse extends uo{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}}class rse extends ds{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}class ose extends fa{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const e=zi();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||e||this.eInput.focus()}),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}setMin(e){var t;const i=e instanceof Date?null!==(t=ki(e??null,!1))&&void 0!==t?t:void 0:e;return this.min===i||(this.min=i,lo(this.eInput,"min",i)),this}setMax(e){var t;const i=e instanceof Date?null!==(t=ki(e??null,!1))&&void 0!==t?t:void 0:e;return this.max===i||(this.max=i,lo(this.eInput,"max",i)),this}setStep(e){return this.step===e||(this.step=e,lo(this.eInput,"step",e)),this}getDate(){var e;if(this.eInput.validity.valid)return null!==(e=ls(this.getValue()))&&void 0!==e?e:void 0}setDate(e,t){this.setValue(ki(e??null,!1),t)}}class ase extends ds{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:e,max:t,step:i}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),this.setStep(i||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>{this.setValue(e.target.value)})}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());const i=super.setValue(e,t);return this.eInput.value=e,i}}var vd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let s3=(()=>{class n extends g7{constructor(t){super(t,n.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field")}onValueChange(t){const i=a2.EVENT_CHANGED;return this.addManagedListener(this.eText,i,()=>{const s=parseFloat(this.eText.getValue());this.eSlider.setValue(s.toString(),!0),t(s||0)}),this.addManagedListener(this.eSlider,i,()=>{const s=this.eSlider.getValue();this.eText.setValue(s,!0),t(parseFloat(s))}),this}setSliderWidth(t){return this.eSlider.setWidth(t),this}setTextFieldWidth(t){return this.eText.setWidth(t),this}setMinValue(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this}setMaxValue(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this}getValue(){return this.eText.getValue()}setValue(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:a2.EVENT_CHANGED})),this}setStep(t){return this.eSlider.setStep(t),this.eText.setStep(t),this}}return n.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',n})();vd([W("eLabel")],s3.prototype,"eLabel",void 0),vd([W("eSlider")],s3.prototype,"eSlider",void 0),vd([W("eText")],s3.prototype,"eText",void 0),vd([B],s3.prototype,"init",null);var Co=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Nr=(()=>{class n extends me{constructor(t={}){super(n.getTemplate(t)),this.suppressEnabledCheckbox=!0,this.suppressOpenCloseIcons=!1;const{title:i,enabled:s,items:r,suppressEnabledCheckbox:o,suppressOpenCloseIcons:a}=t;this.title=i,this.cssIdentifier=t.cssIdentifier||"default",this.enabled=s??!0,this.items=r||[],this.alignItems=t.alignItems||"center",null!=o&&(this.suppressEnabledCheckbox=o),null!=a&&(this.suppressOpenCloseIcons=a)}static getTemplate(t){const i=t.cssIdentifier||"default";return`<div class="ag-group ag-${i}-group" role="presentation">\n            <div class="ag-group-title-bar ag-${i}-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-${i}-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-${i}-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-${t.direction||"vertical"} ag-${i}-group-container"></div>\n        </div>`}postConstruct(){if(this.items.length){const i=this.items;this.items=[],this.addItems(i)}const t=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()}setupExpandContract(){this.eGroupClosedIcon.appendChild(Bi("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Bi("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",()=>this.toggleGroupExpand()),this.addManagedListener(this.eTitleBar,"keydown",t=>{switch(t.key){case H.ENTER:case H.SPACE:t.preventDefault(),this.toggleGroupExpand();break;case H.RIGHT:case H.LEFT:t.preventDefault(),this.toggleGroupExpand(t.key===H.RIGHT)}})}refreshAriaStatus(){this.suppressOpenCloseIcons||cs(this.eTitleBar,this.expanded)}refreshChildDisplay(){const t=!this.suppressOpenCloseIcons;De(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),De(this.eGroupOpenedIcon,t&&this.expanded),De(this.eGroupClosedIcon,t&&!this.expanded)}isExpanded(){return this.expanded}setAlignItems(t){return this.alignItems!==t&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=t,this.addCssClass(`ag-group-item-alignment-${this.alignItems}`),this}toggleGroupExpand(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),De(this.eContainer,!0),this):(this.expanded===(t=t??!this.expanded)||(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),De(this.eContainer,t),this.dispatchEvent({type:this.expanded?n.EVENT_EXPANDED:n.EVENT_COLLAPSED})),this)}addItems(t){t.forEach(i=>this.addItem(i))}addItem(t){const i=this.eContainer,s=t instanceof me?t.getGui():t;s.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),i.appendChild(s),this.items.push(s)}hideItem(t,i){De(this.items[i],!t)}setTitle(t){return this.eTitle.innerText=t,this}addCssClassToTitleBar(t){this.eTitleBar.classList.add(t)}setEnabled(t,i){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),i||this.cbGroupEnabled.setValue(t),this}isEnabled(){return this.enabled}onEnableChange(t){return this.cbGroupEnabled.onValueChange(i=>{this.setEnabled(i,!0),t(i)}),this}hideEnabledCheckbox(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this}refreshDisabledStyles(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)}}return n.EVENT_EXPANDED="expanded",n.EVENT_COLLAPSED="collapsed",n})();Co([W("eTitleBar")],Nr.prototype,"eTitleBar",void 0),Co([W("eGroupOpenedIcon")],Nr.prototype,"eGroupOpenedIcon",void 0),Co([W("eGroupClosedIcon")],Nr.prototype,"eGroupClosedIcon",void 0),Co([W("eToolbar")],Nr.prototype,"eToolbar",void 0),Co([W("cbGroupEnabled")],Nr.prototype,"cbGroupEnabled",void 0),Co([W("eTitle")],Nr.prototype,"eTitle",void 0),Co([W("eContainer")],Nr.prototype,"eContainer",void 0),Co([B],Nr.prototype,"postConstruct",null);class Ed extends me{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const t=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:s=>{t.forEach(r=>null!=s?r.setAttribute("tabindex",s):r.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new W7({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))}createTabGuard(e){const t=document.createElement("div");return t.classList.add(Wl.TAB_GUARD,"top"===e?Wl.TAB_GUARD_TOP:Wl.TAB_GUARD_BOTTOM),jt(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];hi(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t){vl(e)||(e=e.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",e):super.appendChild(e,t)}}var rA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Da extends Ed{constructor(e=1){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[]}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}onTabKeyDown(e){const t=this.getParentComponent(),i=t&&t.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case H.UP:case H.RIGHT:case H.DOWN:case H.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case H.ESCAPE:const t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui())}}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e?.forEach(t=>{"separator"===t?this.addSeparator():"string"==typeof t?console.warn(`AG Grid: unrecognised menu item ${t}`):this.addItem(t)})}addItem(e){const t=this.createManagedBean(new Aa(Object.assign(Object.assign({},e),{isAnotherSubMenuOpen:()=>this.menuItems.some(i=>i.isSubMenuOpen())})));t.setParentComponent(this),P_(t.getGui(),this.level),this.menuItems.push(t),this.appendChild(t.getGui()),this.addManagedListener(t,Aa.EVENT_MENU_ITEM_SELECTED,i=>{this.dispatchEvent(i)}),this.addManagedListener(t,Aa.EVENT_MENU_ITEM_ACTIVATED,i=>{this.activeMenuItem&&this.activeMenuItem!==i.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=i.menuItem})}activateFirstItem(){const e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}addSeparator(){this.appendChild(en('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))}findTopMenu(){let e=this.getParentComponent();if(!e&&this instanceof Da)return this;for(;;){const t=e&&e.getParentComponent&&e.getParentComponent();if(!t||!(t instanceof Da||t instanceof Aa))break;e=t}return e instanceof Da?e:void 0}handleNavKey(e){switch(e){case H.UP:case H.DOWN:const i=this.findNextItem(e===H.UP);return void(i&&i!==this.activeMenuItem&&i.activate())}e===(this.gridOptionsService.is("enableRtl")?H.RIGHT:H.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();t&&t instanceof Aa&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=this.menuItems.filter(r=>!r.isDisabled());if(!t.length)return;if(!this.activeMenuItem)return e?qe(t):t[0];e&&t.reverse();let i,s=!1;for(let r=0;r<t.length;r++){const o=t[r];if(s){i=o;break}o===this.activeMenuItem&&(s=!0)}return i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}}rA([C("focusService")],Da.prototype,"focusService",void 0),rA([B],Da.prototype,"postConstruct",null);class oA extends Ed{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===H.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([B],oA.prototype,"postConstruct",null);var aA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Aa=(()=>{class n extends me{constructor(t){super(),this.params=t,this.isActive=!1,this.subMenuIsOpen=!1,this.setTemplate(`<div class="${this.getClassName()}" tabindex="-1" role="treeitem"></div>`)}init(){this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();const t=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),xp(t,!0)):(this.addGuiEventListener("click",i=>this.onItemSelected(i)),this.addGuiEventListener("keydown",i=>{(i.key===H.ENTER||i.key===H.SPACE)&&(i.preventDefault(),this.onItemSelected(i))}),this.addGuiEventListener("mousedown",i=>{i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",()=>this.onMouseEnter()),this.addGuiEventListener("mouseleave",()=>this.onMouseLeave())),this.params.cssClasses&&this.params.cssClasses.forEach(i=>this.addCssClass(i))}isDisabled(){return!!this.params.disabled}openSubMenu(t=!1){if(this.closeSubMenu(),!this.params.subMenu)return;const i=en('<div class="ag-menu" role="presentation"></div>');let s;if(this.params.subMenu instanceof Array){const l=H_(this.getGui()),u=isNaN(l)?1:l+1,d=this.createBean(new Da(u));d.setParentComponent(this),d.addMenuItems(this.params.subMenu),i.appendChild(d.getGui()),this.addManagedListener(d,n.EVENT_MENU_ITEM_SELECTED,f=>this.dispatchEvent(f)),d.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),s=()=>this.destroyBean(d),t&&setTimeout(()=>d.activateFirstItem(),0)}else{const{subMenu:l}=this.params,u=this.createBean(new oA(l));u.setParentComponent(this);const d=u.getGui(),f="mouseenter",p=()=>this.cancelDeactivate();d.addEventListener(f,p),s=()=>d.removeEventListener(f,p),i.appendChild(d),l.afterGuiAttached&&setTimeout(()=>l.afterGuiAttached(),0)}const r=this.getGui(),o=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:r,ePopup:i}),a=this.localeService.getLocaleTextFunc(),c=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:o,anchorToElement:r,ariaLabel:a("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,cs(r,!0),this.hideSubMenu=()=>{c&&c.hideFunc(),this.subMenuIsOpen=!1,cs(r,!1),s()}}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,cs(this.getGui(),!1))}isSubMenuOpen(){return this.subMenuIsOpen}activate(t){this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}addIcon(){if(!this.params.checked&&!this.params.icon&&this.params.isCompact)return;const t=en(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?t.appendChild(At("check",this.gridOptionsService)):this.params.icon&&(vl(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}addName(){if(!this.params.name&&this.params.isCompact)return;const t=en(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(t)}addTooltip(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new _r(this)))}getTooltipParams(){return{location:"menu",value:this.tooltip}}addShortcut(){if(!this.params.shortcut&&this.params.isCompact)return;const t=en(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(t)}addSubMenu(){if(!this.params.subMenu&&this.params.isCompact)return;const t=en(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),i=this.getGui();if(this.params.subMenu){const s=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";cs(i,!1),t.appendChild(At(s,this.gridOptionsService))}i.appendChild(t)}onItemSelected(t){this.params.action?this.params.action():this.openSubMenu(t&&"keydown"===t.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:n.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t})}onItemActivated(){this.dispatchEvent({type:n.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),n.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),n.ACTIVATION_DELAY):this.deactivate()}getClassName(t){const i=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?`${i}-${t}`:i}}return n.EVENT_MENU_ITEM_SELECTED="menuItemSelected",n.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",n.ACTIVATION_DELAY=80,n})();aA([C("popupService")],Aa.prototype,"popupService",void 0),aA([B],Aa.prototype,"init",null);var r3=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Ra=(()=>{class n extends me{constructor(t){super(n.getTemplate(t)),this.closable=!0,this.config=t}static getTemplate(t){const i=t&&t.cssIdentifier||"default";return`<div class="ag-panel ag-${i}-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-${i}-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-${i}-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${i}-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${i}-panel-content-wrapper"></div>\n        </div>`}postConstruct(){const{component:t,closable:i,hideTitleBar:s,title:r,minWidth:o=250,width:a,minHeight:c=250,height:l,centered:u,popup:d,x:f,y:p}=this.config;this.positionableFeature=new yl(this.getGui(),{minWidth:o,width:a,minHeight:c,height:l,centered:u,x:f,y:p,popup:d,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const g=this.getGui();t&&this.setBodyComponent(t),s?De(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(i??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",m=>{const y=this.gridOptionsService.getDocument();if(g.contains(m.relatedTarget)||g.contains(y.activeElement)||this.eTitleBarButtons.contains(m.target))return void m.preventDefault();const M=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");M&&M.focus()}),(!d||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const t=this.getGui();t.focus(),this.close=()=>{t.parentElement.removeChild(t),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(t){this.positionableFeature.setHeight(t)}getWidth(){return this.positionableFeature.getWidth()}setWidth(t){this.positionableFeature.setWidth(t)}setClosable(t){if(t!==this.closable&&(this.closable=t),t){const i=this.closeButtonComp=new me(n.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);const s=i.getGui(),r=At("close",this.gridOptionsService);r.classList.add("ag-panel-title-bar-button-icon"),s.appendChild(r),this.addTitleBarButton(i),i.addManagedListener(s,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())}addTitleBarButton(t,i){const s=this.eTitleBarButtons,r=s.children,o=r.length;null==i&&(i=o),i=Math.max(0,Math.min(i,o)),t.addCssClass("ag-panel-title-bar-button");const a=t.getGui();0===i?s.insertAdjacentElement("afterbegin",a):i===o?s.insertAdjacentElement("beforeend",a):r[i-1].insertAdjacentElement("afterend",a),t.setParentComponent(this)}getBodyHeight(){return fl(this.eContentWrapper)}getBodyWidth(){return j0(this.eContentWrapper)}setTitle(t){this.eTitle.innerText=t}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const t=this.getGui();t&&t.offsetParent&&this.close(),super.destroy()}}return n.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',n})();r3([W("eContentWrapper")],Ra.prototype,"eContentWrapper",void 0),r3([W("eTitleBar")],Ra.prototype,"eTitleBar",void 0),r3([W("eTitleBarButtons")],Ra.prototype,"eTitleBarButtons",void 0),r3([W("eTitle")],Ra.prototype,"eTitle",void 0),r3([B],Ra.prototype,"postConstruct",null);class cA extends Ra{constructor(e){super(Object.assign(Object.assign({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:t,resizable:i,maximizable:s}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",r=>{e.contains(r.relatedTarget)||this.popupService.bringPopupToFront(e)}),t&&this.setMovable(t),s&&this.setMaximizable(s),i&&this.setResizable(i)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:i,title:s}=this.config,r=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:t,ariaLabel:s||r("ariaLabelDialog","Dialog")});o&&(this.close=o.hideFunc)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:t,y:i,width:s,height:r}=this.lastPosition;this.setWidth(s),this.setHeight(r),this.positionableFeature.offsetElement(t,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){De(this.maximizeIcon,!this.isMaximized),De(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new me('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=At("maximize",this.gridOptionsService),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=At("minimize",this.gridOptionsService),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([C("popupService")],cA.prototype,"popupService",void 0);var Z7,o3=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},La=function(n){return n[n.vertical=0]="vertical",n[n.horizontal=1]="horizontal",n}(La||{});let use=0,vo=Z7=class extends V{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl,this.addManagedListener(this.gridCtrl,v.EVENT_KEYBOARD_FOCUS,()=>{this.popupList.forEach(t=>t.element.classList.add(Rt.AG_KEYBOARD_FOCUS))}),this.addManagedListener(this.gridCtrl,v.EVENT_MOUSE_FOCUS,()=>{this.popupList.forEach(t=>t.element.classList.remove(Rt.AG_KEYBOARD_FOCUS))})})}getPopupParent(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()}positionPopupForMenu(e){const t=e.eventSource.getBoundingClientRect(),i=this.getParentRect(),s=this.keepXYWithinBounds(e.ePopup,t.top-i.top,La.vertical),r=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=`${r}px`;const a=i.right-i.left-r;let c;function l(){return t.right-i.left-2}function u(){return t.left-i.left-r}this.gridOptionsService.is("enableRtl")?(c=u(),c<0&&(c=l()),c>a&&(c=0)):(c=l(),c>a&&(c=u()),c<0&&(c=0)),e.ePopup.style.left=`${c}px`,e.ePopup.style.top=`${s}px`}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const t=e.eventSource.getBoundingClientRect(),i=e.alignSide||"left",s=e.position||"over",r=this.getParentRect();this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,keepWithinBounds:e.keepWithinBounds,updatePosition:()=>{let a=t.left-r.left;return"right"===i&&(a-=e.ePopup.offsetWidth-t.width),{x:a,y:"over"===s?t.top-r.top:t.top-r.top+t.height}},postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)})}callPostProcessPopup(e,t,i,s,r,o){const a=this.gridOptionsService.getCallback("postProcessPopup");a&&a({column:r,rowNode:o,ePopup:t,type:e,eventSource:i,mouseEvent:s})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:s,nudgeY:r,skipObserver:o,updatePosition:a}=e,c={width:0,height:0},l=(u=!1)=>{let{x:d,y:f}=a();u&&t.clientWidth===c.width&&t.clientHeight===c.height||(c.width=t.clientWidth,c.height=t.clientHeight,s&&(d+=s),r&&(f+=r),i&&(d=this.keepXYWithinBounds(t,d,La.horizontal),f=this.keepXYWithinBounds(t,f,La.vertical)),t.style.left=`${d}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){const u=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>u(),Z7.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gridOptionsService.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),Jp(t)}keepXYWithinBounds(e,t,i){const s=i===La.vertical,r=s?"clientHeight":"clientWidth",o=s?"top":"left",a=s?"offsetHeight":"offsetWidth",c=s?"scrollTop":"scrollLeft",l=this.gridOptionsService.getDocument(),u=l.documentElement,d=this.getPopupParent(),f=d.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),g=d===l.body,m=e[a];let M=g?(s?Zp:$0)(u)+u[c]:d[r];g&&(M-=Math.abs(p[o]-f[o]));const w=M-m;return Math.min(Math.max(t,0),Math.abs(w))}addPopup(e){const t=this.gridOptionsService.getDocument(),{eChild:i,ariaLabel:s,alwaysOnTop:r,positionCallback:o,anchorToElement:a}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const c=this.popupList.findIndex(d=>d.element===i);if(-1!==c)return{hideFunc:this.popupList[c].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,s,!!r),u=this.addEventListenersToPopup(Object.assign(Object.assign({},e),{wrapperEl:l}));return o&&o(),this.addPopupToPopupList(i,l,u,a),{hideFunc:u}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();I(e.style.top)||(e.style.top=-1*i.top+"px"),I(e.style.left)||(e.style.left=-1*i.left+"px")}createPopupWrapper(e,t,i){const s=this.getPopupParent(),r=document.createElement("div"),{allThemes:o}=this.environment.getTheme();return o.length&&r.classList.add(...o),r.classList.add("ag-popup"),e.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||jt(e,"dialog"),oo(e,t),this.focusService.isKeyboardMode()&&e.classList.add(Rt.AG_KEYBOARD_FOCUS),r.appendChild(e),s.appendChild(r),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}addEventListenersToPopup(e){const t=this.gridOptionsService.getDocument(),i=this.getPopupParent(),{wrapperEl:s,eChild:r,click:o,closedCallback:a,afterGuiAttached:c,closeOnEsc:l,modal:u}=e;let d=!1;const f=y=>{s.contains(t.activeElement)&&y.key===H.ESCAPE&&m({keyboardEvent:y})},p=y=>m({mouseEvent:y}),g=y=>m({touchEvent:y}),m=(y={})=>{const{mouseEvent:M,touchEvent:w,keyboardEvent:T}=y;this.isEventFromCurrentPopup({mouseEvent:M,touchEvent:w},r)||this.isEventSameChainAsOriginalEvent({originalMouseEvent:o,mouseEvent:M,touchEvent:w})||d||(d=!0,i.removeChild(s),t.removeEventListener("keydown",f),t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",g),t.removeEventListener("contextmenu",p),this.eventService.removeEventListener(v.EVENT_DRAG_STARTED,p),a&&a(M||w||T),this.removePopupFromPopupList(r))};return c&&c({hidePopup:m}),window.setTimeout(()=>{l&&t.addEventListener("keydown",f),u&&(t.addEventListener("mousedown",p),this.eventService.addEventListener(v.EVENT_DRAG_STARTED,p),t.addEventListener("touchstart",g),t.addEventListener("contextmenu",p))},0),m}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:use++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}setPopupPositionRelatedToElement(e,t){const i=this.popupList.find(r=>r.element===e);if(!i||(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(r=>r&&r()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t))return;const s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=s,i.isAnchored=!0,s}removePopupFromPopupList(e){this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:r}=e,o=s.getBoundingClientRect(),a=i.top-o.top,c=i.left-o.left;let l=a,u=c;const d=r.style.top,f=parseInt(d.substring(0,d.length-1),10),p=r.style.left,g=parseInt(p.substring(0,p.length-1),10);return new $t(m=>{this.getFrameworkOverrides().setInterval(()=>{const y=t.getBoundingClientRect(),M=s.getBoundingClientRect();if(0==M.top&&0==M.left&&0==M.height&&0==M.width)return void e.hidePopup();const T=y.top-M.top;if(T!=l){const N=this.keepXYWithinBounds(r,f+a-T,La.vertical);r.style.top=`${N}px`}l=T;const R=y.left-M.left;if(R!=u){const N=this.keepXYWithinBounds(r,g+c-R,La.horizontal);r.style.left=`${N}px`}u=R},200).then(y=>{m(()=>{null!=y&&window.clearInterval(y)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:s}=e,r=i||s;if(!r)return!1;const o=this.popupList.findIndex(a=>a.element===t);if(-1===o)return!1;for(let a=o;a<this.popupList.length;a++)if(H0(this.popupList[a].element,r))return!0;return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=this.gridOptionsService.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}isEventSameChainAsOriginalEvent(e){const{originalMouseEvent:t,mouseEvent:i,touchEvent:s}=e;let r=null;if(i?r=i:s&&(r=s.touches[0]),r&&t){const a=i?i.screenY:0,c=Math.abs(t.screenX-(i?i.screenX:0))<5,l=Math.abs(t.screenY-a)<5;if(c&&l)return!0}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),o=r.length,a=this.getWrapper(e);if(!a||s<=1||!t.contains(e))return;const c=i.indexOf(a),l=a.querySelectorAll("div"),u=[];for(l.forEach(f=>{0!==f.scrollTop&&u.push([f,f.scrollTop])}),o?a.classList.contains("ag-always-on-top")?c!==s-1&&qe(r).insertAdjacentElement("afterend",a):c!==s-o-1&&r[0].insertAdjacentElement("beforebegin",a):c!==s-1&&qe(i).insertAdjacentElement("afterend",a);u.length;){const f=u.pop();f[0].scrollTop=f[1]}this.eventService.dispatchEvent({type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:a})}};vo.WAIT_FOR_POPUP_CONTENT_RESIZE=200,o3([C("focusService")],vo.prototype,"focusService",void 0),o3([C("ctrlsService")],vo.prototype,"ctrlsService",void 0),o3([C("resizeObserverService")],vo.prototype,"resizeObserverService",void 0),o3([B],vo.prototype,"postConstruct",null),vo=Z7=o3([$("popupService")],vo);var J7=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class a3 extends Ed{constructor(e="default",t="listbox",i){super(a3.getTemplate(e)),this.cssIdentifier=e,this.ariaRole=t,this.listName=i,this.renderedRows=new Map,this.rowHeight=20}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const t=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;jt(i,this.ariaRole),oo(i,t)}addResizeObserver(){const t=this.resizeObserverService.observeResize(this.getGui(),()=>this.drawVirtualRows());this.addDestroyFunc(t)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const t=e.target;return t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=x_(t)-1),!1}onFocusOut(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1}handleKeyDown(e){switch(e.key){case H.UP:case H.DOWN:this.navigate(e.key===H.UP)&&e.preventDefault()}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(wr(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(null==this.lastFocusedRowIndex)return!1;const t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount()||(this.focusRow(t),0))}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()},10)}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,i)=>e(t.rowComponent,i))}static getTemplate(e){return`\n            <div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>\n            </div>`}getItemHeight(){return this.environment.getListItemHeight()}ensureIndexVisible(e){const t=this.model.getRowCount();if("number"!=typeof e||e<0||e>=t)return void console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);const i=e*this.rowHeight,s=i+this.rowHeight,r=this.getGui(),o=r.scrollTop,a=r.offsetHeight,u=o+a<s;o>i?r.scrollTop=i:u&&(r.scrollTop=s-a)}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.rowHeight=e,this.refresh()}refresh(e){if(null==this.model||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height=t*this.rowHeight+"px",yp(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive())return;const t=this.getGui(),i=t.scrollTop,s=i+t.offsetHeight,r=Math.floor(i/this.rowHeight),o=Math.floor(s/this.rowHeight);this.ensureRowsRendered(r,o,e)}ensureRowsRendered(e,t,i){this.renderedRows.forEach((s,r)=>{(r<e||r>t)&&r!==this.lastFocusedRowIndex&&this.removeRow(r)}),i&&this.refreshRows();for(let s=e;s<=t;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)}insertRow(e){const t=this.model.getRow(e),i=document.createElement("div");if(i.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),jt(i,"tree"===this.ariaRole?"treeitem":"option"),Ip(i,this.model.getRowCount()),Op(i,e+1),i.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){const r=this.model.isRowSelected(e);t2(i,!!r),j_(i,r)}i.style.height=`${this.rowHeight}px`,i.style.top=this.rowHeight*e+"px";const s=this.componentCreator(t,i);s.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),i.appendChild(s.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:s,eDiv:i,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((t,i)=>{var s,r;if(i>=e)this.removeRow(i);else{const o=this.model.getRow(i);null!==(r=(s=this.model).areRowsEqual)&&void 0!==r&&r.call(s,t.value,o)?this.componentUpdater(o,t.rowComponent):this.removeRow(i)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}}J7([C("resizeObserverService")],a3.prototype,"resizeObserverService",void 0),J7([W("eContainer")],a3.prototype,"eContainer",void 0),J7([B],a3.prototype,"postConstruct",null);const dse=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],hse=["touchstart","touchend","touchmove","touchcancel"];class lA{constructor(){this.renderingEngine="vanilla",this.isOutsideAngular=e=>Vi(dse,e)}setTimeout(e,t){window.setTimeout(e,t)}setInterval(e,t){return new $t(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,s){const r=Vi(hse,t);e.addEventListener(t,i,{capture:!!s,passive:r})}dispatchEvent(e,t,i=!1){t()}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}}var w2=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Eo=class extends V{getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===H.UP,r=e===H.LEFT;let o,a;if(i||e===H.DOWN)a=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),o=t.column;else{const c=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsService.is("enableRtl");a=t.rowIndex,o=r!==l?c[0]:qe(c)}return{rowIndex:a,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case H.UP:i=this.getCellAbove(i);break;case H.DOWN:i=this.getCellBelow(i);break;case H.RIGHT:i=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case H.LEFT:i=this.gridOptionsService.is("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e)}s=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}return!!i&&!t.isSuppressNavigable(i)}getCellToLeft(e){if(!e)return null;const t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const s=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(s)||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)return;const i=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,c)=>a.getRowNode().rowIndex-c.getRowNode().rowIndex),s=t?-1:1,r=i.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=i[r+s];return o?{rowIndex:o.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return"top"===t?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:"bottom"===t?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;if(i?0===t:t===this.paginationProxy.getPageFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const r=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(r,!0)||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,s=e.rowPinned,r=this.columnModel.getDisplayedColAfter(e.column);if(!r){r=t[0];const o=this.getRowBelow(e);if(ne(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}getNextTabbedCellBackwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,s=e.rowPinned,r=this.columnModel.getDisplayedColBefore(e.column);if(!r){r=qe(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(ne(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}};w2([C("columnModel")],Eo.prototype,"columnModel",void 0),w2([C("rowModel")],Eo.prototype,"rowModel",void 0),w2([C("rowRenderer")],Eo.prototype,"rowRenderer",void 0),w2([C("pinnedRowModel")],Eo.prototype,"pinnedRowModel",void 0),w2([C("paginationProxy")],Eo.prototype,"paginationProxy",void 0),Eo=w2([$("cellNavigationService")],Eo);var c3=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Na=class extends V{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}init(){this.addManagedListener(this.eventService,v.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){if(this.consuming)return;const t=this.gridOptionsService.get("alignedGrids");t&&t.forEach(i=>{if(i.api){const s=i.api.__getAlignedGridService();e(s)}})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(t=>{t.onColumnEvent(e)})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent(t=>{t.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach(i=>{t.push(i)}):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach(i=>{t.push(i.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case v.EVENT_COLUMN_MOVED:case v.EVENT_COLUMN_VISIBLE:case v.EVENT_COLUMN_PINNED:case v.EVENT_COLUMN_RESIZED:this.processColumnEvent(e);break;case v.EVENT_COLUMN_GROUP_OPENED:this.processGroupOpenedEvent(e);break;case v.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(e){const t=e.columnGroup;let i=null;if(t){const s=t.getGroupId();i=this.columnModel.getProvidedColumnGroup(s)}t&&!i||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(i,t.isExpanded(),"alignedGridChanged"))}processColumnEvent(e){var t;const i=e.column;let s=null;if(i&&(s=this.columnModel.getPrimaryColumn(i.getColId())),i&&!s)return;const r=this.getMasterColumns(e);switch(e.type){case v.EVENT_COLUMN_MOVED:{const d=e,p=e.columnApi.getColumnState().map(g=>({colId:g.colId}));this.columnModel.applyColumnState({state:p,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${d.toIndex}`)}break;case v.EVENT_COLUMN_VISIBLE:{const d=e,p=e.columnApi.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));this.columnModel.applyColumnState({state:p},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${d.visible}`)}break;case v.EVENT_COLUMN_PINNED:{const d=e,p=e.columnApi.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));this.columnModel.applyColumnState({state:p},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${d.pinned}`)}break;case v.EVENT_COLUMN_RESIZED:const l=e,u={};r.forEach(d=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${d.getActualWidth()}`),u[d.getId()]={key:d.getColId(),newWidth:d.getActualWidth()}}),null===(t=l.flexColumns)||void 0===t||t.forEach(d=>{u[d.getId()]&&delete u[d.getId()]}),this.columnModel.setColumnWidths(Object.values(u),!1,l.finished,"alignedGridChanged")}const a=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),c=this.gridOptionsService.get("alignedGrids");c&&c.forEach(l=>{l.api&&l.api.setAlwaysShowVerticalScroll(a)})}};c3([C("columnModel")],Na.prototype,"columnModel",void 0),c3([C("ctrlsService")],Na.prototype,"ctrlsService",void 0),c3([function(n,e){return function(t,i){e(t,i,0)}}(0,Tn("loggerFactory"))],Na.prototype,"setBeans",null),c3([B],Na.prototype,"init",null),Na=c3([$("alignedGridsService")],Na);var l3=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Ha=class extends V{setBeans(e){this.logger=e.create("selectionService"),this.reset()}init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",e=>this.groupSelectsChildren=e.currentValue),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",e=>this.rowSelection=e.currentValue),this.addManagedListener(this.eventService,v.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}isMultiselect(){return"multiple"===this.rowSelection}setNodesSelected(e){var t;if(0===e.nodes.length)return 0;const{newValue:i,clearSelection:s,suppressFinishActions:r,rangeSelect:o,source:c="api"}=e;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const l=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,u=e.nodes.map(f=>f.footer?f.sibling:f);if(o){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;const f=this.getLastSelectedNode();if(f){const p=u[0];if(f!==p&&this.isMultiselect()){const m=this.selectRange(p,f,e.newValue,c);return this.setLastSelectedNode(p),m}}}let d=0;for(let f=0;f<u.length;f++){const p=u[f];l&&p.group||p.selectThisNode(i,e.event,c)&&d++,this.groupSelectsChildren&&null!==(t=p.childrenAfterGroup)&&void 0!==t&&t.length&&(d+=this.selectChildren(p,i,l,c))}return r||(i&&(s||!this.isMultiselect())&&(d+=this.clearOtherNodes(u[0],c)),d>0&&(this.updateGroupsFromChildrenSelections(c),this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:c})),i&&this.setLastSelectedNode(u[u.length-1])),d}selectRange(e,t,i=!0,s){const r=this.rowModel.getNodesInRangeForSelection(e,t);let o=0;return r.forEach(c=>{c.group&&this.groupSelectsChildren||!1===i&&e===c||c.selectThisNode(i,void 0,s)&&o++}),this.updateGroupsFromChildrenSelections(s),this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:s}),o}selectChildren(e,t,i,s){const r=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return re.missing(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:s,nodes:r})}setLastSelectedNode(e){this.lastSelectedNode=e}getLastSelectedNode(){return this.lastSelectedNode}getSelectedNodes(){const e=[];return lt(this.selectedNodes,(t,i)=>{i&&e.push(i)}),e}getSelectedRows(){const e=[];return lt(this.selectedNodes,(t,i)=>{i&&i.data&&e.push(i.data)}),e}getSelectionCount(){return Object.values(this.selectedNodes).length}filterFromSelection(e){const t={};Object.entries(this.selectedNodes).forEach(([i,s])=>{s&&e(s)&&(t[i]=s)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;const s=this.rowModel.getRootNode();t||(t=new Y7(!0,s)).setInactive();let r=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==s){const a=o.calculateSelectedFromChildren();r=o.selectThisNode(null!==a&&a,void 0,e)||r}}),r}clearOtherNodes(e,t){const i={};let s=0;return lt(this.selectedNodes,(r,o)=>{o&&o.id!==e.id&&(s+=this.selectedNodes[o.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&o.parent&&(i[o.parent.id]=o.parent))}),lt(i,(r,o)=>{const a=o.calculateSelectedFromChildren();o.selectThisNode(null!==a&&a,void 0,t)}),s}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes[t.id]=t:delete this.selectedNodes[t.id])}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){I(t)&&e.id!==t.id&&t&&this.selectedNodes[t.id]==e&&(this.selectedNodes[t.id]=t)}syncInNewRowNode(e){I(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)}reset(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const t=this.rowModel.getTopLevelNodes();if(null===t)return;const i=[];return function s(r){for(let o=0,a=r.length;o<a;o++){const c=r[o];c.isSelected()?i.push(c):c.group&&c.children&&s(c.children)}}(t),i}isEmpty(){let e=0;return lt(this.selectedNodes,(t,i)=>{i&&e++}),0===e}deselectAllRowNodes(e){const t=c=>c.selectThisNode(!1,void 0,s),i="clientSide"===this.rowModel.getType(),{source:s,justFiltered:r,justCurrentPage:o}=e;if(o||r){if(!i)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,o).forEach(t)}else lt(this.selectedNodes,(c,l)=>{l&&t(l)}),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(s),this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:s})}getSelectAllState(e,t){let i=0,s=0;return this.getNodesToSelect(e,t).forEach(o=>{this.groupSelectsChildren&&o.group||(o.isSelected()?i++:o.selectable&&s++)}),(0!==i||0!==s)&&(i>0&&s>0?null:i>0)}getNodesToSelect(e=!1,t=!1){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const i=[];if(t)return this.paginationProxy.forEachNodeOnPage(r=>{if(r.group)if(r.expanded)this.groupSelectsChildren||i.push(r);else{const o=a=>{var c;i.push(a),null!==(c=a.childrenAfterFilter)&&void 0!==c&&c.length&&a.childrenAfterFilter.forEach(o)};o(r)}else i.push(r)}),i;const s=this.rowModel;return e?(s.forEachNodeAfterFilter(r=>{i.push(r)}),i):(s.forEachNode(r=>{i.push(r)}),i)}selectAllRowNodes(e){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:i,justCurrentPage:s}=e;this.getNodesToSelect(i,s).forEach(a=>a.selectThisNode(!0,void 0,t)),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:t})}getServerSideSelectionState(){return null}setServerSideSelectionState(e){}};l3([C("rowModel")],Ha.prototype,"rowModel",void 0),l3([C("paginationProxy")],Ha.prototype,"paginationProxy",void 0),l3([function(n,e){return function(t,i){e(t,i,0)}}(0,Tn("loggerFactory"))],Ha.prototype,"setBeans",null),l3([B],Ha.prototype,"init",null),Ha=l3([$("selectionService")],Ha);var eg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let u3=class{sizeColumnsToFit(e){typeof e>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.columnModel.setColumnVisible(e,t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.columnModel.setColumnPinned(e,t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.columnModel.moveColumn(e,t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t)}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t)}setColumnWidth(e,t,i=!0,s){this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,i,s)}setColumnWidths(e,t=!0,i){this.columnModel.setColumnWidths(e,!1,t,i)}setPivotMode(e){this.columnModel.setPivotMode(e)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.columnModel.removeValueColumn(e,"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.columnModel.addValueColumn(e,"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.columnModel.removeRowGroupColumn(e,"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.columnModel.addRowGroupColumn(e,"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.columnModel.removePivotColumn(e,"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.columnModel.addPivotColumn(e,"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.columnModel.autoSizeColumn(e,t,"api")}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns(e,"api")}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(re.removeAllReferences.bind(window,this,"Column API"),100)}getAllColumns(){return Pi("28.0","getAllColumns","getColumns"),this.getColumns()}getPrimaryColumns(){return Pi("28.0","getPrimaryColumns","getColumns"),this.getColumns()}getSecondaryColumns(){return Pi("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()}setSecondaryColumns(e){Pi("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(e)}getSecondaryPivotColumn(e,t){return Pi("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(e,t)}};eg([C("columnModel")],u3.prototype,"columnModel",void 0),eg([Wt],u3.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),u3=eg([$("columnApi")],u3);var S2=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let yo=class extends V{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(v.EVENT_CELL_VALUE_CHANGED,e=>this.callColumnCellValueChangedHandler(e),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",e=>this.isTreeData=e.currentValue)}getValue(e,t,i=!1,s=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),o=r.field,a=e.getColId(),c=t.data;let l;const u=t.groupData&&void 0!==t.groupData[a],d=!s&&t.aggData&&void 0!==t.aggData[a],f=this.isSsrm&&s&&!!e.getColDef().aggFunc,p=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(i&&r.filterValueGetter?l=this.executeFilterValueGetter(r.filterValueGetter,c,e,t):this.isTreeData&&d?l=t.aggData[a]:this.isTreeData&&r.valueGetter?l=this.executeValueGetter(r.valueGetter,c,e,t):this.isTreeData&&o&&c?l=X1(c,o,e.isFieldContainsDots()):u?l=t.groupData[a]:d?l=t.aggData[a]:r.valueGetter?l=this.executeValueGetter(r.valueGetter,c,e,t):p?l=X1(c,t.field,e.isFieldContainsDots()):o&&c&&!f&&(l=X1(c,o,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof l&&0===l.indexOf("=")){const g=l.substring(1);l=this.executeValueGetter(g,c,e,t)}if(null==l){const g=this.getOpenedGroup(t,e);if(null!=g)return g}return l}getOpenedGroup(e,t){if(!this.gridOptionsService.is("showOpenedGroup")||!t.getColDef().showRowGroup)return;const s=t.getColDef().showRowGroup;let r=e.parent;for(;null!=r;){if(r.rowGroupColumn&&(!0===s||s===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,i,s){const r=this.columnModel.getPrimaryColumn(t);if(!e||!r)return!1;ne(e.data)&&(e.data={});const{field:o,valueSetter:a}=r.getColDef();if(ne(o)&&ne(a))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(r,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const c={node:e,data:e.data,oldValue:this.getValue(r,e),newValue:i,colDef:r.getColDef(),column:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};let l;return c.newValue=i,l=I(a)?"function"==typeof a?a(c):this.expressionService.evaluate(a,c):this.setValueUsingField(e.data,o,i,r.isFieldContainsDots()),void 0===l&&(l=!0),!!l&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(r,e),this.eventService.dispatchEvent({type:v.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:e.data,node:e,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:s}),!0)}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"==typeof t&&t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})}setValueUsingField(e,t,i,s){if(!t)return!1;let r=!1;if(s){const o=t.split(".");let a=e;for(;o.length>0&&a;){const c=o.shift();0===o.length?(r=a[c]==i,r||(a[c]=i)):a=a[c]}}else r=e[t]==i,r||(e[t]=i);return!r}executeFilterValueGetter(e,t,i,s){const r={data:t,node:s,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,s)};return"function"==typeof e?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,t,i,s){const r=i.getColId(),o=this.valueCache.getValue(s,r);if(void 0!==o)return o;const a={data:t,node:s,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,s)};let c;return c="function"==typeof e?e(a):this.expressionService.evaluate(e,a),this.valueCache.setValue(s,r,c),c}getValueCallback(e,t){const i=this.columnModel.getPrimaryColumn(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),s=e.getColDef().keyCreator;let r=i;return s&&(r=s({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),"string"==typeof r||null==r||(r=String(r),"[object Object]"===r&&Le(()=>{console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),r}};S2([C("expressionService")],yo.prototype,"expressionService",void 0),S2([C("columnModel")],yo.prototype,"columnModel",void 0),S2([C("valueCache")],yo.prototype,"valueCache",void 0),S2([C("dataTypeService")],yo.prototype,"dataTypeService",void 0),S2([B],yo.prototype,"init",null),yo=S2([$("valueService")],yo);var uA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let yd=class extends V{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if("string"==typeof e)return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};uA([function(n,e){return function(t,i){e(t,i,0)}}(0,Tn("loggerFactory"))],yd.prototype,"setBeans",null),yd=uA([$("expressionService")],yd);let tg=class extends V{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(e,t){const i=this.templateCache[e];if(i)return i;let s=this.waitingCallbacks[e];const r=this;if(!s){s=[],this.waitingCallbacks[e]=s;const o=new XMLHttpRequest;o.onload=function(){r.handleHttpResult(this,e)},o.open("GET",e),o.send()}return t&&s.push(t),null}handleHttpResult(e,t){if(200!==e.status||null===e.response)return void console.warn(`AG Grid: Unable to get template error ${e.status} - ${t}`);this.templateCache[t]=e.response||e.responseText;const i=this.waitingCallbacks[t];for(let s=0;s<i.length;s++)(0,i[s])()}};tg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$("templateService")],tg);var dA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let bd=class extends V{setBeans(e){this.logging=e.is("debug")}create(e){return new ng(e,this.isLogging.bind(this))}isLogging(){return this.logging}};dA([function(n,e){return function(t,i){e(t,i,0)}}(0,Tn("gridOptionsService"))],bd.prototype,"setBeans",null),bd=dA([$("loggerFactory")],bd);class ng{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}}var M2=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class xa extends V{setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:r=>r===zn.HeaderCell||r===zn.ToolPanel,getIconName:()=>He.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Z0(this.view)),this.addRtlSupport(),this.addManagedListener(this,v.EVENT_KEYBOARD_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,v.EVENT_MOUSE_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!1)});const s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return(null===(e=t?.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1}showDropZones(){return ie.__isRegistered(K.RowGroupingModule,this.context.getGridId())}showSideBar(){return ie.__isRegistered(K.SideBarModule,this.context.getGridId())}showStatusBar(){return ie.__isRegistered(K.StatusBarModule,this.context.getGridId())}showWatermark(){return ie.__isRegistered(K.EnterpriseCoreModule,this.context.getGridId())}onGridSizeChanged(){this.eventService.dispatchEvent({type:v.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){const e=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),r=i.findIndex(o=>o.contains(t.activeElement))+(e?-1:1);return!(r<=0||r>=i.length)&&this.focusService.focusInto(i[r])}focusInnerElement(e){const t=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(qe(t),!0);const s=qe(i);if(this.focusService.focusGridView(s,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(i[0]):this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}}M2([C("focusService")],xa.prototype,"focusService",void 0),M2([C("resizeObserverService")],xa.prototype,"resizeObserverService",void 0),M2([C("columnModel")],xa.prototype,"columnModel",void 0),M2([C("ctrlsService")],xa.prototype,"ctrlsService",void 0),M2([C("mouseEventService")],xa.prototype,"mouseEventService",void 0),M2([C("dragAndDropService")],xa.prototype,"dragAndDropService",void 0);var d3=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class T2 extends Ed{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:i=>this.addCssClass(i),addOrRemoveKeyboardFocusClass:i=>this.addOrRemoveCssClass(Rt.AG_KEYBOARD_FOCUS,i),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:i=>{this.getGui().style.userSelect=i??"",this.getGui().style.webkitUserSelect=i??""},setCursor:i=>{this.getGui().style.cursor=i??""}};this.ctrl=this.createManagedBean(new xa);const t=this.createTemplate();this.setTemplate(t),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:i=>this.ctrl.focusInnerElement(i)})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,t){const i=this.eRootWrapperBody.classList;i.toggle(Ft.AUTO_HEIGHT,t.autoHeight),i.toggle(Ft.NORMAL,t.normal),i.toggle(Ft.PRINT,t.print),this.addOrRemoveCssClass(Ft.AUTO_HEIGHT,t.autoHeight),this.addOrRemoveCssClass(Ft.NORMAL,t.normal),this.addOrRemoveCssClass(Ft.PRINT,t.print)}createTemplate(){return`<div class="ag-root-wrapper" role="presentation">\n                ${this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ${this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':""}\n                <ag-pagination></ag-pagination>\n                ${this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(t=>Tr(t))}}d3([C("loggerFactory")],T2.prototype,"loggerFactory",void 0),d3([W("gridBody")],T2.prototype,"gridBodyComp",void 0),d3([W("sideBar")],T2.prototype,"sideBarComp",void 0),d3([W("rootWrapperBody")],T2.prototype,"eRootWrapperBody",void 0),d3([B],T2.prototype,"postConstruct",null);var wd,hA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let h3=wd=class extends V{progressSort(e,t,i){const s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}setSortForColumn(e,t,i,s){"asc"!==t&&"desc"!==t&&(t=null);let o=[e];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e.getColDef().showRowGroup){const c=this.columnModel.getSourceColumnsForGroupColumn(e),l=c?.filter(u=>u.getColDef().sortable);l&&(o=[e,...l])}o.forEach(c=>c.setSort(t,s)),(i||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(o,s),this.updateSortIndex(e),this.dispatchSortChangedEvents(s)}updateSortIndex(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),s=t&&i||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(c=>c.setSortIndex(null));const o=r.filter(c=>c!==s);(s.getSort()?[...o,s]:o).forEach((c,l)=>c.setSortIndex(l))}onSortChanged(e){this.dispatchSortChangedEvents(e)}isSortActive(){const t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e){this.eventService.dispatchEvent({type:v.EVENT_SORT_CHANGED,source:e})}clearSortBarTheseColumns(e,t){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(i=>{e.includes(i)||i.setSort(void 0,t)})}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):wd.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort());let o;return o=i<0||i==t.length-1?t[0]:t[i+1],wd.DEFAULT_SORTING_ORDER.indexOf(o)<0?(console.warn("AG Grid: invalid sort type "+o),null):o}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(o=>!!o.getSort());if(this.columnModel.isPivotMode()){const o=this.gridOptionsService.isColumnsSortingCoupledToGroup();e=e.filter(a=>{const c=!!a.getAggFunc(),l=!a.isPrimary(),u=o?this.columnModel.getGroupDisplayColumnForGroup(a.getId()):a.getColDef().showRowGroup;return c||l||u})}const t=this.columnModel.getRowGroupColumns().filter(o=>!!o.getSort()),i=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!t.length;i&&(e=[...new Set(e.map(o=>{var a;return null!==(a=this.columnModel.getGroupDisplayColumnForGroup(o.getId()))&&void 0!==a?a:o}))]);const s={};e.forEach((o,a)=>s[o.getId()]=a),e.sort((o,a)=>{const c=o.getSortIndex(),l=a.getSortIndex();return null!=c&&null!=l?c-l:null==c&&null==l?s[o.getId()]>s[a.getId()]?1:-1:null==l?-1:1});const r=new Map;return e.forEach((o,a)=>r.set(o,a)),i&&t.forEach(o=>{const a=this.columnModel.getGroupDisplayColumnForGroup(o.getId());r.set(o,r.get(a))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,s])=>t-s).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const s=e.getColDef().field?[e,...t]:t,r=s[0].getSort();return s.every(a=>a.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};h3.DEFAULT_SORTING_ORDER=["asc","desc",null],hA([C("columnModel")],h3.prototype,"columnModel",void 0),h3=wd=hA([$("sortController")],h3);let ig=class extends V{setMouseOver(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:v.EVENT_COLUMN_HOVER_CHANGED})}clearMouseOver(){this.selectedColumns=null,this.eventService.dispatchEvent({type:v.EVENT_COLUMN_HOVER_CHANGED})}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};ig=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$("columnHoverService")],ig);var sg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let f3=class extends V{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active}start(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&(this.flush(),this.active=!1)}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(){const e=this.executeNextFuncs;this.executeNextFuncs=[];const t=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==e.length||0!==t.length)&&(window.setTimeout(()=>e.forEach(i=>i()),0),window.setTimeout(()=>t.forEach(i=>i()),300))}};sg([C("ctrlsService")],f3.prototype,"ctrlsService",void 0),sg([B],f3.prototype,"postConstruct",null),f3=sg([$("columnAnimationService")],f3);var rg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let p3=class extends V{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCon=e.centerRowContainerCtrl,this.addManagedListener(this.eventService,v.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon}checkPageSize(){if(this.notActive())return;const e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=this.gridOptionsService.getRowHeightAsNumber(),s=Math.floor(e/i);this.gridOptionsService.set("paginationPageSize",s)};this.isBodyRendered?Ps(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};rg([C("ctrlsService")],p3.prototype,"ctrlsService",void 0),rg([B],p3.prototype,"postConstruct",null),p3=rg([$("paginationAutoPageSizeService")],p3);var fA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Sd=class extends V{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}};fA([B],Sd.prototype,"init",null),Sd=fA([$("valueCache")],Sd);var Md=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let _2=class extends V{init(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,v.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gridOptionsService.is("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const s=this.gridOptionsService.is("aggregateOnlyChangedColumns"),r=new Y7(s,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(o=>{i.push(o)})}this.rowRenderer.refreshCells({rowNodes:i})}};Md([C("rowModel")],_2.prototype,"rowModel",void 0),Md([C("rowRenderer")],_2.prototype,"rowRenderer",void 0),Md([B],_2.prototype,"init",null),_2=Md([$("changeDetectionService")],_2);var pA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Td=class extends V{adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){return class t{refresh(s){return!1}getGui(){return this.eGui}init(s){const r=e(s),o=typeof r;this.eGui="string"!==o&&"number"!==o&&"boolean"!==o?null!=r?r:en("<span></span>"):en("<span>"+r+"</span>")}}}doesImplementIComponent(e){return!!e&&e.prototype&&"getGui"in e.prototype}};pA([C("componentMetadataProvider")],Td.prototype,"componentMetadataProvider",void 0),Td=pA([$("agComponentUtils")],Td);var og=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let g3=class extends V{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}}retrieve(e){return this.componentMetaData[e]}};og([C("agComponentUtils")],g3.prototype,"agComponentUtils",void 0),og([B],g3.prototype,"postConstruct",null),g3=og([$("componentMetadataProvider")],g3);var ag=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const wse={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},mA={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]};let m3=class extends V{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var e;const t=null!==(e=this.getTheme().el)&&void 0!==e?e:this.eGridDiv;this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){this.eventService.dispatchEvent({type:v.EVENT_GRID_STYLES_CHANGED})}getSassVariable(e){const{themeFamily:t,el:i}=this.getTheme();if(t&&0===t.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={}),this.calculatedSizes[t][e]??(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,i),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,i){const s="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),r=wse[s][e],o=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!mA[e])return r;const a=mA[e],c=o.createElement("div"),l=Array.from(i.classList);c.classList.add(t,...l),c.style.position="absolute";const u=a.reduce((f,p)=>{const g=o.createElement("div");return g.style.position="static",g.classList.add(p),f.appendChild(g),g},c);let d=0;if(o.body){o.body.appendChild(c);const f=-1!==e.toLowerCase().indexOf("height")?"height":"width";d=parseInt(window.getComputedStyle(u)[f],10),o.body.removeChild(c)}return d||r}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let t=this.eGridDiv,i=null,s=[];for(;t;){if(i=e.exec(t.className),i){const o=t.className.match(e);o&&(s=o);break}t=t.parentElement||void 0}if(!i)return{allThemes:s};const r=i[0];return{theme:r,el:t,themeFamily:r.replace(/-dark$/,""),allThemes:s}}getFromTheme(e,t){var i;return null!==(i=this.getSassVariable(t))&&void 0!==i?i:e}getDefaultRowHeight(){return this.getFromTheme(25,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}setRowHeightVariable(e){const i=`${e}px`;this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=i&&this.eGridDiv.style.setProperty("--ag-line-height",i)}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return I(e)?Math.max(e,10):10}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};ag([C("eGridDiv")],m3.prototype,"eGridDiv",void 0),ag([B],m3.prototype,"postConstruct",null),m3=ag([$("environment")],m3);var _d=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let D2=class extends V{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,v.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=$_(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:v.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)}};_d([C("ctrlsService")],D2.prototype,"ctrlsService",void 0),_d([function(n,e){return function(t,i){e(t,i,0)}}(0,Tn("loggerFactory"))],D2.prototype,"agWire",null),_d([B],D2.prototype,"postConstruct",null),D2=_d([$("rowContainerHeightService")],D2);var CA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Dd=class extends V{init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")}updateSelectableAfterGrouping(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,i=>i.childrenAfterGroup)}recurseDown(e,t){e&&e.forEach(i=>{if(!i.group)return;let s;i.hasChildren()&&this.recurseDown(t(i),t),s=this.groupSelectsChildren?I((t(i)||[]).find(o=>!0===o.selectable)):!!this.isRowSelectableFunc&&this.isRowSelectableFunc(i),i.setRowSelectable(s)})}};CA([B],Dd.prototype,"init",null),Dd=CA([$("selectableService")],Dd);var ji=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class bi extends me{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:t,btPrevious:i,btNext:s,btLast:r}=this;this.activateTabIndex([t,i,s,r]),t.insertAdjacentElement("afterbegin",At(e?"last":"first",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",At(e?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",At(e?"previous":"next",this.gridOptionsService)),r.insertAdjacentElement("afterbegin",At(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()}onPaginationChanged(){const t=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListener(t,"click",i),this.addManagedListener(t,"keydown",s=>{(s.key===H.ENTER||s.key===H.SPACE)&&(s.preventDefault(),i())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?t+1:0)}formatNumber(e){const t=this.gridOptionsService.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc();return Kp(e,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),s=e("of","of"),r=e("firstPage","First Page"),o=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),c=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-${l}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-to">${i}</span>\n                    <span id="ag-${l}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-of">${s}</span>\n                    <span id="ag-${l}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-${l}-start-page">${t}</span>\n                        <span id="ag-${l}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${l}-of-page">${s}</span>\n                        <span id="ag-${l}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${c}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay();this.nextButtonDisabled=t&&e===i-1||s,this.lastButtonDisabled=!t||s||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){xp(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let r,o;if(this.isZeroPagesToDisplay()?r=o=0:(r=t*e+1,o=r+t-1,i&&o>s&&(o=s)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(r),this.rowNodeBlockLoader.isLoading()){const a=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=a("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(o)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(1===i){const s=this.paginationProxy.getRow(0);if(s&&s.group&&!s.groupData&&!s.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(i);else{const s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}}setTotalLabelsToZero(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)}}ji([C("paginationProxy")],bi.prototype,"paginationProxy",void 0),ji([C("rowNodeBlockLoader")],bi.prototype,"rowNodeBlockLoader",void 0),ji([W("btFirst")],bi.prototype,"btFirst",void 0),ji([W("btPrevious")],bi.prototype,"btPrevious",void 0),ji([W("btNext")],bi.prototype,"btNext",void 0),ji([W("btLast")],bi.prototype,"btLast",void 0),ji([W("lbRecordCount")],bi.prototype,"lbRecordCount",void 0),ji([W("lbFirstRowOnPage")],bi.prototype,"lbFirstRowOnPage",void 0),ji([W("lbLastRowOnPage")],bi.prototype,"lbLastRowOnPage",void 0),ji([W("lbCurrent")],bi.prototype,"lbCurrent",void 0),ji([W("lbTotal")],bi.prototype,"lbTotal",void 0),ji([B],bi.prototype,"postConstruct",null);var A2=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},C3=function(n){return n[n.Loading=0]="Loading",n[n.NoRows=1]="NoRows",n}(C3||{});let Ia=(()=>{class n extends me{constructor(){super(n.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1,this.manuallyDisplayed=!1}updateLayoutClasses(t,i){const s=this.eOverlayWrapper.classList;s.toggle(Ft.AUTO_HEIGHT,i.autoHeight),s.toggle(Ft.NORMAL,i.normal),s.toggle(Ft.PRINT,i.print)}postConstruct(){this.createManagedBean(new Z0(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,v.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)}setWrapperTypeClass(t){const i=this.eOverlayWrapper.classList;i.toggle("ag-overlay-loading-wrapper",t===C3.Loading),i.toggle("ag-overlay-no-rows-wrapper",t===C3.NoRows)}showLoadingOverlay(){if(this.gridOptionsService.is("suppressLoadingOverlay"))return;const s=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(s,C3.Loading)}showNoRowsOverlay(){if(this.gridOptionsService.is("suppressNoRowsOverlay"))return;const s=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(s,C3.NoRows)}showOverlay(t,i){this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(s=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),hi(this.eOverlayWrapper))}hideOverlay(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}showOrHideOverlay(){const t=this.paginationProxy.isEmpty(),i=this.gridOptionsService.is("suppressNoRowsOverlay");t&&!i?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}}return n.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',n})();A2([C("userComponentFactory")],Ia.prototype,"userComponentFactory",void 0),A2([C("paginationProxy")],Ia.prototype,"paginationProxy",void 0),A2([C("gridApi")],Ia.prototype,"gridApi",void 0),A2([C("columnModel")],Ia.prototype,"columnModel",void 0),A2([W("eOverlayWrapper")],Ia.prototype,"eOverlayWrapper",void 0),A2([B],Ia.prototype,"postConstruct",null);var Ad=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let R2=class extends V{getFirstRow(){let t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),s=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):s&&(t="top",e=s-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(I(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}rowMax(e){let t;return e.forEach(i=>{(void 0===t||this.before(t,i))&&(t=i)}),t}rowMin(e){let t;return e.forEach(i=>{(void 0===t||this.before(i,t))&&(t=i)}),t}};Ad([C("rowModel")],R2.prototype,"rowModel",void 0),Ad([C("pinnedRowModel")],R2.prototype,"pinnedRowModel",void 0),Ad([C("paginationProxy")],R2.prototype,"paginationProxy",void 0),R2=Ad([$("rowPositionUtils")],R2);let dg=class extends V{createId(e){const{rowIndex:t,rowPinned:i,column:s}=e;return this.createIdFromValues({rowIndex:t,column:s,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:s}=e;return`${t}.${i??"null"}.${s.getId()}`}equals(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex}};dg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$("cellPositionUtils")],dg);class v3{constructor(e){this.cellValueChanges=e}}class hg extends v3{constructor(e,t,i,s){super(e),this.initialRange=t,this.finalRange=i,this.ranges=s}}let vA=(()=>{class n{constructor(t){this.actionStack=[],this.maxStackSize=t||n.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}}return n.DEFAULT_STACK_SIZE=10,n})();var qs=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let $i=class extends V{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),s=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||s||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:a,column:c,oldValue:l,value:u}=e,d={rowPinned:o,rowIndex:a,columnId:c.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.is("undoRedoCellEditing"))return;const e=this.gridOptionsService.getNum("undoRedoCellEditingLimit");e<=0||(this.undoStack=new vA(e),this.redoStack=new vA(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,v.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,t=>{t.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:v.EVENT_UNDO_STARTED,source:e});const i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:v.EVENT_UNDO_ENDED,source:e,operationPerformed:i})}redo(e){this.eventService.dispatchEvent({type:v.EVENT_REDO_STARTED,source:e});const i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:v.EVENT_REDO_ENDED,source:e,operationPerformed:i})}undoRedo(e,t,i,s,r){if(!e)return!1;const o=e.pop();return!(!o||!o.cellValueChanges||(this.processAction(o,a=>a[s],r),o instanceof hg?this.processRange(o.ranges||[o[i]]):this.processCell(o.cellValueChanges),t.push(o),0))}processAction(e,t,i){e.cellValueChanges.forEach(s=>{const{rowIndex:r,rowPinned:o,columnId:a}=s,l=this.getRowNode({rowIndex:r,rowPinned:o});l.displayed&&l.setDataValue(a,t(s),i)})}processRange(e){let t;this.rangeService.removeAllCellRanges(!0),e.forEach((i,s)=>{if(!i)return;const r=i.startRow,o=i.endRow;s===e.length-1&&(t={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t)),this.rangeService.addCellRange({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns})})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:s}=t,o=this.getRowNode({rowIndex:i,rowPinned:s});this.setLastFocusedCell({rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId},!!this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:s,rowPinned:r}=e,o=this.gridBodyCtrl.getScrollFeature(),a=this.columnModel.getGridColumn(s);if(!a)return;o.ensureIndexVisible(i),o.ensureColumnVisible(a);const c={rowIndex:i,column:a,rowPinned:r};this.focusService.setFocusedCell(Object.assign(Object.assign({},c),{forceBrowserFocus:!0})),t&&this.rangeService.setRangeToCell(c)}addRowEditingListeners(){this.addManagedListener(this.eventService,v.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,v.EVENT_ROW_EDITING_STOPPED,()=>{const e=new v3(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,v.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,v.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new v3(this.cellValueChanges);this.pushActionsToUndoStack(i)}})}addPasteListeners(){this.addManagedListener(this.eventService,v.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,v.EVENT_PASTE_END,()=>{const e=new v3(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,v.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,v.EVENT_FILL_END,e=>{const t=new hg(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;e=this.rangeService&&this.gridOptionsService.isEnableRangeSelection()?new hg(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new v3(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}};qs([C("focusService")],$i.prototype,"focusService",void 0),qs([C("ctrlsService")],$i.prototype,"ctrlsService",void 0),qs([C("rowModel")],$i.prototype,"rowModel",void 0),qs([C("pinnedRowModel")],$i.prototype,"pinnedRowModel",void 0),qs([C("cellPositionUtils")],$i.prototype,"cellPositionUtils",void 0),qs([C("rowPositionUtils")],$i.prototype,"rowPositionUtils",void 0),qs([C("columnModel")],$i.prototype,"columnModel",void 0),qs([Pe("rangeService")],$i.prototype,"rangeService",void 0),qs([B],$i.prototype,"init",null),$i=qs([$("undoRedoService")],$i);var fg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let E3=class extends V{findHeader(e,t){let i,s,r;if(e.column instanceof _n?(s=`getDisplayedGroup${t}`,i=this.columnModel[s](e.column)):(r=`getDisplayedCol${t}`,i=this.columnModel[r](e.column)),!i)return;let{headerRowIndex:o}=e;if(this.getHeaderRowType(o)===gn.COLUMN_GROUP){const c=i;if(c.isPadding()&&this.isAnyChildSpanningHeaderHeight(c)){const{nextFocusColumn:l,nextRow:u}=this.getColumnVisibleChild(c,o,t);l&&(i=l,o=u)}}return{column:i,headerRowIndex:o}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some(t=>t.isSpanHeaderHeight())}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),r=i===gn.COLUMN;let o=i===gn.FLOATING_FILTER?e:e.getParent(),a=t-1;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;o&&o.isPadding();)o=o.getParent(),a--;a<0&&(o=e,a=t)}return{nextFocusColumn:o,nextRow:a}}getColumnVisibleChild(e,t,i="After"){let r=e,o=t+1;if(this.getHeaderRowType(t)===gn.COLUMN_GROUP){const a=e.getLeafColumns(),c="After"===i?a[0]:qe(a);if(this.isAnyChildSpanningHeaderHeight(c.getParent())){r=c;let l=c.getParent();for(;l&&l!==e;)l=l.getParent(),o++}else r=e.getDisplayedChildren()[0]}return{nextFocusColumn:r,nextRow:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.columnModel.getAllDisplayedColumns(),s=i["start"===t?0:i.length-1];if(!s)return;const o=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getRowType(e);return o==gn.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(s,e)}:{headerRowIndex:null==o?-1:e,column:s}}};fg([C("columnModel")],E3.prototype,"columnModel",void 0),fg([C("ctrlsService")],E3.prototype,"ctrlsService",void 0),E3=fg([$("headerPositionUtils")],E3);let pg=class{buildColumnDefs(e,t,i){const s=[],r={};return e.forEach(o=>{let c=!0,l=this.createDefFromColumn(o,t,i),u=o.getOriginalParent(),d=null;for(;u;){let f=null;if(u.isPadding()){u=u.getOriginalParent();continue}const p=r[u.getGroupId()];if(p){p.children.push(l),c=!1;break}if(f=this.createDefFromGroup(u),f&&(f.children=[l],r[f.groupId]=f,l=f,u=u.getOriginalParent()),null!=u&&d===u){c=!1;break}d=u}c&&s.push(l)}),s}createDefFromGroup(e){const t=T0(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const s=T0(e.getColDef());return s.colId=e.getColId(),s.width=e.getActualWidth(),s.rowGroup=e.isRowGroupActive(),s.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,s.pivot=e.isPivotActive(),s.pivotIndex=e.isPivotActive()?i.indexOf(e):null,s.aggFunc=e.isValueActive()?e.getAggFunc():null,s.hide=!e.isVisible()||void 0,s.pinned=e.isPinned()?e.getPinned():null,s.sort=e.getSort()?e.getSort():null,s.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,s}};pg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$("columnDefFactory")],pg);var gg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let y3=class{getInitialRowClasses(e){const t=[];return I(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Sp(t,this.processClassesFromGridOptions(e.rowNode)),Sp(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=o=>{"string"==typeof o?t.push(o):Array.isArray(o)&&o.forEach(a=>t.push(a))},s=this.gridOptionsService.get("rowClass");if(s){if("function"==typeof s)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(s)}const r=this.gridOptionsService.getCallback("getRowClass");return r&&i(r({data:e.data,node:e,rowIndex:e.rowIndex})),t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},i=>{}),t}processRowClassRules(e,t,i){const s={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),s,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};gg([C("stylingService")],y3.prototype,"stylingService",void 0),gg([C("gridOptionsService")],y3.prototype,"gridOptionsService",void 0),y3=gg([$("rowCssClassCalculator")],y3);var Rd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let L2=class extends V{init(){this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const s=e.map((r,o)=>({currentPos:o,rowNode:r}));return s.sort(this.compareRowNodes.bind(this,t)),s.map(r=>r.rowNode)}compareRowNodes(e,t,i){const s=t.rowNode,r=i.rowNode;for(let o=0,a=e.length;o<a;o++){const c=e[o],l="desc"===c.sort,u=this.getValue(s,c.column),d=this.getValue(r,c.column);let f;const p=this.getComparator(c,s);if(f=p?p(u,d,s,r,l):re.defaultComparator(u,d,this.isAccentedSort),!isNaN(f)&&0!==f)return"asc"===c.sort?f:-1*f}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,s=i.getColDef().comparator;if(null!=s)return s;if(!i.getColDef().showRowGroup)return;const r=!t.group&&i.getColDef().field;if(!r)return;const o=this.columnModel.getPrimaryColumn(r);return o?o.getColDef().comparator:void 0}getValue(e,t){var i,s;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(t.getColDef().keyCreator)return e.key;const l=null===(i=e.allLeafChildren)||void 0===i?void 0:i[0];return l?this.valueService.getValue(t,l,!1,!1):void 0}const a=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return a?null===(s=e.groupData)||void 0===s?void 0:s[a.getId()]:void 0}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}};var mg;Rd([C("valueService")],L2.prototype,"valueService",void 0),Rd([C("columnModel")],L2.prototype,"columnModel",void 0),Rd([B],L2.prototype,"init",null),L2=Rd([$("rowNodeSorter")],L2);let Ld=mg=class extends V{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){const e=this.createReadyParams();this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0}}whenReady(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(e){this.fakeHScrollComp=e,this.checkReady()}registerFakeVScrollComp(e){this.fakeVScrollComp=e,this.checkReady()}registerGridHeaderCtrl(e){this.gridHeaderCtrl=e,this.checkReady()}registerCenterRowContainerCtrl(e){this.centerRowContainerCtrl=e,this.checkReady()}registerLeftRowContainerCtrl(e){this.leftRowContainerCtrl=e,this.checkReady()}registerRightRowContainerCtrl(e){this.rightRowContainerCtrl=e,this.checkReady()}registerTopCenterRowContainerCtrl(e){this.topCenterRowContainerCtrl=e,this.checkReady()}registerTopLeftRowContainerCon(e){this.topLeftRowContainerCtrl=e,this.checkReady()}registerTopRightRowContainerCtrl(e){this.topRightRowContainerCtrl=e,this.checkReady()}registerStickyTopCenterRowContainerCtrl(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()}registerStickyTopLeftRowContainerCon(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()}registerStickyTopRightRowContainerCtrl(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()}registerBottomCenterRowContainerCtrl(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()}registerBottomLeftRowContainerCtrl(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()}registerBottomRightRowContainerCtrl(e){this.bottomRightRowContainerCtrl=e,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e}this.checkReady()}registerGridBodyCtrl(e){this.gridBodyCtrl=e,this.checkReady()}registerGridCtrl(e){this.gridCtrl=e,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};Ld.NAME="ctrlsService",Ld=mg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$(mg.NAME)],Ld);let Cg=class extends V{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const t=this.registry[e];if(null!=t)return new t}};Cg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$("ctrlsFactory")],Cg);var b3=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Oa extends me{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",qp()||ao())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=n2(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const i=this.getGui();["mouseenter","mousedown","touchstart"].forEach(s=>this.addManagedListener(i,s,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),["mouseleave","touchend"].forEach(s=>this.addManagedListener(i,s,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){const t=this.getViewport();yp(()=>Tr(t),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}}b3([W("eViewport")],Oa.prototype,"eViewport",void 0),b3([W("eContainer")],Oa.prototype,"eContainer",void 0),b3([C("scrollVisibleService")],Oa.prototype,"scrollVisibleService",void 0),b3([C("ctrlsService")],Oa.prototype,"ctrlsService",void 0),b3([C("animationFrameService")],Oa.prototype,"animationFrameService",void 0);var w3=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let N2=(()=>{class n extends Oa{constructor(){super(n.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,v.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",t),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new f2(i=>this.eContainer.style.width=`${i}px`))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const t=this.scrollVisibleService.isVerticalScrollShowing();let i=this.columnModel.getDisplayedColumnsRightWidth();const s=!this.enableRtl&&t,r=this.gridOptionsService.getScrollbarWidth();s&&(i+=r),Gi(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=r);let o=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(o+=r),Gi(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=r)}setScrollVisible(){const t=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,s=this.gridOptionsService.is("suppressHorizontalScroll"),r=t&&this.gridOptionsService.getScrollbarWidth()||0,a=s?0:0===r&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),ha(this.getGui(),a),ha(this.eViewport,a),ha(this.eContainer,a),this.setDisplayed(t,{skipAriaHidden:!0})}getScrollPosition(){return gl(this.getViewport(),this.enableRtl)}setScrollPosition(t){Tr(this.getViewport())||this.attemptSettingScrollPosition(t),ml(this.getViewport(),t,this.enableRtl)}}return n.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',n})();w3([W("eLeftSpacer")],N2.prototype,"eLeftSpacer",void 0),w3([W("eRightSpacer")],N2.prototype,"eRightSpacer",void 0),w3([C("columnModel")],N2.prototype,"columnModel",void 0),w3([C("pinnedRowModel")],N2.prototype,"pinnedRowModel",void 0),w3([B],N2.prototype,"postConstruct",null);var vg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let S3=class extends V{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gridOptionsService.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:v.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:v.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};vg([C("columnModel")],S3.prototype,"columnModel",void 0),vg([B],S3.prototype,"postConstruct",null),S3=vg([$("pinnedWidthService")],S3);var Nd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let H2=class extends V{constructor(){super(...arguments),this.events=[]}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e){null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(i=>this.eventService.dispatchEvent(i)),this.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)}};Nd([C("animationFrameService")],H2.prototype,"animationFrameService",void 0),Nd([C("rowModel")],H2.prototype,"rowModel",void 0),Nd([B],H2.prototype,"postConstruct",null),H2=Nd([$("rowNodeEventThrottle")],H2);var bo=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},EA=function(n,e){return function(t,i){e(t,i,n)}};function yA(n){return!0===n||"true"===n}let Ks=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new as}get context(){return this.gridOptions.context}agWire(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.api=e,this.columnApi=t}init(){this.gridOptionLookup=new Set([...Te.ALL_PROPERTIES,...Te.EVENT_CALLBACKS]);const e=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),e),this.getScrollbarWidth()}destroy(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0}is(e){return yA(this.gridOptions[e])}get(e){return this.gridOptions[e]}getNum(e){return function Ase(n){return"number"==typeof n?n:"string"==typeof n?parseInt(n,10):void 0}(this.gridOptions[e])}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return I(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>{const s=i;return s.api=this.api,s.columnApi=this.columnApi,s.context=this.context,e(s)})}set(e,t,i=!1,s={}){if(this.gridOptionLookup.has(e)){const r=this.gridOptions[e];if(i||r!==t){this.gridOptions[e]=t;const o=Object.assign({type:e,currentValue:t,previousValue:r},s);this.propertyEventService.dispatchEvent(o)}}}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}globalEventHandler(e,t){if(this.destroyed)return;const i=Te.getCallbackForEvent(e);"function"==typeof this.gridOptions[i]&&this.gridOptions[i](t)}getGridId(){return this.api.getGridId()}getScrollbarWidth(){if(null==this.scrollbarWidth){const t="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Y_();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:v.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&ne(this.gridOptions.rowModelType)}isDomLayout(e){var t;return(null!==(t=this.gridOptions.domLayout)&&void 0!==t?t:"normal")===e}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.is("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(e,t=!1,i){if(null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:i,estimated:!0};const r={node:e,data:e.data},o=this.getCallback("getRowHeight")(r);if(this.isNumeric(o))return 0===o&&Le(()=>console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),"invalidRowHeight"),{height:Math.max(1,o),estimated:!1}}return e.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||ne(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.environment.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const i=e[this.getDomDataKey()];return i?i[t]:void 0}setDomData(e,t,i){const s=this.getDomDataKey();let r=e[s];ne(r)&&(r={},e[s]=r),r[t]=i}getDocument(){let e=null;return this.gridOptions.getDocument&&I(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&I(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return I(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.is("ensureDomOrder")&&this.is("animateRows")}isGroupRowsSticky(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))}isTreeData(){return this.is("treeData")&&ie.__assertRegistered(K.RowGroupingModule,"Tree Data",this.api.getGridId())}isMasterDetail(){return this.is("masterDetail")&&ie.__assertRegistered(K.MasterDetailModule,"masterDetail",this.api.getGridId())}isEnableRangeSelection(){return this.is("enableRangeSelection")&&ie.__isRegistered(K.RangeSelectionModule,this.api.getGridId())}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!e?.comparator&&!this.isTreeData()}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.getCallback("groupAggFiltering"):yA(e)?()=>!0:void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?Ap("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")}isGroupUseEntireRow(e){return!e&&!!this.gridOptions.groupDisplayType&&Ap("groupRows",this.gridOptions.groupDisplayType)}};bo([C("gridOptions")],Ks.prototype,"gridOptions",void 0),bo([C("eventService")],Ks.prototype,"eventService",void 0),bo([C("environment")],Ks.prototype,"environment",void 0),bo([C("eGridDiv")],Ks.prototype,"eGridDiv",void 0),bo([EA(0,Tn("gridApi")),EA(1,Tn("columnApi"))],Ks.prototype,"agWire",null),bo([B],Ks.prototype,"init",null),bo([Wt],Ks.prototype,"destroy",null),Ks=bo([$("gridOptionsService")],Ks);let Eg=class extends V{getLocaleTextFunc(){const e=this.gridOptionsService.getCallback("getLocaleText");if(e)return(i,s,r)=>e({key:i,defaultValue:s,variableValues:r});const t=this.gridOptionsService.get("localeText");return(i,s,r)=>{let o=t&&t[i];if(o&&r&&r.length){let a=0;for(;!(a>=r.length||-1===o.indexOf("${variable}"));)o=o.replace("${variable}",r[a++])}return o??s}}};Eg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([$("localeService")],Eg);let bA=(()=>{class n extends Oa{constructor(){super(n.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new ed(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const t=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,s=t&&this.gridOptionsService.getScrollbarWidth()||0,r=0===s&&i?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Gi(this.getGui(),r),Gi(this.eViewport,r),Gi(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const i=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=i.scrollTop&&(this.eViewport.scrollTop=i.scrollTop)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(t){Tr(this.getViewport())||this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t}}return n.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([B],bA.prototype,"postConstruct",null);var Va=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const wA={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},SA=["january","february","march","april","may","june","july","august","september","october","november","december"];let Hr=class extends V{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",()=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs("gridOptionsChanged")})}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach(([s,r])=>{this.dataTypeDefinitions[s]=Object.assign(Object.assign({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})});const i=null!==(e=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==e?e:{};this.dataTypeMatchers={},Object.entries(i).forEach(([s,r])=>{const o=this.processDataTypeDefinition(r,i,[s],t);o&&(this.dataTypeDefinitions[s]=o,r.dataTypeMatcher&&(this.dataTypeMatchers[s]=r.dataTypeMatcher))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(s=>{const r=this.dataTypeMatchers[s];r&&delete this.dataTypeMatchers[s],this.dataTypeMatchers[s]=r??t[s].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i=Object.assign(Object.assign({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,s){let r;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){const a=s[o];if(!this.validateDataTypeDefinition(e,a,o))return;r=this.mergeDataTypeDefinitions(a,e)}else{if(i.includes(o))return void Le(()=>console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.'),"dataTypeExtendsCircularRef");const a=t[o];if(!this.validateDataTypeDefinition(e,a,o))return;const c=this.processDataTypeDefinition(a,t,[...i,o],s);if(!c)return;r=this.mergeDataTypeDefinitions(c,e)}return Object.assign(Object.assign({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})}validateDataTypeDefinition(e,t,i){return t?t.baseDataType===e.baseDataType||(Le(()=>console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.'),"dataTypeBaseTypesMatch"),!1):(Le(()=>console.warn(`AG Grid: The data type definition ${i} does not exist.`),"dataTypeDefMissing"+i),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,s;if(null===(i=t.node)||void 0===i||!i.group)return this.groupHideOpenParents&&t.column.isRowGroupActive()?"string"!=typeof t.value||null!==(s=e.dataTypeMatcher)&&void 0!==s&&s.call(e,t.value)?e.valueFormatter(t):void 0:e.valueFormatter(t);{const r=t.column.getAggFunc();if(r){if("first"===r||"last"===r)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==r){if("number"==typeof t.value)return e.valueFormatter(t);if("object"==typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(Object.assign(Object.assign({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(Object.assign(Object.assign({},t),{value:t.value.value}))}}}}}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,i){let{cellDataType:s}=t;const{field:r}=t;if(void 0===s&&(s=e.cellDataType),(null==s||!0===s)&&(s=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(r,i)),!s)return void(e.cellDataType=!1);const o=this.dataTypeDefinitions[s];if(o)return e.cellDataType=s,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,o,i),o.columnTypes;Le(()=>console.warn(`AG Grid: Missing data type definition - "${s}"`),"dataTypeMissing"+s)}updateColDefAndGetColumnType(e,t,i){var s,r;const o=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,i),a=null!==(r=null!==(s=t.type)&&void 0!==s?s:o)&&void 0!==r?r:e.type;return e.type=a,a?this.convertColumnTypes(a):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=s=>{t.add(s.key)};e.addEventListener(Fe.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(Fe.EVENT_STATE_UPDATED,i))}canInferCellDataType(e,t){var i;if("clientSide"!==this.rowModel.getType())return!1;const s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,s))return!1;const r=null===t.type?e.type:t.type;if(r){const o=null!==(i=this.gridOptionsService.get("columnTypes"))&&void 0!==i?i:{};if(this.convertColumnTypes(r).some(c=>{const l=o[c.trim()];return l&&this.doColDefPropsPreventInference(l,s)}))return!1}return!this.doColDefPropsPreventInference(e,s)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>this.doesColDefPropPreventInference(e,t,i,s))}doesColDefPropPreventInference(e,t,i,s){if(!t[i])return!1;const r=e[i];return null===r?(t[i]=!1,!1):void 0===s?!!r:r===s}inferCellDataType(e,t){var i;if(!e)return;let s;const r=this.getInitialData();if(r){const a=e.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");s=X1(r,e,a)}else this.initWaitForRowData(t);if(null==s)return;const[o]=null!==(i=Object.entries(this.dataTypeMatchers).find(([a,c])=>c(s)))&&void 0!==i?i:["object"];return o}getInitialData(){const e=this.gridOptionsService.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const i=this.addManagedListener(this.eventService,v.EVENT_ROW_DATA_UPDATE_STARTED,s=>{const{firstRowData:r}=s;r&&(i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations())})}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.columnStateUpdateListenerDestroyFuncs.forEach(o=>o()),this.columnStateUpdateListenerDestroyFuncs=[];const s={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([o,a])=>{const c=this.columnModel.getGridColumn(o);if(!c)return;const l=c.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(c))return;const u=c.getColDef();if(t&&u.type&&u.type!==l.type){const d=this.getUpdatedColumnState(c,a);d.rowGroup&&null==d.rowGroupIndex&&(s[o]=d),d.pivot&&null==d.pivotIndex&&(r[o]=d),i.push(d)}}),t&&i.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,r)),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnModel.getColumnStateFromColDef(e);return t.forEach(s=>{delete i[s],"rowGroup"===s?delete i.rowGroupIndex:"pivot"===s&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}convertColumnTypes(e){let t=[];return e instanceof Array?e.some(s=>"string"!=typeof s)?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):t=e:"string"==typeof e?t=e.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'"),t}getDateStringTypeDefinition(){return this.dataTypeDefinitions.dateString}getDateParserFunction(){return this.getDateStringTypeDefinition().dateParser}getDateFormatterFunction(){return this.getDateStringTypeDefinition().dateFormatter}checkType(e,t){var i;const s=e.getColDef();if(!s.cellDataType||null==t)return!0;const r=null===(i=this.dataTypeDefinitions[s.cellDataType])||void 0===i?void 0:i.dataTypeMatcher;return!r||r(t)}validateColDef(e){"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Le(()=>console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),"dataTypeObjectValueFormatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Le(()=>console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'),"dataTypeObjectValueParser"))}setColDefPropertiesForBaseDataType(e,t,i){const s=(c,l,u)=>{let d=c.getColDef().valueFormatter;return d===t.groupSafeValueFormatter&&(d=t.valueFormatter),this.valueFormatterService.formatValue(c,l,u,d)},r=ie.__isRegistered(K.SetFilterModule,this.context.getGridId()),o=this.localeService.getLocaleTextFunc(),a=c=>{const{filterParams:l}=e;e.filterParams="object"==typeof l?Object.assign(Object.assign({},l),c):c};switch(e.useValueFormatterForExport=!0,e.useValueParserForImport=!0,t.baseDataType){case"number":e.cellEditor="agNumberCellEditor",r&&a({comparator:(c,l)=>{const u=null==c?0:parseInt(c),d=null==l?0:parseInt(l);return u===d?0:u>d?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=c=>!!c.colDef.editable&&c.event.key===H.SPACE,a(r?{valueFormatter:c=>I(c.value)?o(String(c.value),c.value?"True":"False"):o("blanks","(Blanks)")}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(c,l)=>l,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(c,l)=>!1===l,numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=c=>s(c.column,c.node,c.value),r&&a({valueFormatter:c=>{const l=s(c.column,c.node,c.value);return I(l)?l:o("blanks","(Blanks)")},treeList:!0,treeListFormatter:(c,l)=>{if(1===l&&null!=c){const u=SA[Number(c)-1];return o(u,wA[u])}return c??o("blanks","(Blanks)")}});break;case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=l=>s(l.column,l.node,l.value);const c=this.getDateParserFunction();a(r?{valueFormatter:l=>{const u=s(l.column,l.node,l.value);return I(u)?u:o("blanks","(Blanks)")},treeList:!0,treeListPathGetter:l=>{const u=c(l??void 0);return u?[String(u.getFullYear()),String(u.getMonth()+1),String(u.getDate())]:null},treeListFormatter:(l,u)=>{if(1===u&&null!=l){const d=SA[Number(l)-1];return o(d,wA[d])}return l??o("blanks","(Blanks)")}}:{comparator:(l,u)=>{const d=c(u);return null==u||d<l?-1:d>l?1:0}});break}case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(c,l)=>{const u=this.columnModel.getPrimaryColumn(i),d=u?.getColDef();if(!u||!d)return 0;const f=null==c?"":s(u,null,c),p=null==l?"":s(u,null,l);return f===p?0:f>p?1:-1},e.keyCreator=c=>s(c.column,c.node,c.value),r?a({valueFormatter:c=>{const l=s(c.column,c.node,c.value);return I(l)?l:o("blanks","(Blanks)")}}):e.filterValueGetter=c=>s(c.column,c.node,this.valueService.getValue(c.column,c.node))}}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>""===i.newValue?null:Number(i.newValue),valueFormatter:i=>null==i.value?"":"number"!=typeof i.value||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>"number"==typeof i},text:{baseDataType:"text",valueParser:i=>""===i.newValue?null:ul(i.newValue),dataTypeMatcher:i=>"string"==typeof i},boolean:{baseDataType:"boolean",valueParser:i=>""===i.newValue?null:"true"===String(i.newValue).toLowerCase(),valueFormatter:i=>null==i.value?"":String(i.value),dataTypeMatcher:i=>"boolean"==typeof i},date:{baseDataType:"date",valueParser:i=>ls(null==i.newValue?null:String(i.newValue)),valueFormatter:i=>{var s;return null==i.value?"":i.value instanceof Date&&!isNaN(i.value.getTime())?null!==(s=ki(i.value,!1))&&void 0!==s?s:"":t("invalidDate","Invalid Date")},dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>{var s;return null!==(s=ls(i))&&void 0!==s?s:void 0},dateFormatter:i=>{var s;return null!==(s=ki(i??null,!1))&&void 0!==s?s:void 0},valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>"string"==typeof i&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>{var s;return null!==(s=ul(i.value))&&void 0!==s?s:""}}}}};Va([C("rowModel")],Hr.prototype,"rowModel",void 0),Va([C("columnModel")],Hr.prototype,"columnModel",void 0),Va([C("columnUtils")],Hr.prototype,"columnUtils",void 0),Va([C("valueService")],Hr.prototype,"valueService",void 0),Va([C("valueFormatterService")],Hr.prototype,"valueFormatterService",void 0),Va([B],Hr.prototype,"init",null),Hr=Va([$("dataTypeService")],Hr);var MA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Hd=class extends V{parseValue(e,t,i,s){const r=e.getColDef(),o={node:t,data:t?.data,oldValue:s,newValue:i,colDef:r,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},a=r.valueParser;return I(a)?"function"==typeof a?a(o):this.expressionService.evaluate(a,o):i}};MA([C("expressionService")],Hd.prototype,"expressionService",void 0),Hd=MA([$("valueParserService")],Hd);class Nse{constructor(e,t,i){t?(this.gridOptions=t,(new xse).create(e,t,s=>{const r=new T2(e);s.createBean(r)},void 0,i)):console.error("AG Grid: no gridOptions provided to the grid")}destroy(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()}}let Hse=1;class xse{create(e,t,i,s,r){var o;const a=!!t.debug,c=null!==(o=t.gridId)&&void 0!==o?o:String(Hse++),l=this.getRegisteredModules(r,c),u=this.createBeansList(t.rowModelType,l,c),d=this.createProvidedBeans(e,t,r);if(!u)return;const f={providedBeanInstances:d,beanClasses:u,debug:a,gridId:c},p=new ng("AG Grid",()=>t.debug),g=new ng("Context",()=>f.debug),m=new ute(f,g),y=m.getBean("beans");this.registerModuleUserComponents(y,l),this.registerStackComponents(y,l),this.registerControllers(y,l),i(m),y.ctrlsService.whenReady(()=>{this.setColumnsAndData(y),this.dispatchGridReadyEvent(y);const M=ie.__isRegistered(K.EnterpriseCoreModule,c);p.log(`initialised successfully, enterprise = ${M}`)}),s&&s(m)}registerControllers(e,t){t.forEach(i=>{i.controllers&&i.controllers.forEach(s=>e.ctrlsFactory.register(s))})}registerStackComponents(e,t){const i=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(i)}getRegisteredModules(e,t){const i=e?e.modules:null,s=ie.__getRegisteredModules(t),r=[],o={},a=(c,l,u)=>{var f;o[(f=l).moduleName]||(o[f.moduleName]=!0,r.push(f),ie.__register(f,c,u)),l.dependantModules&&l.dependantModules.forEach(f=>a(c,f,u))};return i&&i.forEach(c=>a(!0,c,t)),s&&s.forEach(c=>a(!ie.__isPackageBased(),c,void 0)),r}registerModuleUserComponents(e,t){this.extractModuleEntity(t,s=>s.userComponents?s.userComponents:[]).forEach(s=>{e.userComponentRegistry.registerDefaultComponent(s.componentName,s.componentClass)})}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;ne(s)&&(s=new lA);const r={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createAgStackComponentsList(e){let t=[{componentName:"AgCheckbox",componentClass:uo},{componentName:"AgRadioButton",componentClass:CD},{componentName:"AgToggleButton",componentClass:sse},{componentName:"AgInputTextField",componentClass:fa},{componentName:"AgInputTextArea",componentClass:rse},{componentName:"AgInputNumberField",componentClass:y7},{componentName:"AgInputDateField",componentClass:ose},{componentName:"AgInputRange",componentClass:ase},{componentName:"AgSelect",componentClass:wl},{componentName:"AgSlider",componentClass:s3},{componentName:"AgGridBody",componentClass:hs},{componentName:"AgHeaderRoot",componentClass:nA},{componentName:"AgSortIndicator",componentClass:Us},{componentName:"AgPagination",componentClass:bi},{componentName:"AgOverlayWrapper",componentClass:Ia},{componentName:"AgGroupComponent",componentClass:Nr},{componentName:"AgPanel",componentClass:Ra},{componentName:"AgDialog",componentClass:cA},{componentName:"AgRowContainer",componentClass:wa},{componentName:"AgFakeHorizontalScroll",componentClass:N2},{componentName:"AgFakeVerticalScroll",componentClass:bA}];const i=this.extractModuleEntity(e,s=>s.agStackComponents?s.agStackComponents:[]);return t=t.concat(i),t}createBeansList(e="clientSide",t,i){const s=t.filter(l=>!l.rowModel||l.rowModel===e),r={clientSide:K.ClientSideRowModelModule,infinite:K.InfiniteRowModelModule,serverSide:K.ServerSideRowModelModule,viewport:K.ViewportRowModelModule};if(!r[e])return void console.error("AG Grid: could not find row model for rowModelType = "+e);if(!ie.__assertRegistered(r[e],`rowModelType = '${e}'`,i))return;const o=[ce,R2,dg,E3,p3,Re,Ll,Td,g3,q7,ho,D2,Xl,Eg,e2,t3,Nl,Lp,as,Ks,vo,Ha,Ws,Vt,Ma,n3,yi,yd,Z1,tg,Na,pn,Sd,yo,bd,Rp,_a,Ta,He,u3,Rt,p2,m3,Eo,pd,Cd,Pl,h3,ig,f3,Dd,hl,_2,b2,$i,Np,pg,y3,mo,L2,Ld,S3,H2,Cg,Hr,Hd],a=this.extractModuleEntity(s,l=>l.beans?l.beans:[]);o.push(...a);const c=[];return o.forEach(l=>{c.indexOf(l)<0&&c.push(l)}),c}extractModuleEntity(e,t){return[].concat(...e.map(t))}setColumnsAndData(e){const t=e.gridOptionsService.get("columnDefs");e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()}dispatchGridReadyEvent(e){e.eventService.dispatchEvent({type:v.EVENT_GRID_READY})}}class Ise{wrap(e,t,i=[],s){const r=this.createWrapper(e,s);return t.forEach(o=>{this.createMethod(r,o,!0)}),i.forEach(o=>{this.createMethod(r,o,!1)}),r}unwrap(e){return e}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}}const x2=typeof global>"u"?{}:global;x2.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,x2.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,x2.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,x2.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,x2.Node=typeof Node>"u"?{}:Node,x2.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;let Vse=(()=>{class n{constructor(t,i,s,r,o,a){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=i,this.eventService=s,this.columnModel=r,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}postConstruct(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()}getCopyOfNodesMap(){return re.cloneObject(this.allNodesMap)}getRowNode(t){return this.allNodesMap[t]}setRowData(t){if("string"==typeof t)return void console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");this.dispatchRowDataUpdateStartedEvent(t);const i=this.rootNode,s=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map(r=>this.createNode(r,this.rootNode,n.TOP_LEVEL)):(i.allLeafChildren=[],i.childrenAfterGroup=[]),s&&(s.childrenAfterFilter=i.childrenAfterFilter,s.childrenAfterGroup=i.childrenAfterGroup,s.childrenAfterAggFilter=i.childrenAfterAggFilter,s.childrenAfterSort=i.childrenAfterSort,s.childrenMapped=i.childrenMapped,s.allLeafChildren=i.allLeafChildren)}updateRowData(t,i){this.dispatchRowDataUpdateStartedEvent(t.add);const s={remove:[],update:[],add:[]},r=[];return this.executeRemove(t,s,r),this.executeUpdate(t,s,r),this.executeAdd(t,s),this.updateSelection(r,"rowDataChanged"),i&&re.sortRowNodesByOrder(this.rootNode.allLeafChildren,i),s}dispatchRowDataUpdateStartedEvent(t){this.eventService.dispatchEvent({type:v.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t?.length?t[0]:null})}updateSelection(t,i){const s=t.length>0;s&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:i}),this.selectionService.updateGroupsFromChildrenSelections(i),s&&this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:i})}executeAdd(t,i){var s;const{add:r,addIndex:o}=t;if(re.missingOrEmpty(r))return;const a=r.map(c=>this.createNode(c,this.rootNode,n.TOP_LEVEL));if("number"==typeof o&&o>=0){const{allLeafChildren:c}=this.rootNode,l=c.length;let u=o;if(this.doingTreeData&&o>0&&l>0)for(let p=0;p<l;p++)if((null===(s=c[p])||void 0===s?void 0:s.rowIndex)==o-1){u=p+1;break}const d=c.slice(0,u),f=c.slice(u,c.length);this.rootNode.allLeafChildren=[...d,...a,...f]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...a];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=a}executeRemove(t,i,s){const{remove:r}=t;if(re.missingOrEmpty(r))return;const o={};r.forEach(a=>{const c=this.lookupRowNode(a);c&&(c.isSelected()&&s.push(c),c.clearRowTopAndRowIndex(),o[c.id]=!0,delete this.allNodesMap[c.id],i.remove.push(c))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(a=>!o[a.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,i,s){const{update:r}=t;re.missingOrEmpty(r)||r.forEach(o=>{const a=this.lookupRowNode(o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&s.push(a),this.setMasterForRow(a,o,n.TOP_LEVEL,!1),i.update.push(a))})}lookupRowNode(t){const i=this.gridOptionsService.getCallback("getRowId");let s;if(i){const r=i({data:t,level:0});if(s=this.allNodesMap[r],!s)return console.error(`AG Grid: could not find row id=${r}, data item was not found for this id`),null}else if(s=this.rootNode.allLeafChildren.find(r=>r.data===t),!s)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return s||null}createNode(t,i,s){const r=new Me(this.beans);return r.group=!1,this.setMasterForRow(r,t,s,!0),i&&!this.suppressParentsInRowNodes&&(r.parent=i),r.level=s,r.setDataAndId(t,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn(`AG Grid: duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(t,i,s,r){if(this.doingTreeData)t.setMaster(!1),r&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(i))),r){const o=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(s+(o?o.length:0))}}isExpanded(t){const i=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===i||t<i}}return n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n})();var Wn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},xr=function(n){return n[n.Normal=0]="Normal",n[n.AfterFilter=1]="AfterFilter",n[n.AfterFilterAndSort=2]="AfterFilterAndSort",n[n.PivotNodes=3]="PivotNodes",n}(xr||{});let Cn=class extends V{constructor(){super(...arguments),this.onRowHeightChanged_debounced=re.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[]}init(){const e=this.refreshModel.bind(this,{step:Be.EVERYTHING}),t=!this.gridOptionsService.is("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:Be.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Be.PIVOT})),this.addManagedListener(this.eventService,v.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));const s=this.refreshModel.bind(this,{step:Be.MAP,keepRenderedRows:!0,animate:t});this.addManagedPropertyListener("groupRemoveSingleChildren",s),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",s),this.rootNode=new Me(this.beans),this.nodeManager=new Vse(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)}start(){const e=this.gridOptionsService.get("rowData");e&&this.setRowData(e)}ensureRowHeightsValid(e,t,i,s){let r,o=!1;do{r=!1;const a=this.getRowIndexAtPixel(e),c=this.getRowIndexAtPixel(t),l=Math.max(a,i),u=Math.min(c,s);for(let d=l;d<=u;d++){const f=this.getRow(d);if(f.rowHeightEstimated){const p=this.gridOptionsService.getRowHeightForNode(f);f.setRowHeight(p.height),r=!0,o=!0}}r&&this.setRowTopAndRowIndex()}while(r);return o}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,s=this.gridOptionsService.isDomLayout("normal");for(let r=0;r<this.rowsToDisplay.length;r++){const o=this.rowsToDisplay[r];if(null!=o.id&&i.add(o.id),null==o.rowHeight){const a=this.gridOptionsService.getRowHeightForNode(o,s,e);o.setRowHeight(a.height,a.estimated)}o.setRowTop(t),o.setRowIndex(r),t+=o.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),s=o=>{o&&null!=o.id&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},r=o=>{s(o),s(o.detailNode),s(o.sibling),o.hasChildren()&&o.childrenAfterGroup&&(i&&-1!=o.level&&!o.expanded||o.childrenAfterGroup.forEach(r))};r(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const s=this.getRowIndexAtPixel(t),r=this.getRow(s),o=!this.gridOptionsService.is("suppressAnimationFrame");return r!==e[0]&&(e.forEach(a=>{re.removeFromArray(this.rootNode.allLeafChildren,a)}),e.forEach((a,c)=>{re.insertIntoArray(this.rootNode.allLeafChildren,a,Math.max(s+i,0)+c)}),this.refreshModel({step:Be.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),!0)}highlightRowAtPixel(e,t){const i=null!=t?this.getRowIndexAtPixel(t):null,s=null!=i?this.getRow(i):null;if(!s||!e||s===e||null==t)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const r=this.getHighlightPosition(t,s);this.lastHighlightedRow&&this.lastHighlightedRow!==s&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),s.setHighlighted(r),this.lastHighlightedRow=s}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(!(t=this.getRow(r||0)))return fo.Below}const{rowTop:i,rowHeight:s}=t;return e-i<s/2?fo.Above:fo.Below}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return t?t.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.is("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(e){if(re.missing(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Be.MAP,keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gridOptionsService.isAnimateRows(),s=0===e.columns.length||e.columns.some(r=>r.isPrimary())?Be.FILTER:Be.FILTER_AGGREGATES;this.refreshModel({step:s,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Be.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:Be.PIVOT}):this.refreshModel({step:Be.AGGREGATE})}createChangePath(e){const t=re.missingOrEmpty(e),i=new Y7(!1,this.rootNode);return(t||this.gridOptionsService.isTreeData())&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter(s=>null!=s.add&&s.add.length>0||null!=s.remove&&s.remove.length>0);return null==t||0==t.length}buildRefreshModelParams(e){let t=Be.EVERYTHING;const i={everything:Be.EVERYTHING,group:Be.EVERYTHING,filter:Be.FILTER,map:Be.MAP,aggregate:Be.AGGREGATE,sort:Be.SORT,pivot:Be.PIVOT};if(re.exists(e)&&(t=i[e]),!re.missing(t))return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error(`AG Grid: invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`)}refreshModel(e){let t="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(t.step){case Be.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,i,!!t.afterColumnsChanged);case Be.FILTER:this.doFilter(i);case Be.PIVOT:this.doPivot(i);case Be.AGGREGATE:this.doAggregate(i);case Be.FILTER_AGGREGATES:this.doFilterAggregates(i);case Be.SORT:this.doSort(t.rowNodeTransactions,i);case Be.MAP:this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,s),this.eventService.dispatchEvent({type:v.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=re.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return re.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return re.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!t,s=!1;const r=[],o=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(a=>{if(!s)if(i&&(a===t||a===e)&&(s=!0,a.group&&o))r.push(...a.allLeafChildren);else{if(!i){if(a!==t&&a!==e)return;i=!0}a.group&&o||r.push(a)}}),r}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(re.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,o=-1;for(;;){const a=Math.floor((t+i)/2),c=this.rowsToDisplay[a];if(this.isRowInPixel(c,e)||(c.rowTop<e?t=a+1:c.rowTop>e&&(i=a-1),r===t&&o===i))return a;r=t,o=i}}isRowInPixel(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:xr.Normal,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:xr.AfterFilter,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:xr.AfterFilterAndSort,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:xr.PivotNodes,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){var t;const{nodes:i,callback:s,recursionType:r,includeFooterNodes:o}=e;let{index:a}=e;const c=i[0];o&&null!==(t=c?.parent)&&void 0!==t&&t.sibling&&i.push(c.parent.sibling);for(let l=0;l<i.length;l++){const u=i[l];if(s(u,a++),u.hasChildren()&&!u.footer){let d=null;switch(r){case xr.Normal:d=u.childrenAfterGroup;break;case xr.AfterFilter:d=u.childrenAfterAggFilter;break;case xr.AfterFilterAndSort:d=u.childrenAfterSort;break;case xr.PivotNodes:d=u.leafGroup?null:u.childrenAfterSort}d&&(a=this.recursivelyWalkNodesAndCallback({nodes:[...d],callback:s,recursionType:r,index:a,includeFooterNodes:o}))}}return a}doAggregate(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gridOptionsService.isTreeData(),i=this.columnModel.isPivotActive(),s=a=>{a&&a.forEach(c=>{const l=()=>{c.expanded=e,s(c.childrenAfterGroup)};t?re.exists(c.childrenAfterGroup)&&l():i?!c.leafGroup&&l():c.group&&l()})};this.rootNode&&s(this.rootNode.childrenAfterGroup),this.refreshModel({step:Be.MAP}),this.eventService.dispatchEvent({type:v.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,s,r){this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:i,changedPath:s}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:s,afterColumnsChanged:r}),this.restoreGroupState(e)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",s)&&this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())}restoreGroupState(e){e&&re.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(t,i)=>{"boolean"==typeof e[i]&&(t.expanded=e[i])})}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})}getGroupState(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;const e={};return re.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(t,i)=>e[i]=t.expanded),e}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if("string"==typeof e&&0==e.indexOf(Me.ID_PREFIX_ROW_GROUP)){let i;return this.forEachNode(s=>{s.id===e&&(i=s)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){const t=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:v.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:Be.EVERYTHING,groupState:t,newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(s=>{const r=this.nodeManager.updateRowData(s.rowDataTransaction,void 0);t.push(r),s.callback&&e.push(s.callback.bind(null,r)),"number"==typeof s.rowDataTransaction.addIndex&&(i=!0)}),this.commonUpdateRowData(t,void 0,i),e.length>0&&window.setTimeout(()=>{e.forEach(s=>s())},0),t.length>0&&this.eventService.dispatchEvent({type:v.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(e,t);return this.commonUpdateRowData([i],t,"number"==typeof e.addIndex),i}createRowNodeOrder(){if(this.gridOptionsService.is("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let i=0;i<this.rootNode.allLeafChildren.length;i++)t[this.rootNode.allLeafChildren[i].id]=i;return t}commonUpdateRowData(e,t,i){const s=!this.gridOptionsService.is("suppressAnimationFrame");i&&(t=this.createRowNodeOrder()),this.refreshModel({step:Be.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:v.EVENT_ROW_DATA_UPDATED})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:Be.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),e=!0}),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}};Wn([C("columnModel")],Cn.prototype,"columnModel",void 0),Wn([C("selectionService")],Cn.prototype,"selectionService",void 0),Wn([C("filterManager")],Cn.prototype,"filterManager",void 0),Wn([C("valueCache")],Cn.prototype,"valueCache",void 0),Wn([C("beans")],Cn.prototype,"beans",void 0),Wn([C("filterStage")],Cn.prototype,"filterStage",void 0),Wn([C("sortStage")],Cn.prototype,"sortStage",void 0),Wn([C("flattenStage")],Cn.prototype,"flattenStage",void 0),Wn([Pe("groupStage")],Cn.prototype,"groupStage",void 0),Wn([Pe("aggregationStage")],Cn.prototype,"aggregationStage",void 0),Wn([Pe("pivotStage")],Cn.prototype,"pivotStage",void 0),Wn([Pe("filterAggregatesStage")],Cn.prototype,"filterAggregatesStage",void 0),Wn([B],Cn.prototype,"init",null),Cn=Wn([$("rowModel")],Cn);var TA=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let xd=class extends V{execute(e){const{changedPath:t}=e;this.filterService.filter(t)}};TA([C("filterService")],xd.prototype,"filterService",void 0),xd=TA([$("filterStage")],xd);var Id=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let I2=class extends V{execute(e){const t=this.sortController.getSortOptions(),i=re.exists(t)&&t.length>0,s=i&&re.exists(e.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),r=t.some(o=>!!this.columnModel.getGroupDisplayColumnForGroup(o.column.getId()));this.sortService.sort(t,i,s,e.rowNodeTransactions,e.changedPath,r)}};Id([C("sortService")],I2.prototype,"sortService",void 0),Id([C("sortController")],I2.prototype,"sortController",void 0),Id([C("columnModel")],I2.prototype,"columnModel",void 0),I2=Id([$("sortStage")],I2);var yg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let M3=class extends V{execute(e){const t=e.rowNode,i=[],s={value:0},r=this.columnModel.isPivotMode(),o=r&&t.leafGroup;return this.recursivelyAddToRowsToDisplay(o?[t]:t.childrenAfterSort,i,s,r,0),!o&&i.length>0&&this.gridOptionsService.is("groupIncludeTotalFooter")&&(t.createFooter(),this.addRowNodeToRowsToDisplay(t.sibling,i,s,0)),i}recursivelyAddToRowsToDisplay(e,t,i,s,r){if(re.missingOrEmpty(e))return;const o=this.gridOptionsService.is("groupHideOpenParents"),a=this.gridOptionsService.is("groupRemoveSingleChildren"),c=!a&&this.gridOptionsService.is("groupRemoveLowestSingleChildren");for(let l=0;l<e.length;l++){const u=e[l],d=u.hasChildren(),p=a&&d&&1===u.childrenAfterGroup.length,g=c&&d&&u.leafGroup&&1===u.childrenAfterGroup.length;if(!(s&&!d)&&!(o&&u.expanded&&!u.master&&(!s||!u.leafGroup))&&!p&&!g&&this.addRowNodeToRowsToDisplay(u,t,i,r),!s||!u.leafGroup)if(d){const w=p||g;if(u.expanded||w){const T=w?r:r+1;this.recursivelyAddToRowsToDisplay(u.childrenAfterSort,t,i,s,T),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(u.sibling,t,i,T)}}else if(u.master&&u.expanded){const w=this.createDetailNode(u);this.addRowNodeToRowsToDisplay(w,t,i,r)}}}addRowNodeToRowsToDisplay(e,t,i,s){const r=this.gridOptionsService.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(r?0:s)}createDetailNode(e){if(re.exists(e.detailNode))return e.detailNode;const t=new Me(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,re.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};yg([C("columnModel")],M3.prototype,"columnModel",void 0),yg([C("beans")],M3.prototype,"beans",void 0),M3=yg([$("flattenStage")],M3);var Od=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let O2=class extends V{init(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")}sort(e,t,i,s,r,o){const a=this.gridOptionsService.is("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(f=>f.isRowGroupActive());let l={};i&&s&&(l=this.calculateDirtyNodes(s));const u=this.columnModel.isPivotMode();r&&r.forEachChangedNodeDepthFirst(f=>{this.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter,!0);const p=u&&f.leafGroup;if(a&&c&&!f.leafGroup&&!o){const m=f.childrenAfterAggFilter.slice(0);if(f.childrenAfterSort){const y={};f.childrenAfterSort.forEach((M,w)=>{y[M.id]=w}),m.sort((M,w)=>{var T,R;return(null!==(T=y[M.id])&&void 0!==T?T:0)-(null!==(R=y[w.id])&&void 0!==R?R:0)})}f.childrenAfterSort=m}else f.childrenAfterSort=!t||p?f.childrenAfterAggFilter.slice(0):i?this.doDeltaSort(f,l,r,e):this.rowNodeSorter.doFullSort(f.childrenAfterAggFilter,e);f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),this.updateChildIndexes(f),this.postSortFunc&&this.postSortFunc({nodes:f.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){const t={},i=s=>{s&&s.forEach(r=>t[r.id]=!0)};return e&&e.forEach(s=>{i(s.add),i(s.update),i(s.remove)}),t}doDeltaSort(e,t,i,s){const r=e.childrenAfterAggFilter,o=e.childrenAfterSort;if(!o)return this.rowNodeSorter.doFullSort(r,s);const a={},c=[];r.forEach(f=>{t[f.id]||!i.canSkip(f)?c.push(f):a[f.id]=!0});const l=o.filter(f=>a[f.id]),u=(f,p)=>({currentPos:p,rowNode:f}),d=c.map(u).sort((f,p)=>this.rowNodeSorter.compareRowNodes(s,f,p));return this.mergeSortedArrays(s,d,l.map(u)).map(({rowNode:f})=>f)}mergeSortedArrays(e,t,i){const s=[];let r=0,o=0;for(;r<t.length&&o<i.length;)this.rowNodeSorter.compareRowNodes(e,t[r],i[o])<0?s.push(t[r++]):s.push(i[o++]);for(;r<t.length;)s.push(t[r++]);for(;o<i.length;)s.push(i[o++]);return s}updateChildIndexes(e){if(re.missing(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const s=t[i],o=i===e.childrenAfterSort.length-1;s.setFirstChild(0===i),s.setLastChild(o),s.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gridOptionsService.is("groupHideOpenParents"))return;if(this.gridOptionsService.isTreeData()){const i="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return re.doOnce(()=>console.warn(i),"sortService.hideOpenParentsWithTreeData"),!1}const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(s=>{s.hasChildren()&&t(s)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gridOptionsService.is("groupHideOpenParents")||re.missing(e)||e.forEach(i=>{this.columnModel.getGroupDisplayColumns().forEach(r=>{const o=r.getColDef().showRowGroup;if("string"!=typeof o)return void console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const c=this.columnModel.getPrimaryColumn(o);if(c!==i.rowGroupColumn)if(t)i.setGroupValue(r.getId(),void 0);else{const u=i.getFirstChildOfFirstChild(c);u&&i.setGroupValue(r.getId(),u.key)}})})}};Od([C("columnModel")],O2.prototype,"columnModel",void 0),Od([C("rowNodeSorter")],O2.prototype,"rowNodeSorter",void 0),Od([B],O2.prototype,"init",null),O2=Od([$("sortService")],O2);var _A=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Vd=class extends V{filter(e){const t=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(s,r)=>{s.childrenAfterFilter=s.hasChildren()&&e&&!r?s.childrenAfterGroup.filter(o=>{const a=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,c=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return a||c}):s.childrenAfterGroup,s.sibling&&(s.sibling.childrenAfterFilter=s.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const s=(o,a)=>{if(o.childrenAfterGroup)for(let c=0;c<o.childrenAfterGroup.length;c++){const l=o.childrenAfterGroup[c],u=a||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?s(o.childrenAfterGroup[c],u):i(l,u)}i(o,a)};t.executeFromRootNode(o=>s(o,!1))}else t.forEachChangedNodeDepthFirst(r=>i(r,!1),!0)}doingTreeDataFiltering(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")}};_A([C("filterManager")],Vd.prototype,"filterManager",void 0),Vd=_A([$("filterService")],Vd);var Pd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let V2=class extends V{postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}isActive(){const e=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[i,s]=t;this.clientSideRowModel.updateRowData(i,s)}createTransactionForRowData(e){if(re.missing(this.clientSideRowModel))return void console.error("AG Grid: ImmutableService only works with ClientSideRowModel");const t=this.gridOptionsService.getCallback("getRowId");if(null==t)return void console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const i={remove:[],update:[],add:[]},s=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return re.exists(e)&&e.forEach((a,c)=>{const l=t({data:a,level:0}),u=s[l];o&&(o[l]=c),u?(u.data!==a&&i.update.push(a),s[l]=void 0):i.add.push(a)}),re.iterateObject(s,(a,c)=>{c&&i.remove.push(c.data)}),[i,o]}};Pd([C("rowModel")],V2.prototype,"rowModel",void 0),Pd([C("rowRenderer")],V2.prototype,"rowRenderer",void 0),Pd([B],V2.prototype,"postConstruct",null),V2=Pd([$("immutableService")],V2);const Pse={version:"30.0.5",moduleName:K.ClientSideRowModelModule,rowModel:"clientSide",beans:[Cn,xd,I2,M3,O2,Vd,V2]};var bg=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class T3 extends Q7{constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){re.exists(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();re.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}}forEachNode(e,t,i){this.rowNodes.forEach((s,r)=>{this.startRow+r<i&&e(s,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){return t||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new Me(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,s)=>{const r=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&r&&(this.rowNodes[s]=new Me(this.beans),this.rowNodes[s].setRowIndex(i.rowIndex),this.rowNodes[s].setRowTop(i.rowTop),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[s],r,this.startRow+s)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)}destroyRowNodes(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()})}}bg([C("beans")],T3.prototype,"beans",void 0),bg([B],T3.prototype,"postConstruct",null),bg([Wt],T3.prototype,"destroyRowNodes",null);var Fd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let _3=(()=>{class n extends V{constructor(t){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=t.initialRowCount,this.params=t}setBeans(t){this.logger=t.create("InfiniteCache")}getRow(t,i=!1){const s=Math.floor(t/this.params.blockSize);let r=this.blocks[s];if(!r){if(i)return;r=this.createBlock(s)}return r.getRow(t)}createBlock(t){const i=this.createBean(new T3(t,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i}refreshCache(){0!=this.blockCount?(this.getBlocksInOrder().forEach(i=>i.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()):this.purgeCache()}destroyAllBlocks(){this.getBlocksInOrder().forEach(t=>this.destroyBlock(t))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(t,i){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${t.getId()}, lastRow = ${i}`),this.checkRowCount(t,i),this.onCacheUpdated())}purgeBlocksIfNeeded(t){const i=this.getBlocksInOrder().filter(c=>c!=t);i.sort((c,l)=>l.getLastAccessed()-c.getLastAccessed());const r=this.params.maxBlocksInCache>0,o=r?this.params.maxBlocksInCache-1:null,a=n.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach((c,l)=>{if(c.getState()===T3.STATE_WAITING_TO_LOAD&&l>=a||r&&l>=o){if(this.isBlockCurrentlyDisplayed(c)||this.isBlockFocused(c))return;this.removeBlockFromCache(c)}})}isBlockFocused(t){const i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||null!=i.rowPinned)return!1;const s=t.getStartRow(),r=t.getEndRow();return i.rowIndex>=s&&i.rowIndex<r}isBlockCurrentlyDisplayed(t){const i=t.getStartRow(),s=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,s)}removeBlockFromCache(t){t&&this.destroyBlock(t)}checkRowCount(t,i){if("number"==typeof i&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const r=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<r&&(this.rowCount=r)}}setRowCount(t,i){this.rowCount=t,re.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(t){const i=new o2;this.getBlocksInOrder().forEach(s=>s.forEachNode(t,i,this.rowCount))}getBlocksInOrder(){return re.getAllValuesInObject(this.blocks).sort((s,r)=>s.getId()-r.getId())}destroyBlock(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:v.EVENT_STORE_UPDATED}))}destroyAllBlocksPastVirtualRowCount(){const t=[];this.getBlocksInOrder().forEach(i=>{i.getId()*this.params.blockSize>=this.rowCount&&t.push(i)}),t.length>0&&t.forEach(i=>this.destroyBlock(i))}purgeCache(){this.getBlocksInOrder().forEach(t=>this.removeBlockFromCache(t)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(t,i){const s=[];let r=-1,o=!1;const a=new o2;re.missing(t)&&(o=!0);let c=!1;return this.getBlocksInOrder().forEach(u=>{if(!c){if(o&&r+1!==u.getId())return void(c=!0);r=u.getId(),u.forEachNode(d=>{const f=d===t||d===i;(o||f)&&s.push(d),f&&(o=!o)},a,this.rowCount)}}),c||o?[]:s}}return n.MAX_EMPTY_BLOCKS_TO_KEEP=2,n})();Fd([C("rowRenderer")],_3.prototype,"rowRenderer",void 0),Fd([C("focusService")],_3.prototype,"focusService",void 0),Fd([function(n,e){return function(t,i){e(t,i,0)}}(0,Tn("loggerFactory"))],_3.prototype,"setBeans",null),Fd([Wt],_3.prototype,"destroyAllBlocks",null);var wo=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Ys=class extends V{getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(e,t,i,s){return!1}init(){this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){if(this.gridOptionsService.exists("initialGroupOrderComparator")){const e="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";re.doOnce(()=>console.warn(e),"IRM.InitialGroupOrderComparator")}}start(){this.setDatasource(this.gridOptionsService.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,v.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,v.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!re.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset(),this.resetCache();const i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)}createModelUpdatedEvent(){return{type:v.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new o2},this.infiniteCache=this.createBean(new _3(this.cacheParams))}defaultIfInvalid(e,t){return e>0?e:t}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};wo([C("filterManager")],Ys.prototype,"filterManager",void 0),wo([C("sortController")],Ys.prototype,"sortController",void 0),wo([C("selectionService")],Ys.prototype,"selectionService",void 0),wo([C("rowRenderer")],Ys.prototype,"rowRenderer",void 0),wo([C("rowNodeBlockLoader")],Ys.prototype,"rowNodeBlockLoader",void 0),wo([B],Ys.prototype,"init",null),wo([Wt],Ys.prototype,"destroyDatasource",null),Ys=wo([$("rowModel")],Ys);const zse={version:"30.0.5",moduleName:K.InfiniteRowModelModule,rowModel:"infinite",beans:[Ys]};class kse{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(null==e||!e.length)&&(e=this.getDefaultFileName()),-1===e.indexOf(".")?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}}class Gse{constructor(e){this.groupColumns=[];const{columnModel:t,valueService:i,gridOptionsService:s,valueFormatterService:r,valueParserService:o,processCellCallback:a,processHeaderCallback:c,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.columnModel=t,this.valueService=i,this.gridOptionsService=s,this.valueFormatterService=r,this.valueParserService=o,this.processCellCallback=a,this.processHeaderCallback=c,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,s,r){const a=this.gridOptionsService.is("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,e,t)?this.valueService.getValue(e,r):this.createValueForGroupNode(r);return this.processCell({accumulatedRowIndex:i,rowNode:r,column:e,value:a,processCellCallback:this.processCellCallback,type:s})}shouldRenderGroupSummaryCell(e,t,i){var s;if(!e||!e.group)return!1;if(-1!==this.groupColumns.indexOf(t)){if(null!=(null===(s=e.groupData)||void 0===s?void 0:s[t.getId()]))return!0;if(e.footer&&-1===e.level){const c=t.getColDef();return null==c||!0===c.showRowGroup||c.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&a}getHeaderName(e,t){return e?e({column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});const t=e.footer,i=[e.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)i.push((e=e.parent).key);const s=i.reverse().join(" -> ");return t?`Total ${s}`:s}processCell(e){var t;const{accumulatedRowIndex:i,rowNode:s,column:r,value:o,processCellCallback:a,type:c}=e;return a?{value:null!==(t=a({accumulatedRowIndex:i,column:r,node:s,value:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:c,parseValue:l=>this.valueParserService.parseValue(r,s,l,this.valueService.getValue(r,s)),formatValue:l=>{var u;return null!==(u=this.valueFormatterService.formatValue(r,s,l))&&void 0!==u?u:l}}))&&void 0!==t?t:""}:r.getColDef().useValueFormatterForExport?{value:o??"",valueFormatted:this.valueFormatterService.formatValue(r,s,o)}:{value:o??""}}}class Bse{static download(e,t){const i=document.defaultView||window;if(!i)return void console.warn("AG Grid: There is no `window` associated with the current `document`");const s=document.createElement("a"),r=i.URL.createObjectURL(t);s.setAttribute("href",r),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(s),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}}class Use extends Gse{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,s)=>{0!==s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,s){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(s)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){var s;0!=t&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(null!==(s=r.valueFormatted)&&void 0!==s?s:r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null==e)return'""';let t;return"string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}}var So=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Qs=class extends kse{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(e){const t=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";const t=this.getMergedParams(e),i=this.getData(t),s=new Blob(["\ufeff",i],{type:"text/plain"});return Bse.download(this.getFileName(t.fileName),s),i}exportDataAsCsv(e){return this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileName(){return"export.csv"}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,valueService:i,gridOptionsService:s,valueFormatterService:r,valueParserService:o}=this,{processCellCallback:a,processHeaderCallback:c,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:d,columnSeparator:f}=e;return new Use({columnModel:t,valueService:i,gridOptionsService:s,valueFormatterService:r,valueParserService:o,processCellCallback:a||void 0,processHeaderCallback:c||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:d||!1,columnSeparator:f||","})}isExportSuppressed(){return this.gridOptionsService.is("suppressCsvExport")}};So([C("columnModel")],Qs.prototype,"columnModel",void 0),So([C("valueService")],Qs.prototype,"valueService",void 0),So([C("gridSerializer")],Qs.prototype,"gridSerializer",void 0),So([C("gridOptionsService")],Qs.prototype,"gridOptionsService",void 0),So([C("valueFormatterService")],Qs.prototype,"valueFormatterService",void 0),So([C("valueParserService")],Qs.prototype,"valueParserService",void 0),So([B],Qs.prototype,"postConstruct",null),Qs=So([$("csvCreator")],Qs);var Mo=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Xs=class extends V{serialize(e,t={}){const i=this.getColumnsToExport(t.allColumns,t.columnKeys);return re.compose(this.prepareSession(i),this.prependContent(t),this.exportColumnGroups(t,i),this.exportHeaders(t,i),this.processPinnedTopRows(t,i),this.processRows(t,i),this.processPinnedBottomRows(t,i),this.appendContent(t))(e).parse()}processRow(e,t,i,s){const r=t.shouldRowBeSkipped||(()=>!1),o=this.gridOptionsService.context,a=this.gridOptionsService.api,c=this.gridOptionsService.columnApi,l=this.gridOptionsService.is("groupRemoveSingleChildren"),u=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),f=null!=t.rowPositions||!!t.onlySelected,p=this.gridOptionsService.is("groupHideOpenParents")&&!f,g=this.columnModel.isPivotMode()?s.leafGroup:!s.group,m=!!s.footer,w=1===s.allChildrenCount&&(l||u&&s.leafGroup);if((t.skipGroups||t.skipRowGroups)&&t.skipGroups&&re.doOnce(()=>console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`."),"gridSerializer-skipGroups"),!g&&!m&&(t.skipRowGroups||w||p)||t.onlySelected&&!s.isSelected()||t.skipPinnedTop&&"top"===s.rowPinned||t.skipPinnedBottom&&"bottom"===s.rowPinned||-1===s.level&&!g&&!m||r({node:s,api:a,columnApi:c,context:o}))return;const N=e.onNewBodyRow(s);if(i.forEach((k,j)=>{N.onColumn(k,j,s)}),t.getCustomContentBelowRow){const k=t.getCustomContentBelowRow({node:s,api:a,columnApi:c,context:o});k&&e.addCustomContent(k)}}appendContent(e){return t=>{const i=e.customFooter||e.appendContent;return i&&(e.customFooter&&re.doOnce(()=>console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead."),"gridSerializer-customFooter"),t.addCustomContent(i)),t}}prependContent(e){return t=>{const i=e.customHeader||e.prependContent;return i&&(e.customHeader&&re.doOnce(()=>console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead."),"gridSerializer-customHeader"),t.addCustomContent(i)),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(e.skipColumnGroupHeaders)e.columnGroups&&re.doOnce(()=>console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default."),"gridSerializer-columnGroups");else{const s=new M_,r=this.displayedGroupCreator.createDisplayedGroups(t,this.columnModel.getGridBalancedTree(),s,null);this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&re.doOnce(()=>console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`."),"gridSerializer-skipHeader");else{const s=i.onNewHeaderRow();t.forEach((r,o)=>{s.onColumn(r,o,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>"top"===r.rowPinned).sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(s):this.pinnedRowModel.forEachPinnedTopRow(s),i}}processRows(e,t){return i=>{const s=this.rowModel,r=s.getType(),o="clientSide"===r,a="serverSide"===r,c=!o&&e.onlySelected,l=this.processRow.bind(this,i,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>null==d.rowPinned).sort((d,f)=>d.rowIndex-f.rowIndex).map(d=>s.getRow(d.rowIndex)).forEach(l);else if(this.columnModel.isPivotMode())o?s.forEachPivotNode(l,!0):s.forEachNode(l);else if(e.onlySelectedAllPages||c){const d=this.selectionService.getSelectedNodes();this.replicateSortedOrder(d),d.forEach(l)}else"all"===u?s.forEachNode(l):o?s.forEachNodeAfterFilterAndSort(l,!0):a?s.forEachNodeAfterFilterAndSort(l):s.forEachNode(l);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(s,r)=>{var o,a,c,l;return null!=s.rowIndex&&null!=r.rowIndex?s.rowIndex-r.rowIndex:s.level===r.level?(null===(o=s.parent)||void 0===o?void 0:o.id)===(null===(a=r.parent)||void 0===a?void 0:a.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:s,currentPos:null!==(c=s.rowIndex)&&void 0!==c?c:-1},{rowNode:r,currentPos:null!==(l=r.rowIndex)&&void 0!==l?l:-1}):i(s.parent,r.parent):s.level>r.level?i(s.parent,r):i(s,r.parent)};e.sort(i)}processPinnedBottomRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>"bottom"===r.rowPinned).sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(s):this.pinnedRowModel.forEachPinnedBottomRow(s),i}}getColumnsToExport(e=!1,t){const i=this.columnModel.isPivotMode();return t&&t.length?this.columnModel.getGridColumns(t):e&&!i?(this.gridOptionsService.isTreeData()?this.columnModel.getGridColumns([J1]):[]).concat(this.columnModel.getAllGridColumns()||[]):this.columnModel.getAllDisplayedColumns()}recursivelyAddHeaderGroups(e,t,i){const s=[];e.forEach(r=>{r.getChildren&&r.getChildren().forEach(a=>s.push(a))}),e.length>0&&e[0]instanceof _n&&this.doAddHeaderHeader(t,e,i),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,t,i)}doAddHeaderHeader(e,t,i){const s=e.onNewHeaderGroupingRow();let r=0;t.forEach(o=>{const a=o;let c;c=i?i({columnGroup:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumnGroup(a,"header");const l=a.getLeafColumns().reduce((u,d,f,p)=>{let g=re.last(u);return"open"===d.getColumnGroupShow()?(!g||null!=g[1])&&(g=[f],u.push(g)):g&&null==g[1]&&(g[1]=f-1),f===p.length-1&&g&&null==g[1]&&(g[1]=f),u},[]);s.onColumn(a,c||"",r++,a.getLeafColumns().length-1,l)})}};Mo([C("displayedGroupCreator")],Xs.prototype,"displayedGroupCreator",void 0),Mo([C("columnModel")],Xs.prototype,"columnModel",void 0),Mo([C("rowModel")],Xs.prototype,"rowModel",void 0),Mo([C("pinnedRowModel")],Xs.prototype,"pinnedRowModel",void 0),Mo([C("selectionService")],Xs.prototype,"selectionService",void 0),Mo([C("rowNodeSorter")],Xs.prototype,"rowNodeSorter",void 0),Mo([C("sortController")],Xs.prototype,"sortController",void 0),Xs=Mo([$("gridSerializer")],Xs);const jse={version:"30.0.5",moduleName:K.CsvExportModule,beans:[Qs,Xs]};new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),ie.registerModules([Pse,zse,jse]);let AA=(()=>{class n extends lA{constructor(t){super(),this._ngZone=t}setEmitterUsedCallback(t){this.isEmitterUsed=t}setTimeout(t,i){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{t()},i)}):window.setTimeout(()=>{t()},i)}setInterval(t,i){return new $t(s=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{s(window.setInterval(()=>{t()},i))}):s(window.setInterval(()=>{t()},i))})}addEventListener(t,i,s,r){this.isOutsideAngular(i)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{t.addEventListener(i,s,r)}):t.addEventListener(i,s,r)}dispatchEvent(t,i,s=!1){this.isOutsideAngular(t)?this._ngZone?this._ngZone.runOutsideAngular(i):i():(this.isEmitterUsed(t)||s)&&(!it.isInAngularZone()&&this._ngZone?this._ngZone.run(i):i())}isFrameworkComponent(t){if(!t)return!1;const i=t.prototype;return i&&"agInit"in i}}return n.\u0275fac=function(t){return new(t||n)(q(it))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),RA=(()=>{class n extends Ise{setViewContainerRef(t){this.viewContainerRef=t}setComponentFactoryResolver(t){this.componentFactoryResolver=t}createWrapper(t){let i=this,r=new class s extends qse{init(a){super.init(a),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return i.createComponent(t)}hasMethod(a){return null!=r.getFrameworkComponentInstance()[a]}callMethod(a,c){const l=this.getFrameworkComponentInstance();return r.getFrameworkComponentInstance()[a].apply(l,c)}addMethod(a,c){r[a]=c}};return r}createComponent(t){let i=this.componentFactoryResolver.resolveComponentFactory(t);return this.viewContainerRef.createComponent(i)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class qse{init(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let LA=(()=>{class n{constructor(t,i,s,r,o){this.viewContainerRef=i,this.angularFrameworkOverrides=s,this.frameworkComponentWrapper=r,this.componentFactoryResolver=o,this._initialised=!1,this._destroyed=!1,this._fullyReady=$t.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.serverSideStoreType=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new G,this.toolPanelSizeChanged=new G,this.cutStart=new G,this.cutEnd=new G,this.pasteStart=new G,this.pasteEnd=new G,this.columnVisible=new G,this.columnPinned=new G,this.columnResized=new G,this.columnMoved=new G,this.columnValueChanged=new G,this.columnPivotModeChanged=new G,this.columnPivotChanged=new G,this.columnGroupOpened=new G,this.newColumnsLoaded=new G,this.gridColumnsChanged=new G,this.displayedColumnsChanged=new G,this.virtualColumnsChanged=new G,this.columnEverythingChanged=new G,this.componentStateChanged=new G,this.cellValueChanged=new G,this.cellEditRequest=new G,this.rowValueChanged=new G,this.cellEditingStarted=new G,this.cellEditingStopped=new G,this.rowEditingStarted=new G,this.rowEditingStopped=new G,this.undoStarted=new G,this.undoEnded=new G,this.redoStarted=new G,this.redoEnded=new G,this.rangeDeleteStart=new G,this.rangeDeleteEnd=new G,this.filterOpened=new G,this.filterChanged=new G,this.filterModified=new G,this.chartCreated=new G,this.chartRangeSelectionChanged=new G,this.chartOptionsChanged=new G,this.chartDestroyed=new G,this.cellKeyDown=new G,this.gridReady=new G,this.firstDataRendered=new G,this.gridSizeChanged=new G,this.modelUpdated=new G,this.virtualRowRemoved=new G,this.viewportChanged=new G,this.bodyScroll=new G,this.bodyScrollEnd=new G,this.dragStarted=new G,this.dragStopped=new G,this.paginationChanged=new G,this.rowDragEnter=new G,this.rowDragMove=new G,this.rowDragLeave=new G,this.rowDragEnd=new G,this.columnRowGroupChanged=new G,this.rowGroupOpened=new G,this.expandOrCollapseAll=new G,this.pinnedRowDataChanged=new G,this.rowDataChanged=new G,this.rowDataUpdated=new G,this.asyncTransactionsFlushed=new G,this.storeRefreshed=new G,this.cellClicked=new G,this.cellDoubleClicked=new G,this.cellFocused=new G,this.cellMouseOver=new G,this.cellMouseOut=new G,this.cellMouseDown=new G,this.rowClicked=new G,this.rowDoubleClicked=new G,this.rowSelected=new G,this.selectionChanged=new G,this.cellContextMenu=new G,this.rangeSelectionChanged=new G,this.sortChanged=new G,this.columnRowGroupChangeRequest=new G,this.columnPivotChangeRequest=new G,this.columnValueChangeRequest=new G,this.columnAggFuncChangeRequest=new G,this._nativeElement=t.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=Te.copyAttributesToGridOptions(this.gridOptions,this),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},new Nse(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,t=>t)}ngOnChanges(t){this._initialised&&Te.processOnChange(t,this.api)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(t){const i=this[t],s=!!i&&i.observers&&i.observers.length>0,r=`on${t.charAt(0).toUpperCase()}${t.substring(1)}`;return s||!!this.gridOptions&&!!this.gridOptions[r]}globalEventListener(t,i){if(this._destroyed)return;const s=this[t];s&&this.isEmitterUsed(t)&&("gridReady"===t?this._fullyReady.then(r=>{s.emit(i)}):s.emit(i))}}return n.\u0275fac=function(t){return new(t||n)(P(dn),P(is),P(AA),P(RA),P(Ic))},n.\u0275cmp=$r({type:n,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",serverSideStoreType:"serverSideStoreType",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[nt([AA,RA]),ii],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),Kse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({}),n})();function NA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function X(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?NA(Object(t),!0).forEach(function(i){zt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function kd(n){return kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(n)}function HA(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function zt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wg(n,e){return function Jse(n){if(Array.isArray(n))return n}(n)||function tre(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,a,i=[],s=!0,r=!1;try{for(t=t.call(n);!(s=(o=t.next()).done)&&(i.push(o.value),!e||i.length!==e);s=!0);}catch(c){r=!0,a=c}finally{try{!s&&null!=t.return&&t.return()}finally{if(r)throw a}}return i}}(n,e)||xA(n,e)||function ire(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A3(n){return function Zse(n){if(Array.isArray(n))return Sg(n)}(n)||function ere(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||xA(n)||function nre(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xA(n,e){if(n){if("string"==typeof n)return Sg(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sg(n,e)}}function Sg(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var IA=function(){},Mg={},OA={},VA=null,PA={mark:IA,measure:IA};try{typeof window<"u"&&(Mg=window),typeof document<"u"&&(OA=document),typeof MutationObserver<"u"&&(VA=MutationObserver),typeof performance<"u"&&(PA=performance)}catch{}var Ud,Wd,jd,$d,qd,FA=(Mg.navigator||{}).userAgent,zA=void 0===FA?"":FA,To=Mg,ut=OA,kA=VA,Bd=PA,Ir=!!ut.documentElement&&!!ut.head&&"function"==typeof ut.addEventListener&&"function"==typeof ut.createElement,GA=~zA.indexOf("MSIE")||~zA.indexOf("Trident/"),Or="___FONT_AWESOME___",BA="fa",UA="svg-inline--fa",Pa="data-fa-i2svg",_g="data-fa-pseudo-element",rre="data-fa-pseudo-element-pending",Dg="data-prefix",Ag="data-icon",WA="fontawesome-i2svg",ore="async",are=["HTML","HEAD","STYLE","SCRIPT"],jA=function(){try{return!0}catch{return!1}}(),dt="classic",wt="sharp",Rg=[dt,wt];function R3(n){return new Proxy(n,{get:function(t,i){return i in t?t[i]:t[dt]}})}var L3=R3((zt(Ud={},dt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),zt(Ud,wt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Ud)),N3=R3((zt(Wd={},dt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),zt(Wd,wt,{solid:"fass",regular:"fasr",light:"fasl"}),Wd)),H3=R3((zt(jd={},dt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),zt(jd,wt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),jd)),cre=R3((zt($d={},dt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),zt($d,wt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),$d)),lre=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,$A="fa-layers-text",ure=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,dre=R3((zt(qd={},dt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),zt(qd,wt,{900:"fass",400:"fasr",300:"fasl"}),qd)),qA=[1,2,3,4,5,6,7,8,9,10],hre=qA.concat([11,12,13,14,15,16,17,18,19,20]),fre=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Fa={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},x3=new Set;Object.keys(N3[dt]).map(x3.add.bind(x3)),Object.keys(N3[wt]).map(x3.add.bind(x3));var pre=[].concat(Rg,A3(x3),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Fa.GROUP,Fa.SWAP_OPACITY,Fa.PRIMARY,Fa.SECONDARY]).concat(qA.map(function(n){return"".concat(n,"x")})).concat(hre.map(function(n){return"w-".concat(n)})),I3=To.FontAwesomeConfig||{};ut&&"function"==typeof ut.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=wg(n,2),i=e[1],s=function mre(n){return""===n||"false"!==n&&("true"===n||n)}(function gre(n){var e=ut.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=s&&(I3[i]=s)});var KA={styleDefault:"solid",familyDefault:"classic",cssPrefix:BA,replacementClass:UA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};I3.familyPrefix&&(I3.cssPrefix=I3.familyPrefix);var P2=X(X({},KA),I3);P2.autoReplaceSvg||(P2.observeMutations=!1);var te={};Object.keys(KA).forEach(function(n){Object.defineProperty(te,n,{enumerable:!0,set:function(t){P2[n]=t,O3.forEach(function(i){return i(te)})},get:function(){return P2[n]}})}),Object.defineProperty(te,"familyPrefix",{enumerable:!0,set:function(e){P2.cssPrefix=e,O3.forEach(function(t){return t(te)})},get:function(){return P2.cssPrefix}}),To.FontAwesomeConfig=te;var O3=[],Zs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},yre="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function V3(){for(var n=12,e="";n-- >0;)e+=yre[62*Math.random()|0];return e}function F2(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Lg(n){return n.classList?F2(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function YA(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Kd(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function Ng(n){return n.size!==Zs.size||n.x!==Zs.x||n.y!==Zs.y||n.rotate!==Zs.rotate||n.flipX||n.flipY}var Mre=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function QA(){var n=BA,e=UA,t=te.cssPrefix,i=te.replacementClass,s=Mre;if(t!==n||i!==e){var r=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");s=s.replace(r,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(i))}return s}var XA=!1;function Hg(){te.autoAddCss&&!XA&&(function Ere(n){if(n&&Ir){var e=ut.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=ut.head.childNodes,i=null,s=t.length-1;s>-1;s--){var r=t[s],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=r)}ut.head.insertBefore(e,i)}}(QA()),XA=!0)}var Tre={mixout:function(){return{dom:{css:QA,insertCss:Hg}}},hooks:function(){return{beforeDOMElementCreation:function(){Hg()},beforeI2svg:function(){Hg()}}}},Vr=To||{};Vr[Or]||(Vr[Or]={}),Vr[Or].styles||(Vr[Or].styles={}),Vr[Or].hooks||(Vr[Or].hooks={}),Vr[Or].shims||(Vr[Or].shims=[]);var gs=Vr[Or],ZA=[],Yd=!1;function P3(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,s=n.children,r=void 0===s?[]:s;return"string"==typeof n?YA(n):"<".concat(e," ").concat(function bre(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(YA(n[t]),'" ')},"").trim()}(i),">").concat(r.map(P3).join(""),"</").concat(e,">")}function JA(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}Ir&&((Yd=(ut.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ut.readyState))||ut.addEventListener("DOMContentLoaded",function n(){ut.removeEventListener("DOMContentLoaded",n),Yd=1,ZA.map(function(e){return e()})}));var xg=function(e,t,i,s){var c,l,u,r=Object.keys(e),o=r.length,a=void 0!==s?function(e,t){return function(i,s,r,o){return e.call(t,i,s,r,o)}}(t,s):t;for(void 0===i?(c=1,u=e[r[0]]):(c=0,u=i);c<o;c++)u=a(u,e[l=r[c]],l,e);return u};function Ig(n){var e=function Rre(n){for(var e=[],t=0,i=n.length;t<i;){var s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<i){var r=n.charCodeAt(t++);56320==(64512&r)?e.push(((1023&s)<<10)+(1023&r)+65536):(e.push(s),t--)}else e.push(s)}return e}(n);return 1===e.length?e[0].toString(16):null}function eR(n){return Object.keys(n).reduce(function(e,t){var i=n[t];return i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function Og(n,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,s=void 0!==i&&i,r=eR(e);"function"!=typeof gs.hooks.addPack||s?gs.styles[n]=X(X({},gs.styles[n]||{}),r):gs.hooks.addPack(n,eR(e)),"fas"===n&&Og("fa",e)}var Qd,Xd,Zd,z2=gs.styles,Nre=gs.shims,Hre=(zt(Qd={},dt,Object.values(H3[dt])),zt(Qd,wt,Object.values(H3[wt])),Qd),Vg=null,tR={},nR={},iR={},sR={},rR={},xre=(zt(Xd={},dt,Object.keys(L3[dt])),zt(Xd,wt,Object.keys(L3[wt])),Xd);var oR=function(){var e=function(r){return xg(z2,function(o,a,c){return o[c]=xg(a,r,{}),o},{})};tR=e(function(s,r,o){return r[3]&&(s[r[3]]=o),r[2]&&r[2].filter(function(c){return"number"==typeof c}).forEach(function(c){s[c.toString(16)]=o}),s}),nR=e(function(s,r,o){return s[o]=o,r[2]&&r[2].filter(function(c){return"string"==typeof c}).forEach(function(c){s[c]=o}),s}),rR=e(function(s,r,o){var a=r[2];return s[o]=o,a.forEach(function(c){s[c]=o}),s});var t="far"in z2||te.autoFetchSvg,i=xg(Nre,function(s,r){var o=r[0],a=r[1],c=r[2];return"far"===a&&!t&&(a="fas"),"string"==typeof o&&(s.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(s.unicodes[o.toString(16)]={prefix:a,iconName:c}),s},{names:{},unicodes:{}});iR=i.names,sR=i.unicodes,Vg=Jd(te.styleDefault,{family:te.familyDefault})};function Pg(n,e){return(tR[n]||{})[e]}function za(n,e){return(rR[n]||{})[e]}function aR(n){return iR[n]||{prefix:null,iconName:null}}function Do(){return Vg}(function vre(n){O3.push(n)})(function(n){Vg=Jd(n.styleDefault,{family:te.familyDefault})}),oR();var Fg=function(){return{prefix:null,iconName:null,rest:[]}};function Jd(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,i=void 0===t?dt:t;return N3[i][n]||N3[i][L3[i][n]]||(n in gs.styles?n:null)||null}var cR=(zt(Zd={},dt,Object.keys(H3[dt])),zt(Zd,wt,Object.keys(H3[wt])),Zd);function e6(n){var e,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,s=void 0!==i&&i,r=(zt(e={},dt,"".concat(te.cssPrefix,"-").concat(dt)),zt(e,wt,"".concat(te.cssPrefix,"-").concat(wt)),e),o=null,a=dt;(n.includes(r[dt])||n.some(function(l){return cR[dt].includes(l)}))&&(a=dt),(n.includes(r[wt])||n.some(function(l){return cR[wt].includes(l)}))&&(a=wt);var c=n.reduce(function(l,u){var d=function Ore(n,e){var t=e.split("-"),i=t[0],s=t.slice(1).join("-");return i!==n||""===s||function Ire(n){return~pre.indexOf(n)}(s)?null:s}(te.cssPrefix,u);if(z2[u]?(u=Hre[a].includes(u)?cre[a][u]:u,o=u,l.prefix=u):xre[a].indexOf(u)>-1?(o=u,l.prefix=Jd(u,{family:a})):d?l.iconName=d:u!==te.replacementClass&&u!==r[dt]&&u!==r[wt]&&l.rest.push(u),!s&&l.prefix&&l.iconName){var f="fa"===o?aR(l.iconName):{},p=za(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||p||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!z2.far&&z2.fas&&!te.autoFetchSvg&&(l.prefix="fas")}return l},Fg());return(n.includes("fa-brands")||n.includes("fab"))&&(c.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===wt&&(z2.fass||te.autoFetchSvg)&&(c.prefix="fass",c.iconName=za(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=Do()||"fas"),c}var Fre=function(){function n(){(function Yse(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Qse(n,e,t){e&&HA(n.prototype,e),t&&HA(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){t.definitions[a]=X(X({},t.definitions[a]||{}),o[a]),Og(a,o[a]);var c=H3[dt][a];c&&Og(c,o[a]),oR()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var s=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(s).map(function(r){var o=s[r],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];t[a]||(t[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(t[a][d]=l)}),t[a][c]=l}),t}}]),n}(),lR=[],k2={},G2={},zre=Object.keys(G2);function zg(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];return(k2[n]||[]).forEach(function(o){e=o.apply(null,[e].concat(i))}),e}function ka(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(k2[n]||[]).forEach(function(r){r.apply(null,t)})}function Pr(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return G2[n]?G2[n].apply(null,e):void 0}function kg(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||Do();if(e)return e=za(t,e)||e,JA(uR.definitions,t,e)||JA(gs.styles,t,e)}var uR=new Fre,Bre={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ir?(ka("beforeI2svg",e),Pr("pseudoElements2svg",e),Pr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===te.autoReplaceSvg&&(te.autoReplaceSvg=!0),te.observeMutations=!0,function Dre(n){Ir&&(Yd?setTimeout(n,0):ZA.push(n))}(function(){Wre({autoReplaceSvgRoot:t}),ka("watch",e)})}},Ure={icon:function(e){if(null===e)return null;if("object"===kd(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:za(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=Jd(e[0]);return{prefix:i,iconName:za(i,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(te.cssPrefix,"-"))>-1||e.match(lre))){var s=e6(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||Do(),iconName:za(s.prefix,s.iconName)||s.iconName}}if("string"==typeof e){var r=Do();return{prefix:r,iconName:za(r,e)||e}}}},wi={noAuto:function(){te.autoReplaceSvg=!1,te.observeMutations=!1,ka("noAuto")},config:te,dom:Bre,parse:Ure,library:uR,findIconDefinition:kg,toHtml:P3},Wre=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,i=void 0===t?ut:t;(Object.keys(gs.styles).length>0||te.autoFetchSvg)&&Ir&&te.autoReplaceSvg&&wi.dom.i2svg({node:i})};function t6(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return P3(i)})}}),Object.defineProperty(n,"node",{get:function(){if(Ir){var i=ut.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function Gg(n){var e=n.icons,t=e.main,i=e.mask,s=n.prefix,r=n.iconName,o=n.transform,a=n.symbol,c=n.title,l=n.maskId,u=n.titleId,d=n.extra,f=n.watchable,p=void 0!==f&&f,g=i.found?i:t,m=g.width,y=g.height,M="fak"===s,w=[te.replacementClass,r?"".concat(te.cssPrefix,"-").concat(r):""].filter(function(Se){return-1===d.classes.indexOf(Se)}).filter(function(Se){return""!==Se||!!Se}).concat(d.classes).join(" "),T={children:[],attributes:X(X({},d.attributes),{},{"data-prefix":s,"data-icon":r,class:w,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)})},R=M&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};p&&(T.attributes[Pa]=""),c&&(T.children.push({tag:"title",attributes:{id:T.attributes["aria-labelledby"]||"title-".concat(u||V3())},children:[c]}),delete T.attributes.title);var N=X(X({},T),{},{prefix:s,iconName:r,main:t,mask:i,maskId:l,transform:o,symbol:a,styles:X(X({},R),d.styles)}),k=i.found&&t.found?Pr("generateAbstractMask",N)||{children:[],attributes:{}}:Pr("generateAbstractIcon",N)||{children:[],attributes:{}},ae=k.attributes;return N.children=k.children,N.attributes=ae,a?function $re(n){var t=n.iconName,i=n.children,s=n.attributes,r=n.symbol,o=!0===r?"".concat(n.prefix,"-").concat(te.cssPrefix,"-").concat(t):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:X(X({},s),{},{id:o}),children:i}]}]}(N):function jre(n){var e=n.children,t=n.main,i=n.mask,s=n.attributes,r=n.styles,o=n.transform;if(Ng(o)&&t.found&&!i.found){var l={x:t.width/t.height/2,y:.5};s.style=Kd(X(X({},r),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}(N)}function dR(n){var e=n.content,t=n.width,i=n.height,s=n.transform,r=n.title,o=n.extra,a=n.watchable,c=void 0!==a&&a,l=X(X(X({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")});c&&(l[Pa]="");var u=X({},o.styles);Ng(s)&&(u.transform=function Sre(n){var e=n.transform,t=n.width,s=n.height,r=void 0===s?16:s,o=n.startCentered,a=void 0!==o&&o,c="";return c+=a&&GA?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-r/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:s,startCentered:!0,width:t,height:i}),u["-webkit-transform"]=u.transform);var d=Kd(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),r&&f.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),f}var Bg=gs.styles;function Ug(n){var e=n[0],t=n[1],r=wg(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(te.cssPrefix,"-").concat(Fa.GROUP)},children:[{tag:"path",attributes:{class:"".concat(te.cssPrefix,"-").concat(Fa.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(te.cssPrefix,"-").concat(Fa.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var Kre={found:!1,width:512,height:512};function Wg(n,e){var t=e;return"fa"===e&&null!==te.styleDefault&&(e=Do()),new Promise(function(i,s){if(Pr("missingIconAbstract"),"fa"===t){var o=aR(n)||{};n=o.iconName||n,e=o.prefix||e}if(n&&e&&Bg[e]&&Bg[e][n])return i(Ug(Bg[e][n]));(function Yre(n,e){!jA&&!te.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),i(X(X({},Kre),{},{icon:te.showMissingIcons&&n&&Pr("missingIconAbstract")||{}}))})}var hR=function(){},jg=te.measurePerformance&&Bd&&Bd.mark&&Bd.measure?Bd:{mark:hR,measure:hR},F3='FA "6.4.0"',fR=function(e){jg.mark("".concat(F3," ").concat(e," ends")),jg.measure("".concat(F3," ").concat(e),"".concat(F3," ").concat(e," begins"),"".concat(F3," ").concat(e," ends"))},$g={begin:function(e){return jg.mark("".concat(F3," ").concat(e," begins")),function(){return fR(e)}},end:fR},n6=function(){};function pR(n){return"string"==typeof(n.getAttribute?n.getAttribute(Pa):null)}function eoe(n){return ut.createElementNS("http://www.w3.org/2000/svg",n)}function toe(n){return ut.createElement(n)}function gR(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,i=void 0===t?"svg"===n.tag?eoe:toe:t;if("string"==typeof n)return ut.createTextNode(n);var s=i(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){s.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){s.appendChild(gR(o,{ceFn:i}))}),s}var i6={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(s){t.parentNode.insertBefore(gR(s),t)}),null===t.getAttribute(Pa)&&te.keepOriginalSource){var i=ut.createComment(function noe(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~Lg(t).indexOf(te.replacementClass))return i6.replace(e);var s=new RegExp("".concat(te.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var r=i[0].attributes.class.split(" ").reduce(function(a,c){return c===te.replacementClass||c.match(s)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});i[0].attributes.class=r.toSvg.join(" "),0===r.toNode.length?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}var o=i.map(function(a){return P3(a)}).join("\n");t.setAttribute(Pa,""),t.innerHTML=o}};function mR(n){n()}function CR(n,e){var t="function"==typeof e?e:n6;if(0===n.length)t();else{var i=mR;te.mutateApproach===ore&&(i=To.requestAnimationFrame||mR),i(function(){var s=function Jre(){return!0===te.autoReplaceSvg?i6.replace:i6[te.autoReplaceSvg]||i6.replace}(),r=$g.begin("mutate");n.map(s),r(),t()})}}var qg=!1;function vR(){qg=!0}function Kg(){qg=!1}var s6=null;function ER(n){if(kA&&te.observeMutations){var e=n.treeCallback,t=void 0===e?n6:e,i=n.nodeCallback,s=void 0===i?n6:i,r=n.pseudoElementsCallback,o=void 0===r?n6:r,a=n.observeMutationsRoot,c=void 0===a?ut:a;s6=new kA(function(l){if(!qg){var u=Do();F2(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!pR(d.addedNodes[0])&&(te.searchPseudoElements&&o(d.target),t(d.target)),"attributes"===d.type&&d.target.parentNode&&te.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&pR(d.target)&&~fre.indexOf(d.attributeName))if("class"===d.attributeName&&function Xre(n){var e=n.getAttribute?n.getAttribute(Dg):null,t=n.getAttribute?n.getAttribute(Ag):null;return e&&t}(d.target)){var f=e6(Lg(d.target)),g=f.iconName;d.target.setAttribute(Dg,f.prefix||u),g&&d.target.setAttribute(Ag,g)}else(function Zre(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(te.replacementClass)})(d.target)&&s(d.target)})}}),Ir&&s6.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function yR(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=function roe(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",s=e6(Lg(n));return s.prefix||(s.prefix=Do()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=function Vre(n,e){return(nR[n]||{})[e]}(s.prefix,n.innerText)||Pg(s.prefix,Ig(n.innerText))),!s.iconName&&te.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}(n),i=t.iconName,s=t.prefix,r=t.rest,o=function ooe(n){var e=F2(n.attributes).reduce(function(s,r){return"class"!==s.name&&"style"!==s.name&&(s[r.name]=r.value),s},{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return te.autoA11y&&(t?e["aria-labelledby"]="".concat(te.replacementClass,"-title-").concat(i||V3()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),a=zg("parseNodeAttributes",{},n),c=e.styleParser?function soe(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,s){var r=s.split(":"),o=r[0],a=r.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),t}(n):[];return X({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:s,transform:Zs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:c,attributes:o}},a)}var coe=gs.styles;function bR(n){var e="nest"===te.autoReplaceSvg?yR(n,{styleParser:!1}):yR(n);return~e.extra.classes.indexOf($A)?Pr("generateLayersText",n,e):Pr("generateSvgReplacementMutation",n,e)}var Ao=new Set;function wR(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Ir)return Promise.resolve();var t=ut.documentElement.classList,i=function(d){return t.add("".concat(WA,"-").concat(d))},s=function(d){return t.remove("".concat(WA,"-").concat(d))},r=te.autoFetchSvg?Ao:Rg.map(function(u){return"fa-".concat(u)}).concat(Object.keys(coe));r.includes("fa")||r.push("fa");var o=[".".concat($A,":not([").concat(Pa,"])")].concat(r.map(function(u){return".".concat(u,":not([").concat(Pa,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=F2(n.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();i("pending"),s("complete");var c=$g.begin("onTree"),l=a.reduce(function(u,d){try{var f=bR(d);f&&u.push(f)}catch(p){jA||"MissingIcon"===p.name&&console.error(p)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){CR(f,function(){i("active"),i("complete"),s("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function loe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;bR(n).then(function(t){t&&CR([t],e)})}function uoe(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:kg(e||{}),s=t.mask;return s&&(s=(s||{}).icon?s:kg(s||{})),n(i,X(X({},t),{},{mask:s}))}}Rg.map(function(n){Ao.add("fa-".concat(n))}),Object.keys(L3[dt]).map(Ao.add.bind(Ao)),Object.keys(L3[wt]).map(Ao.add.bind(Ao)),Ao=A3(Ao);var doe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,s=void 0===i?Zs:i,r=t.symbol,o=void 0!==r&&r,a=t.mask,c=void 0===a?null:a,l=t.maskId,u=void 0===l?null:l,d=t.title,f=void 0===d?null:d,p=t.titleId,g=void 0===p?null:p,m=t.classes,y=void 0===m?[]:m,M=t.attributes,w=void 0===M?{}:M,T=t.styles,R=void 0===T?{}:T;if(e){var N=e.prefix,k=e.iconName,j=e.icon;return t6(X({type:"icon"},e),function(){return ka("beforeDOMElementCreation",{iconDefinition:e,params:t}),te.autoA11y&&(f?w["aria-labelledby"]="".concat(te.replacementClass,"-title-").concat(g||V3()):(w["aria-hidden"]="true",w.focusable="false")),Gg({icons:{main:Ug(j),mask:c?Ug(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:N,iconName:k,transform:X(X({},Zs),s),symbol:o,title:f,maskId:u,titleId:g,extra:{attributes:w,styles:R,classes:y}})})}},hoe={mixout:function(){return{icon:uoe(doe)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=wR,t.nodeCallback=loe,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,r=t.callback;return wR(void 0===i?ut:i,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(t,i){var s=i.iconName,r=i.title,o=i.titleId,a=i.prefix,c=i.transform,l=i.symbol,u=i.mask,d=i.maskId,f=i.extra;return new Promise(function(p,g){Promise.all([Wg(s,a),u.iconName?Wg(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(m){var y=wg(m,2);p([t,Gg({icons:{main:y[0],mask:y[1]},prefix:a,iconName:s,transform:c,symbol:l,maskId:d,title:r,titleId:o,extra:f,watchable:!0})])}).catch(g)})},e.generateAbstractIcon=function(t){var l,i=t.children,s=t.attributes,r=t.main,o=t.transform,c=Kd(t.styles);return c.length>0&&(s.style=c),Ng(o)&&(l=Pr("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),i.push(l||r.icon),{children:i,attributes:s}}}},foe={mixout:function(){return{layer:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.classes,r=void 0===s?[]:s;return t6({type:"layer"},function(){ka("beforeDOMElementCreation",{assembler:t,params:i});var o=[];return t(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(te.cssPrefix,"-layers")].concat(A3(r)).join(" ")},children:o}]})}}}},poe={mixout:function(){return{counter:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.title,r=void 0===s?null:s,o=i.classes,a=void 0===o?[]:o,c=i.attributes,l=void 0===c?{}:c,u=i.styles,d=void 0===u?{}:u;return t6({type:"counter",content:t},function(){return ka("beforeDOMElementCreation",{content:t,params:i}),function qre(n){var e=n.content,t=n.title,i=n.extra,s=X(X(X({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),r=Kd(i.styles);r.length>0&&(s.style=r);var o=[];return o.push({tag:"span",attributes:s,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}({content:t.toString(),title:r,extra:{attributes:l,styles:d,classes:["".concat(te.cssPrefix,"-layers-counter")].concat(A3(a))}})})}}}},goe={mixout:function(){return{text:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.transform,r=void 0===s?Zs:s,o=i.title,a=void 0===o?null:o,c=i.classes,l=void 0===c?[]:c,u=i.attributes,d=void 0===u?{}:u,f=i.styles,p=void 0===f?{}:f;return t6({type:"text",content:t},function(){return ka("beforeDOMElementCreation",{content:t,params:i}),dR({content:t,transform:X(X({},Zs),r),title:a,extra:{attributes:d,styles:p,classes:["".concat(te.cssPrefix,"-layers-text")].concat(A3(l))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var s=i.title,r=i.transform,o=i.extra,a=null,c=null;if(GA){var l=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();a=u.width/l,c=u.height/l}return te.autoA11y&&!s&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,dR({content:t.innerHTML,width:a,height:c,transform:r,title:s,extra:o,watchable:!0})])}}},moe=new RegExp('"',"ug"),SR=[1105920,1112319];function MR(n,e){var t="".concat(rre).concat(e.replace(":","-"));return new Promise(function(i,s){if(null!==n.getAttribute(t))return i();var o=F2(n.children).filter(function(j){return j.getAttribute(_g)===e})[0],a=To.getComputedStyle(n,e),c=a.getPropertyValue("font-family").match(ure),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return n.removeChild(o),i();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?wt:dt,p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?N3[f][c[2].toLowerCase()]:dre[f][l],g=function Coe(n){var e=n.replace(moe,""),t=function Lre(n,e){var s,t=n.length,i=n.charCodeAt(e);return i>=55296&&i<=56319&&t>e+1&&(s=n.charCodeAt(e+1))>=56320&&s<=57343?1024*(i-55296)+s-56320+65536:i}(e,0),i=t>=SR[0]&&t<=SR[1],s=2===e.length&&e[0]===e[1];return{value:Ig(s?e[0]:e),isSecondary:i||s}}(d),m=g.value,y=g.isSecondary,M=c[0].startsWith("FontAwesome"),w=Pg(p,m),T=w;if(M){var R=function Pre(n){var e=sR[n],t=Pg("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(m);R.iconName&&R.prefix&&(w=R.iconName,p=R.prefix)}if(!w||y||o&&o.getAttribute(Dg)===p&&o.getAttribute(Ag)===T)i();else{n.setAttribute(t,T),o&&n.removeChild(o);var N=function aoe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Zs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),k=N.extra;k.attributes[_g]=e,Wg(w,p).then(function(j){var ae=Gg(X(X({},N),{},{icons:{main:j,mask:Fg()},prefix:p,iconName:T,extra:k,watchable:!0})),Se=ut.createElement("svg");"::before"===e?n.insertBefore(Se,n.firstChild):n.appendChild(Se),Se.outerHTML=ae.map(function(Je){return P3(Je)}).join("\n"),n.removeAttribute(t),i()}).catch(s)}}else i()})}function voe(n){return Promise.all([MR(n,"::before"),MR(n,"::after")])}function Eoe(n){return!(n.parentNode===document.head||~are.indexOf(n.tagName.toUpperCase())||n.getAttribute(_g)||n.parentNode&&"svg"===n.parentNode.tagName)}function TR(n){if(Ir)return new Promise(function(e,t){var i=F2(n.querySelectorAll("*")).filter(Eoe).map(voe),s=$g.begin("searchPseudoElements");vR(),Promise.all(i).then(function(){s(),Kg(),e()}).catch(function(){s(),Kg(),t()})})}var yoe={hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=TR,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node;te.searchPseudoElements&&TR(void 0===i?ut:i)}}},_R=!1,DR=function(e){return e.toLowerCase().split(" ").reduce(function(i,s){var r=s.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&"h"===a)return i.flipX=!0,i;if(o&&"v"===a)return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},woe={mixout:function(){return{parse:{transform:function(t){return DR(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var s=i.getAttribute("data-fa-transform");return s&&(t.transform=DR(s)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,s=t.transform,o=t.iconWidth,a={transform:"translate(".concat(t.containerWidth/2," 256)")},c="translate(".concat(32*s.x,", ").concat(32*s.y,") "),l="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),u="rotate(".concat(s.rotate," 0 0)"),p={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:X({},p.outer),children:[{tag:"g",attributes:X({},p.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:X(X({},i.icon.attributes),p.path)}]}]}}}},Yg={x:0,y:0,width:"100%",height:"100%"};function AR(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function Soe(n){return"g"===n.tag?n.children:[n]}var Moe={hooks:function(){return{parseNodeAttributes:function(t,i){var s=i.getAttribute("data-fa-mask"),r=s?e6(s.split(" ").map(function(o){return o.trim()})):Fg();return r.prefix||(r.prefix=Do()),t.mask=r,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var i=t.children,s=t.attributes,r=t.main,o=t.mask,a=t.maskId,u=r.icon,f=o.icon,p=function wre(n){var e=n.transform,i=n.iconWidth,s={transform:"translate(".concat(n.containerWidth/2," 256)")},r="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:s,inner:{transform:"".concat(r," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:t.transform,containerWidth:o.width,iconWidth:r.width}),g={tag:"rect",attributes:X(X({},Yg),{},{fill:"white"})},m=u.children?{children:u.children.map(AR)}:{},y={tag:"g",attributes:X({},p.inner),children:[AR(X({tag:u.tag,attributes:X(X({},u.attributes),p.path)},m))]},M={tag:"g",attributes:X({},p.outer),children:[y]},w="mask-".concat(a||V3()),T="clip-".concat(a||V3()),R={tag:"mask",attributes:X(X({},Yg),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,M]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:T},children:Soe(f)},R]};return i.push(N,{tag:"rect",attributes:X({fill:"currentColor","clip-path":"url(#".concat(T,")"),mask:"url(#".concat(w,")")},Yg)}),{children:i,attributes:s}}}},Toe={provides:function(e){var t=!1;To.matchMedia&&(t=To.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],s={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:X(X({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=X(X({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:X(X({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:X(X({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:X(X({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:X(X({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:X(X({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:X(X({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:X(X({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}};!function kre(n,e){var t=e.mixoutsTo;lR=n,k2={},Object.keys(G2).forEach(function(i){-1===zre.indexOf(i)&&delete G2[i]}),lR.forEach(function(i){var s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(function(o){"function"==typeof s[o]&&(t[o]=s[o]),"object"===kd(s[o])&&Object.keys(s[o]).forEach(function(a){t[o]||(t[o]={}),t[o][a]=s[o][a]})}),i.hooks){var r=i.hooks();Object.keys(r).forEach(function(o){k2[o]||(k2[o]=[]),k2[o].push(r[o])})}i.provides&&i.provides(G2)})}([Tre,hoe,foe,poe,goe,yoe,{mixout:function(){return{dom:{unwatch:function(){vR(),_R=!0}}}},hooks:function(){return{bootstrap:function(){ER(zg("mutationObserverCallbacks",{}))},noAuto:function(){!function ioe(){s6&&s6.disconnect()}()},watch:function(t){var i=t.observeMutationsRoot;_R?Kg():ER(zg("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},woe,Moe,Toe,{hooks:function(){return{parseNodeAttributes:function(t,i){var s=i.getAttribute("data-fa-symbol");return t.symbol=null!==s&&(""===s||s),t}}}}],{mixoutsTo:wi});var Aoe=wi.parse,Roe=wi.icon;const Loe=["*"],xoe=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let Voe=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Poe=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...t){for(const i of t){const s=Object.keys(i).map(r=>i[r]);this.addIcons(...s)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Foe=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=de({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[ii]}),n})(),zoe=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(P(Zr),P(dn))},n.\u0275cmp=$r({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[ii],ngContentSelectors:Loe,decls:1,vars:0,template:function(t,i){1&t&&(U8(),W8(0))},encapsulation:2}),n})(),RR=(()=>{class n{set spin(t){this.animation=t?"spin":void 0}set pulse(t){this.animation=t?"spin-pulse":void 0}constructor(t,i,s,r,o){this.sanitizer=t,this.config=i,this.iconLibrary=s,this.stackItem=r,this.classes=[],null!=o&&null==r&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null!=this.icon||null!=this.config.fallbackIcon){if(t){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const r=this.buildParams();this.renderIcon(s,r)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(t){const i=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:e,iconName:n}:{prefix:n[0],iconName:n[1]})(t,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?Aoe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...xoe(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,i){const s=Roe(t,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(P(PT),P(Voe),P(Poe),P(Foe,8),P(zoe,8))},n.\u0275cmp=$r({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,i){2&t&&(Ku("innerHTML",i.renderedIconHTML,Hy),ci("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[ii],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),koe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({}),n})();const{isArray:Goe}=Array,{getPrototypeOf:Boe,prototype:Uoe,keys:Woe}=Object;function LR(n){if(1===n.length){const e=n[0];if(Goe(e))return{args:e,keys:null};if(function joe(n){return n&&"object"==typeof n&&Boe(n)===Uoe}(e)){const t=Woe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:$oe}=Array;function NR(n){return sr(e=>function qoe(n,e){return $oe(e)?n(...e):n(e)}(n,e))}function HR(n,e){return n.reduce((t,i,s)=>(t[i]=e[s],t),{})}let xR=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(P(Zr),P(dn))},n.\u0275dir=de({type:n}),n})(),Ga=(()=>{class n extends xR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=de({type:n,features:[Ge]}),n})();const ms=new Y("NgValueAccessor"),Qoe={provide:ms,useExisting:Xe(()=>r6),multi:!0},Zoe=new Y("CompositionEventMode");let r6=(()=>{class n extends xR{constructor(t,i,s){super(t,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xoe(){const n=nl()?nl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(P(Zr),P(dn),P(Zoe,8))},n.\u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Ct("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[nt([Qoe]),Ge]}),n})();const tn=new Y("NgValidators"),Lo=new Y("NgAsyncValidators");function WR(n){return null!=n}function jR(n){return ju(n)?Wo(n):n}function $R(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function qR(n,e){return e.map(t=>t(n))}function KR(n){return n.map(e=>function eae(n){return!n.validate}(e)?e:t=>e.validate(t))}function Qg(n){return null!=n?function YR(n){if(!n)return null;const e=n.filter(WR);return 0==e.length?null:function(t){return $R(qR(t,e))}}(KR(n)):null}function Xg(n){return null!=n?function QR(n){if(!n)return null;const e=n.filter(WR);return 0==e.length?null:function(t){return function Koe(...n){const e=fv(n),{args:t,keys:i}=LR(n),s=new kt(r=>{const{length:o}=t;if(!o)return void r.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;Xi(t[u]).subscribe(Jn(r,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||r.next(i?HR(i,a):a),r.complete())}))}});return e?s.pipe(NR(e)):s}(qR(t,e).map(jR)).pipe(sr($R))}}(KR(n)):null}function XR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zg(n){return n?Array.isArray(n)?n:[n]:[]}function a6(n,e){return Array.isArray(n)?n.includes(e):n===e}function eL(n,e){const t=Zg(e);return Zg(n).forEach(s=>{a6(t,s)||t.push(s)}),t}function tL(n,e){return Zg(e).filter(t=>!a6(n,t))}class nL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Rn extends nL{get formDirective(){return null}get path(){return null}}class No extends nL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class iL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let sL=(()=>{class n extends iL{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(P(No,2))},n.\u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&vr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ge]}),n})();const z3="VALID",l6="INVALID",B2="PENDING",k3="DISABLED";function u6(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class cL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===z3}get invalid(){return this.status===l6}get pending(){return this.status==B2}get disabled(){return this.status===k3}get enabled(){return this.status!==k3}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tL(e,this._rawAsyncValidators))}hasValidator(e){return a6(this._rawValidators,e)}hasAsyncValidator(e){return a6(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=B2,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=k3,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=z3,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===z3||this.status===B2)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?k3:z3}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=B2,this._hasOwnPendingAsyncValidator=!0;const t=jR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,s)=>i&&i._find(s),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new G,this.statusChanges=new G}_calculateStatus(){return this._allControlsDisabled()?k3:this.errors?l6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(B2)?B2:this._anyControlsHaveStatus(l6)?l6:z3}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){u6(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function rae(n){return Array.isArray(n)?Qg(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function oae(n){return Array.isArray(n)?Xg(n):n||null}(this._rawAsyncValidators)}}const U2=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>d6}),d6="always";function G3(n,e,t=d6){(function sm(n,e){const t=function ZR(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(XR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function JR(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(XR(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();p6(e._rawValidators,s),p6(e._rawAsyncValidators,s)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function lae(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lL(n,e)})}(n,e),function dae(n,e){const t=(i,s)=>{e.valueAccessor.writeValue(i),s&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function uae(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function cae(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function p6(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function fL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const pL=class extends cL{constructor(e=null,t,i){super(function tm(n){return(u6(n)?n.validators:n)||null}(t),function nm(n,e){return(u6(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),u6(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=fL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){fL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Eae={provide:No,useExisting:Xe(()=>lm)},CL=(()=>Promise.resolve())();let lm=(()=>{class n extends No{constructor(t,i,s,r,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new pL,this._registered=!1,this.name="",this.update=new G,this._parent=t,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function am(n,e){if(!e)return null;let t,i,s;return Array.isArray(e),e.forEach(r=>{r.constructor===r6?t=r:function pae(n){return Object.getPrototypeOf(n.constructor)===Ga}(r)?i=r:s=r}),s||i||t||null}(0,r)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function om(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){G3(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){CL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,s=0!==i&&function P5(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(i);CL.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function h6(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(P(Rn,9),P(tn,10),P(Lo,10),P(ms,10),P(L5,8),P(U2,8))},n.\u0275dir=de({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nt([Eae]),Ge,ii]}),n})(),EL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({}),n})();const Lae={provide:ms,useExisting:Xe(()=>fm),multi:!0};function _L(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let fm=(()=>{class n extends Ga{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=_L(this._getOptionId(t),t);this.setProperty("value",s)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function Nae(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&Ct("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([Lae]),Ge]}),n})(),DL=(()=>{class n{constructor(t,i,s){this._element=t,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(_L(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(P(dn),P(Zr),P(fm,9))},n.\u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Hae={provide:ms,useExisting:Xe(()=>pm),multi:!0};function AL(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let pm=(()=>{class n extends Ga{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const s=t.map(r=>this._getOptionId(r));i=(r,o)=>{r._setSelected(s.indexOf(o.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const s=[],r=i.selectedOptions;if(void 0!==r){const o=r;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);s.push(l)}}else{const o=i.options;for(let a=0;a<o.length;a++){const c=o[a];if(c.selected){const l=this._getOptionValue(c.value);s.push(l)}}}this.value=s,t(s)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function xae(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&Ct("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([Hae]),Ge]}),n})(),RL=(()=>{class n{constructor(t,i,s){this._element=t,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(AL(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(AL(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(P(dn),P(Zr),P(pm,9))},n.\u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Bae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({imports:[EL]}),n})(),Wae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:U2,useValue:t.callSetDisabledState??d6}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({imports:[Bae]}),n})();class FL{}class jae{}const Fr="*";function zL(n,e=null){return{type:2,steps:n,options:e}}function kL(n){return{type:6,styles:n,offset:null}}class U3{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class GL{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,s=0;const r=this.players.length;0==r?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(s)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function BL(n){return new O(3e3,!1)}function Ho(n){switch(n.length){case 0:return new U3;case 1:return n[0];default:return new GL(n)}}function UL(n,e,t=new Map,i=new Map){const s=[],r=[];let o=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==o,d=u&&a||new Map;c.forEach((f,p)=>{let g=p,m=f;if("offset"!==p)switch(g=n.normalizePropertyName(g,s),m){case"!":m=t.get(p);break;case Fr:m=i.get(p);break;default:m=n.normalizeStyleValue(p,g,m,s)}d.set(g,m)}),u||r.push(d),a=d,o=l}),s.length)throw function p1e(n){return new O(3502,!1)}();return r}function vm(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Em(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Em(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Em(t,"destroy",n)))}}function Em(n,e,t){const r=ym(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(r._data=o),r}function ym(n,e,t,i,s="",r=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function Si(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function WL(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const _1e=(()=>typeof document>"u"?null:document.documentElement)();function bm(n){const e=n.parentNode||n.host||null;return e===_1e?null:e}let Ua=null,jL=!1;function $L(n,e){for(;e;){if(e===n)return!0;e=bm(e)}return!1}function qL(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let KL=(()=>{class n{validateStyleProperty(t){return function A1e(n){Ua||(Ua=function R1e(){return typeof document<"u"?document.body:null}()||{},jL=!!Ua.style&&"WebkitAppearance"in Ua.style);let e=!0;return Ua.style&&!function D1e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ua.style,!e&&jL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ua.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return $L(t,i)}getParentElement(t){return bm(t)}query(t,i,s){return qL(t,i,s)}computeStyle(t,i,s){return s||""}animate(t,i,s,r,o,a=[],c){return new U3(s,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),wm=(()=>{class n{}return n.NOOP=new KL,n})();const L1e=1e3,Sm="ng-enter",m6="ng-leave",C6="ng-trigger",v6=".ng-trigger",QL="ng-animating",Mm=".ng-animating";function zr(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Tm(parseFloat(e[1]),e[2])}function Tm(n,e){return"s"===e?n*L1e:n}function E6(n,e,t){return n.hasOwnProperty("duration")?n:function H1e(n,e,t){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(BL()),{duration:0,delay:0,easing:""};s=Tm(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(r=Tm(parseFloat(c),a[4]));const l=a[5];l&&(o=l)}else s=n;if(!t){let a=!1,c=e.length;s<0&&(e.push(function $ae(){return new O(3100,!1)}()),a=!0),r<0&&(e.push(function qae(){return new O(3101,!1)}()),a=!0),a&&e.splice(c,0,BL())}return{duration:s,delay:r,easing:o}}(n,e,t)}function W3(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function XL(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function xo(n,e=new Map,t){if(t)for(let[i,s]of t)e.set(i,s);for(let[i,s]of n)e.set(i,s);return e}function Js(n,e,t){e.forEach((i,s)=>{const r=Dm(s);t&&!t.has(s)&&t.set(s,n.style[r]),n.style[r]=i})}function Wa(n,e){e.forEach((t,i)=>{const s=Dm(i);n.style[s]=""})}function j3(n){return Array.isArray(n)?1==n.length?n[0]:zL(n):n}const _m=new RegExp("{{\\s*(.+?)\\s*}}","g");function JL(n){let e=[];if("string"==typeof n){let t;for(;t=_m.exec(n);)e.push(t[1]);_m.lastIndex=0}return e}function $3(n,e,t){const i=n.toString(),s=i.replace(_m,(r,o)=>{let a=e[o];return null==a&&(t.push(function Yae(n){return new O(3003,!1)}()),a=""),a.toString()});return s==i?n:s}function y6(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const O1e=/-+([a-z0-9])/g;function Dm(n){return n.replace(O1e,(...e)=>e[1].toUpperCase())}function Mi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Qae(n){return new O(3004,!1)}()}}function eN(n,e){return window.getComputedStyle(n)[e]}const b6="*";function F1e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function z1e(n,e,t){if(":"==n[0]){const c=function k1e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function u1e(n){return new O(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function l1e(n){return new O(3015,!1)}()),e;const s=i[1],r=i[2],o=i[3];e.push(tN(s,o));"<"==r[0]&&!(s==b6&&o==b6)&&e.push(tN(o,s))}(i,t,e)):t.push(n),t}const w6=new Set(["true","1"]),S6=new Set(["false","0"]);function tN(n,e){const t=w6.has(n)||S6.has(n),i=w6.has(e)||S6.has(e);return(s,r)=>{let o=n==b6||n==s,a=e==b6||e==r;return!o&&t&&"boolean"==typeof s&&(o=s?w6.has(n):S6.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?w6.has(e):S6.has(e)),o&&a}}const G1e=new RegExp("s*:selfs*,?","g");function Am(n,e,t,i){return new B1e(n).build(e,t,i)}class B1e{constructor(e){this._driver=e}build(e,t,i){const s=new j1e(t);return this._resetContextStyleTimingState(s),Mi(this,j3(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,s=t.depCount=0;const r=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Zae(){return new O(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,r.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,s+=c.depCount,o.push(c)}else t.errors.push(function Jae(){return new O(3007,!1)}())}),{type:7,name:e.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{JL(c).forEach(l=>{o.hasOwnProperty(l)||r.add(l)})})}),r.size&&(y6(r.values()),t.errors.push(function e1e(n,e){return new O(3008,!1)}()))}return{type:0,name:e.name,style:i,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Mi(this,j3(e.animation),t);return{type:1,matchers:F1e(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ja(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Mi(this,i,t)),options:ja(e.options)}}visitGroup(e,t){const i=t.currentTime;let s=0;const r=e.steps.map(o=>{t.currentTime=i;const a=Mi(this,o,t);return s=Math.max(s,t.currentTime),a});return t.currentTime=s,{type:3,steps:r,options:ja(e.options)}}visitAnimate(e,t){const i=function q1e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Rm(E6(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=Rm(0,0,"");return r.dynamic=!0,r.strValue=t,r}const s=E6(t,e);return Rm(s.duration,s.delay,s.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let s,r=e.styles?e.styles:kL({});if(5==r.type)s=this.visitKeyframes(r,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};i.easing&&(l.easing=i.easing),o=kL(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,s=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of s)"string"==typeof a?a===Fr?i.push(a):t.errors.push(new O(3002,!1)):i.push(XL(a));let r=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r))for(let c of a.values())if(c.toString().indexOf("{{")>=0){r=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let s=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(r!=s&&r>=u.startTime&&s<=u.endTime&&(t.errors.push(function n1e(n,e,t,i,s){return new O(3010,!1)}()),d=!1),r=u.startTime),d&&l.set(c,{startTime:r,endTime:s}),t.options&&function I1e(n,e,t){const i=e.params||{},s=JL(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||t.push(function Kae(n){return new O(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function i1e(){return new O(3011,!1)}()),i;let r=0;const o=[];let a=!1,c=!1,l=0;const u=e.steps.map(M=>{const w=this._makeStyleAst(M,t);let T=null!=w.offset?w.offset:function $1e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(w.styles),R=0;return null!=T&&(r++,R=w.offset=T),c=c||R<0||R>1,a=a||R<l,l=R,o.push(R),w});c&&t.errors.push(function s1e(){return new O(3012,!1)}()),a&&t.errors.push(function r1e(){return new O(3200,!1)}());const d=e.steps.length;let f=0;r>0&&r<d?t.errors.push(function o1e(){return new O(3202,!1)}()):0==r&&(f=1/(d-1));const p=d-1,g=t.currentTime,m=t.currentAnimateTimings,y=m.duration;return u.forEach((M,w)=>{const T=f>0?w==p?1:f*w:o[w],R=T*y;t.currentTime=g+m.delay+R,m.duration=R,this._validateStyleAst(M,t),M.offset=T,i.styles.push(M)}),i}visitReference(e,t){return{type:8,animation:Mi(this,j3(e.animation),t),options:ja(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ja(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ja(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[r,o]=function U1e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(G1e,"")),n=n.replace(/@\*/g,v6).replace(/@\w+/g,t=>v6+"-"+t.slice(1)).replace(/:animating/g,Mm),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,Si(t.collectedStyles,t.currentQuerySelector,new Map);const a=Mi(this,j3(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ja(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function a1e(){return new O(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:E6(e.timings,t.errors,!0);return{type:12,animation:Mi(this,j3(e.animation),t),timings:i,options:null}}}class j1e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ja(n){return n?(n=W3(n)).params&&(n.params=function W1e(n){return n?W3(n):null}(n.params)):n={},n}function Rm(n,e,t){return{duration:n,delay:e,easing:t}}function Lm(n,e,t,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class M6{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Q1e=new RegExp(":enter","g"),Z1e=new RegExp(":leave","g");function Nm(n,e,t,i,s,r=new Map,o=new Map,a,c,l=[]){return(new J1e).buildKeyframes(n,e,t,i,s,r,o,a,c,l)}class J1e{buildKeyframes(e,t,i,s,r,o,a,c,l,u=[]){l=l||new M6;const d=new Hm(e,t,l,s,r,u,[]);d.options=c;const f=c.delay?zr(c.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,c),Mi(this,i,d);const p=d.timelines.filter(g=>g.containsAnimation());if(p.length&&a.size){let g;for(let m=p.length-1;m>=0;m--){const y=p[m];if(y.element===t){g=y;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,d.errors,c)}return p.length?p.map(g=>g.buildKeyframes()):[Lm(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const s=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const s of e){const r=s?.delay;if(r){const o="number"==typeof r?r:zr($3(r,s?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let r=t.currentTimeline.currentTime;const o=null!=i.duration?zr(i.duration):null,a=null!=i.delay?zr(i.delay):null;return 0!==o&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,o,a);r=Math.max(r,l.duration+l.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),Mi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let s=t;const r=e.options;if(r&&(r.params||r.delay)&&(s=t.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=T6);const o=zr(r.delay);s.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Mi(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let s=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?zr(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);r&&a.delayNextStep(r),Mi(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return E6(t.params?$3(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),s.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,s=t.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();const r=s&&s.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,s=t.currentTimeline.duration,r=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*r),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(s+r),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,s=e.options||{},r=s.delay?zr(s.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=T6);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);r&&d.delayNextStep(r),l===t.element&&(c=d.currentTimeline),Mi(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,s=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;Mi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=s.currentTime-d+(s.startTime-i.currentTimeline.startTime)}}const T6={};class Hm{constructor(e,t,i,s,r,o,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=T6,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new _6(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let s=this.options;null!=i.duration&&(s.duration=zr(i.duration)),null!=i.delay&&(s.delay=zr(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=$3(r[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(s=>{i[s]=t[s]})}}return e}createSubContext(e=null,t,i){const s=t||this.element,r=new Hm(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=T6,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},r=new e2e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,s,r,o){let a=[];if(s&&a.push(this.element),e.length>0){e=(e=e.replace(Q1e,"."+this._enterClassName)).replace(Z1e,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!r&&0==a.length&&o.push(function c1e(n){return new O(3014,!1)}()),a}}class _6{constructor(e,t,i,s){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new _6(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Fr),this._currentKeyframe.set(t,Fr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,s){t&&this._previousKeyframe.set("easing",t);const r=s&&s.params||{},o=function t2e(n,e){const t=new Map;let i;return n.forEach(s=>{if("*"===s){i=i||e.keys();for(let r of i)t.set(r,Fr)}else xo(s,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const l=$3(c,r,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Fr),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const s=this._styleSummary.get(i);(!s||t.time>s.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,c)=>{const l=xo(a,new Map,this._backFill);l.forEach((u,d)=>{"!"===u?e.add(d):u===Fr&&t.add(d)}),i||l.set("offset",c/this.duration),s.push(l)});const r=e.size?y6(e.values()):[],o=t.size?y6(t.values()):[];if(i){const a=s[0],c=new Map(a);a.set("offset",0),c.set("offset",1),s=[a,c]}return Lm(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class e2e extends _6{constructor(e,t,i,s,r,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],o=i+t,a=t/o,c=xo(e[0]);c.set("offset",0),r.push(c);const l=xo(e[0]);l.set("offset",sN(a)),r.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let f=xo(e[d]);const p=f.get("offset");f.set("offset",sN((t+p*i)/o)),r.push(f)}i=o,t=0,s="",e=r}return Lm(this.element,e,this.preStyleProps,this.postStyleProps,i,t,s,!0)}}function sN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class xm{}const n2e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class i2e extends xm{normalizePropertyName(e,t){return Dm(e)}normalizeStyleValue(e,t,i,s){let r="";const o=i.toString().trim();if(n2e.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(function Xae(n,e){return new O(3005,!1)}())}return o+r}}function rN(n,e,t,i,s,r,o,a,c,l,u,d,f){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:f}}const Im={};class oN{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,s){return function s2e(n,e,t,i,s){return n.some(r=>r(e,t,i,s))}(this.ast.matchers,e,t,i,s)}buildStyles(e,t,i){let s=this._stateStyles.get("*");return void 0!==e&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,i):new Map}build(e,t,i,s,r,o,a,c,l,u){const d=[],f=this.ast.options&&this.ast.options.params||Im,g=this.buildStyles(i,a&&a.params||Im,d),m=c&&c.params||Im,y=this.buildStyles(s,m,d),M=new Set,w=new Map,T=new Map,R="void"===s,N={params:r2e(m,f),delay:this.ast.options?.delay},k=u?[]:Nm(e,t,this.ast.animation,r,o,g,y,N,l,d);let j=0;if(k.forEach(Se=>{j=Math.max(Se.duration+Se.delay,j)}),d.length)return rN(t,this._triggerName,i,s,R,g,y,[],[],w,T,j,d);k.forEach(Se=>{const Je=Se.element,Qn=Si(w,Je,new Set);Se.preStyleProps.forEach(Xn=>Qn.add(Xn));const rn=Si(T,Je,new Set);Se.postStyleProps.forEach(Xn=>rn.add(Xn)),Je!==t&&M.add(Je)});const ae=y6(M.values());return rN(t,this._triggerName,i,s,R,g,y,k,ae,w,T,j)}}function r2e(n,e){const t=W3(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class o2e{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,s=W3(this.defaultParams);return Object.keys(e).forEach(r=>{const o=e[r];null!==o&&(s[r]=o)}),this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((o,a)=>{o&&(o=$3(o,s,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),i.set(a,o)})}),i}}class c2e{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new o2e(s.style,s.options&&s.options.params||{},i))}),aN(this.states,"true","1"),aN(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new oN(e,s,this.states))}),this.fallbackTransition=function l2e(n,e,t){return new oN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,s){return this.transitionFactories.find(o=>o.match(e,t,i,s))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function aN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const u2e=new M6;class d2e{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=Am(this._driver,t,i,[]);if(i.length)throw function g1e(n){return new O(3503,!1)}();this._animations.set(e,r)}_buildPlayer(e,t,i){const s=e.element,r=UL(this._normalizer,e.keyframes,t,i);return this._driver.animate(s,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const s=[],r=this._animations.get(e);let o;const a=new Map;if(r?(o=Nm(this._driver,t,r,Sm,m6,new Map,new Map,i,u2e,s),o.forEach(u=>{const d=Si(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(s.push(function m1e(){return new O(3300,!1)}()),o=[]),s.length)throw function C1e(n){return new O(3504,!1)}();a.forEach((u,d)=>{u.forEach((f,p)=>{u.set(p,this._driver.computeStyle(d,p,Fr))})});const l=Ho(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function v1e(n){return new O(3301,!1)}();return t}listen(e,t,i,s){const r=ym(t,"","","");return vm(this._getPlayer(e),i,r,s),()=>{}}command(e,t,i,s){if("register"==i)return void this.register(e,s[0]);if("create"==i)return void this.create(e,t,s[0]||{});const r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const cN="ng-animate-queued",Om="ng-animate-disabled",m2e=[],lN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},C2e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cs="__ng_removed";class Vm{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function b2e(n){return n??null}(i?e.value:e),i){const r=W3(e);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(s=>{null==i[s]&&(i[s]=t[s])})}}}const q3="void",Pm=new Vm(q3);class v2e{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qi(t,this._hostClassName)}listen(e,t,i,s){if(!this._triggers.has(t))throw function E1e(n,e){return new O(3302,!1)}();if(null==i||0==i.length)throw function y1e(n){return new O(3303,!1)}();if(!function w2e(n){return"start"==n||"done"==n}(i))throw function b1e(n,e){return new O(3400,!1)}();const r=Si(this._elementListeners,e,[]),o={name:t,phase:i,callback:s};r.push(o);const a=Si(this._engine.statesByElement,e,new Map);return a.has(t)||(qi(e,C6),qi(e,C6+"-"+t),a.set(t,Pm)),()=>{this._engine.afterFlush(()=>{const c=r.indexOf(o);c>=0&&r.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function w1e(n){return new O(3401,!1)}();return t}trigger(e,t,i,s=!0){const r=this._getTrigger(t),o=new Fm(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(qi(e,C6),qi(e,C6+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new Vm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=Pm),l.value!==q3&&c.value===l.value){if(!function T2e(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let s=0;s<t.length;s++){const r=t[s];if(!e.hasOwnProperty(r)||n[r]!==e[r])return!1}return!0}(c.params,l.params)){const m=[],y=r.matchStyles(c.value,c.params,m),M=r.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Wa(e,y),Js(e,M)})}return}const f=Si(this._engine.playersByElement,e,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let p=r.matchTransition(c.value,l.value,e,l.params),g=!1;if(!p){if(!s)return;p=r.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:c,toState:l,player:o,isFallbackTransition:g}),g||(qi(e,cN),o.onStart(()=>{W2(e,cN)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const y=this._engine.playersByElement.get(e);if(y){let M=y.indexOf(o);M>=0&&y.splice(M,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,v6,!0);i.forEach(s=>{if(s[Cs])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,i,s){const r=this._engine.statesByElement.get(e),o=new Map;if(r){const a=[];if(r.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,q3,s);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Ho(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const s=new Set;t.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const c=this._triggers.get(o).fallbackTransition,l=i.get(o)||Pm,u=new Vm(q3),d=new Fm(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(e):[];if(r&&r.length)s=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)i.markElementAsRemoved(this.id,e,!1,t);else{const r=e[Cs];(!r||r===lN)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){qi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const c=ym(r,i.triggerName,i.fromState.value,i.toState.value);c._data=e,vm(i.player,a.phase,c,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(i)}),this._queue=[],t.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class E2e{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new v2e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=s.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return s.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let s=this._namespaceLookup[e];s&&s.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let s of i.values())if(s.namespaceId){const r=this._fetchNamespace(s.namespaceId);r&&t.add(r)}return t}trigger(e,t,i,s){if(D6(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,i,s),!0}return!1}insertNode(e,t,i,s){if(!D6(t))return;const r=t[Cs];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qi(e,Om)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),W2(e,Om))}removeNode(e,t,i){if(D6(t)){const s=e?this._fetchNamespace(e):null;s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,s,r){this.collectedLeaveElements.push(t),t[Cs]={namespaceId:e,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,i,s,r){return D6(t)?this._fetchNamespace(e).listen(t,i,s,r):()=>{}}_buildInstruction(e,t,i,s,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,s,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,v6,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Mm,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ho(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Cs];if(t&&t.setForRemoval){if(e[Cs]=lN,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Om)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)qi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ho(t).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(e){throw function S1e(n){return new O(3402,!1)}()}_flushAnimations(e,t){const i=new M6,s=[],r=new Map,o=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(ee=>{u.add(ee);const se=this.driver.query(ee,".ng-animate-queued",!0);for(let ue=0;ue<se.length;ue++)u.add(se[ue])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=hN(f,this.collectedEnterElements),g=new Map;let m=0;p.forEach((ee,se)=>{const ue=Sm+m++;g.set(se,ue),ee.forEach(ze=>qi(ze,ue))});const y=[],M=new Set,w=new Set;for(let ee=0;ee<this.collectedLeaveElements.length;ee++){const se=this.collectedLeaveElements[ee],ue=se[Cs];ue&&ue.setForRemoval&&(y.push(se),M.add(se),ue.hasAnimation?this.driver.query(se,".ng-star-inserted",!0).forEach(ze=>M.add(ze)):w.add(se))}const T=new Map,R=hN(f,Array.from(M));R.forEach((ee,se)=>{const ue=m6+m++;T.set(se,ue),ee.forEach(ze=>qi(ze,ue))}),e.push(()=>{p.forEach((ee,se)=>{const ue=g.get(se);ee.forEach(ze=>W2(ze,ue))}),R.forEach((ee,se)=>{const ue=T.get(se);ee.forEach(ze=>W2(ze,ue))}),y.forEach(ee=>{this.processLeaveNode(ee)})});const N=[],k=[];for(let ee=this._namespaceList.length-1;ee>=0;ee--)this._namespaceList[ee].drainQueuedTransitions(t).forEach(ue=>{const ze=ue.player,Yt=ue.element;if(N.push(ze),this.collectedEnterElements.length){const En=Yt[Cs];if(En&&En.setForMove){if(En.previousTriggersValues&&En.previousTriggersValues.has(ue.triggerName)){const t1=En.previousTriggersValues.get(ue.triggerName),Yi=this.statesByElement.get(ue.element);if(Yi&&Yi.has(ue.triggerName)){const _h=Yi.get(ue.triggerName);_h.value=t1,Yi.set(ue.triggerName,_h)}}return void ze.destroy()}}const ir=!d||!this.driver.containsElement(d,Yt),_i=T.get(Yt),zo=g.get(Yt),yt=this._buildInstruction(ue,i,zo,_i,ir);if(yt.errors&&yt.errors.length)return void k.push(yt);if(ir)return ze.onStart(()=>Wa(Yt,yt.fromStyles)),ze.onDestroy(()=>Js(Yt,yt.toStyles)),void s.push(ze);if(ue.isFallbackTransition)return ze.onStart(()=>Wa(Yt,yt.fromStyles)),ze.onDestroy(()=>Js(Yt,yt.toStyles)),void s.push(ze);const _G=[];yt.timelines.forEach(En=>{En.stretchStartingKeyframe=!0,this.disabledNodes.has(En.element)||_G.push(En)}),yt.timelines=_G,i.append(Yt,yt.timelines),o.push({instruction:yt,player:ze,element:Yt}),yt.queriedElements.forEach(En=>Si(a,En,[]).push(ze)),yt.preStyleProps.forEach((En,t1)=>{if(En.size){let Yi=c.get(t1);Yi||c.set(t1,Yi=new Set),En.forEach((_h,UC)=>Yi.add(UC))}}),yt.postStyleProps.forEach((En,t1)=>{let Yi=l.get(t1);Yi||l.set(t1,Yi=new Set),En.forEach((_h,UC)=>Yi.add(UC))})});if(k.length){const ee=[];k.forEach(se=>{ee.push(function M1e(n,e){return new O(3505,!1)}())}),N.forEach(se=>se.destroy()),this.reportError(ee)}const j=new Map,ae=new Map;o.forEach(ee=>{const se=ee.element;i.has(se)&&(ae.set(se,se),this._beforeAnimationBuild(ee.player.namespaceId,ee.instruction,j))}),s.forEach(ee=>{const se=ee.element;this._getPreviousPlayers(se,!1,ee.namespaceId,ee.triggerName,null).forEach(ze=>{Si(j,se,[]).push(ze),ze.destroy()})});const Se=y.filter(ee=>pN(ee,c,l)),Je=new Map;dN(Je,this.driver,w,l,Fr).forEach(ee=>{pN(ee,c,l)&&Se.push(ee)});const rn=new Map;p.forEach((ee,se)=>{dN(rn,this.driver,new Set(ee),c,"!")}),Se.forEach(ee=>{const se=Je.get(ee),ue=rn.get(ee);Je.set(ee,new Map([...se?.entries()??[],...ue?.entries()??[]]))});const Xn=[],Ti=[],T4={};o.forEach(ee=>{const{element:se,player:ue,instruction:ze}=ee;if(i.has(se)){if(u.has(se))return ue.onDestroy(()=>Js(se,ze.toStyles)),ue.disabled=!0,ue.overrideTotalTime(ze.totalTime),void s.push(ue);let Yt=T4;if(ae.size>1){let _i=se;const zo=[];for(;_i=_i.parentNode;){const yt=ae.get(_i);if(yt){Yt=yt;break}zo.push(_i)}zo.forEach(yt=>ae.set(yt,Yt))}const ir=this._buildAnimation(ue.namespaceId,ze,j,r,rn,Je);if(ue.setRealPlayer(ir),Yt===T4)Xn.push(ue);else{const _i=this.playersByElement.get(Yt);_i&&_i.length&&(ue.parentPlayer=Ho(_i)),s.push(ue)}}else Wa(se,ze.fromStyles),ue.onDestroy(()=>Js(se,ze.toStyles)),Ti.push(ue),u.has(se)&&s.push(ue)}),Ti.forEach(ee=>{const se=r.get(ee.element);if(se&&se.length){const ue=Ho(se);ee.setRealPlayer(ue)}}),s.forEach(ee=>{ee.parentPlayer?ee.syncPlayerEvents(ee.parentPlayer):ee.destroy()});for(let ee=0;ee<y.length;ee++){const se=y[ee],ue=se[Cs];if(W2(se,m6),ue&&ue.hasAnimation)continue;let ze=[];if(a.size){let ir=a.get(se);ir&&ir.length&&ze.push(...ir);let _i=this.driver.query(se,Mm,!0);for(let zo=0;zo<_i.length;zo++){let yt=a.get(_i[zo]);yt&&yt.length&&ze.push(...yt)}}const Yt=ze.filter(ir=>!ir.destroyed);Yt.length?S2e(this,se,Yt):this.processLeaveNode(se)}return y.length=0,Xn.forEach(ee=>{this.players.push(ee),ee.onDone(()=>{ee.destroy();const se=this.players.indexOf(ee);this.players.splice(se,1)}),ee.play()}),Xn}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,s,r){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!r||r==q3;a.forEach(l=>{l.queued||!c&&l.triggerName!=s||o.push(l)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const r=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==r,d=Si(i,l,[]);this._getPreviousPlayers(l,u,o,a,t.toState).forEach(p=>{const g=p.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),p.destroy(),d.push(p)})}Wa(r,t.fromStyles)}_buildAnimation(e,t,i,s,r,o){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,f=t.timelines.map(g=>{const m=g.element;u.add(m);const y=m[Cs];if(y&&y.removedBeforeQueried)return new U3(g.duration,g.delay);const M=m!==c,w=function M2e(n){const e=[];return fN(n,e),e}((i.get(m)||m2e).map(j=>j.getRealPlayer())).filter(j=>!!j.element&&j.element===m),T=r.get(m),R=o.get(m),N=UL(this._normalizer,g.keyframes,T,R),k=this._buildPlayer(g,N,w);if(g.subTimeline&&s&&d.add(m),M){const j=new Fm(e,a,m);j.setRealPlayer(k),l.push(j)}return k});l.forEach(g=>{Si(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function y2e(n,e,t){let i=n.get(e);if(i){if(i.length){const s=i.indexOf(t);i.splice(s,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>qi(g,QL));const p=Ho(f);return p.onDestroy(()=>{u.forEach(g=>W2(g,QL)),Js(c,t.toStyles)}),d.forEach(g=>{Si(s,g,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new U3(e.duration,e.delay)}}class Fm{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new U3,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(s=>vm(e,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Si(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function D6(n){return n&&1===n.nodeType}function uN(n,e){const t=n.style.display;return n.style.display=e??"none",t}function dN(n,e,t,i,s){const r=[];t.forEach(c=>r.push(uN(c)));const o=[];i.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const f=e.computeStyle(l,d,s);u.set(d,f),(!f||0==f.length)&&(l[Cs]=C2e,o.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>uN(c,r[a++])),o}function hN(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const s=new Set(e),r=new Map;function o(a){if(!a)return 1;let c=r.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:s.has(l)?1:o(l),r.set(a,c),c}return e.forEach(a=>{const c=o(a);1!==c&&t.get(c).push(a)}),t}function qi(n,e){n.classList?.add(e)}function W2(n,e){n.classList?.remove(e)}function S2e(n,e,t){Ho(t).onDone(()=>n.processLeaveNode(e))}function fN(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof GL?fN(i.players,e):e.push(i)}}function pN(n,e,t){const i=t.get(n);if(!i)return!1;let s=e.get(n);return s?i.forEach(r=>s.add(r)):e.set(n,i),t.delete(n),!0}class A6{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new E2e(e,t,i),this._timelineEngine=new d2e(e,t,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(e,t,i,s,r){const o=e+"-"+s;let a=this._triggerCache[o];if(!a){const c=[],u=Am(this._driver,r,c,[]);if(c.length)throw function f1e(n,e){return new O(3404,!1)}();a=function a2e(n,e,t){return new c2e(n,e,t)}(s,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,s,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,s){this._transitionEngine.insertNode(e,t,i,s)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,s){if("@"==i.charAt(0)){const[r,o]=WL(i);this._timelineEngine.command(r,t,o,s)}else this._transitionEngine.trigger(e,t,i,s)}listen(e,t,i,s,r){if("@"==i.charAt(0)){const[o,a]=WL(i);return this._timelineEngine.listen(o,t,a,r)}return this._transitionEngine.listen(e,t,i,s,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let D2e=(()=>{class n{constructor(t,i,s){this._element=t,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Js(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Js(this._element,this._initialStyles),this._endStyles&&(Js(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Wa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wa(this._element,this._endStyles),this._endStyles=null),Js(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zm(n){let e=null;return n.forEach((t,i)=>{(function A2e(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class gN{constructor(e,t,i,s){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{"offset"!==s&&e.set(s,this._finished?i:eN(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class R2e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return $L(e,t)}getParentElement(e){return bm(e)}query(e,t,i){return qL(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,s,r,o=[]){const c={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(c.easing=r);const l=new Map,u=o.filter(p=>p instanceof gN);(function V1e(n,e){return 0===n||0===e})(i,s)&&u.forEach(p=>{p.currentSnapshot.forEach((g,m)=>l.set(m,g))});let d=function x1e(n){return n.length?n[0]instanceof Map?n:n.map(e=>XL(e)):[]}(t).map(p=>xo(p));d=function P1e(n,e,t){if(t.size&&e.length){let i=e[0],s=[];if(t.forEach((r,o)=>{i.has(o)||s.push(o),i.set(o,r)}),s.length)for(let r=1;r<e.length;r++){let o=e[r];s.forEach(a=>o.set(a,eN(n,a)))}}return e}(e,d,l);const f=function _2e(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=zm(e[0]),e.length>1&&(i=zm(e[e.length-1]))):e instanceof Map&&(t=zm(e)),t||i?new D2e(n,t,i):null}(e,d);return new gN(e,d,c,f)}}let L2e=(()=>{class n extends FL{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Ai.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?zL(t):t;return mN(this._renderer,null,i,"register",[s]),new N2e(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(q(Oc),q(Zt))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class N2e extends jae{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new H2e(this._id,e,t||{},this._renderer)}}class H2e{constructor(e,t,i,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return mN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function mN(n,e,t,i,s){return n.setProperty(e,`@@${t}:${i}`,s)}const CN="@.disabled";let x2e=(()=>{class n{constructor(t,i,s){this.delegate=t,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(r,o)=>{const a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(t,i){const r=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(r);return u||(u=new vN("",r,this.engine,()=>this._rendererCache.delete(r)),this._rendererCache.set(r,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(c),new I2e(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,s){t>=0&&t<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(q(Oc),q(A6),q(it))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();class vN{constructor(e,t,i,s){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,s=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,s){this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,s){this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==CN?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class I2e extends vN{constructor(e,t,i,s,r){super(t,i,s,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CN?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const s=function O2e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let r=t.slice(1),o="";return"@"!=r.charAt(0)&&([r,o]=function V2e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let P2e=(()=>{class n extends A6{constructor(t,i,s,r){super(t.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(q(Zt),q(wm),q(xm),q(q1))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();const EN=[{provide:FL,useClass:L2e},{provide:xm,useFactory:function F2e(){return new i2e}},{provide:A6,useClass:P2e},{provide:Oc,useFactory:function z2e(n,e,t){return new x2e(n,e,t)},deps:[op,A6,it]}],km=[{provide:wm,useFactory:()=>new R2e},{provide:Au,useValue:"BrowserAnimations"},...EN],yN=[{provide:wm,useClass:KL},{provide:Au,useValue:"NoopAnimations"},...EN];let k2e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?yN:km}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({providers:km,imports:[IT]}),n})();function bN(n,e,t,i,s,r,o){try{var a=n[r](o),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,s)}function Io(n){return function(){var e=this,t=arguments;return new Promise(function(i,s){var r=n.apply(e,t);function o(c){bN(r,i,s,o,a,"next",c)}function a(c){bN(r,i,s,o,a,"throw",c)}o(void 0)})}}class Gm extends Map{}var qm={prefix:"fas",iconName:"person-running",icon:[448,512,[127939,"running"],"f70c","M320 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM125.7 175.5c9.9-9.9 23.4-15.5 37.5-15.5c1.9 0 3.8 .1 5.6 .3L137.6 254c-9.3 28 1.7 58.8 26.8 74.5l86.2 53.9-25.4 88.8c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l28.7-100.4c5.9-20.6-2.6-42.6-20.7-53.9L238 299l30.9-82.4 5.1 12.3C289 264.7 323.9 288 362.7 288H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H362.7c-12.9 0-24.6-7.8-29.5-19.7l-6.3-15c-14.6-35.1-44.1-61.9-80.5-73.1l-48.7-15c-11.1-3.4-22.7-5.2-34.4-5.2c-31 0-60.8 12.3-82.7 34.3L57.4 153.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l23.1-23.1zM91.2 352H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h69.6c19 0 36.2-11.2 43.9-28.5L157 361.6l-9.5-6c-17.5-10.9-30.5-26.8-37.9-44.9L91.2 352z"]},MV={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},b9={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},j2={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]};const dDe=Hh(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function V9(n,e){const t="object"==typeof e;return new Promise((i,s)=>{const r=new n1({next:o=>{i(o),r.unsubscribe()},error:s,complete:()=>{t?i(e.defaultValue):s(new dDe)}});n.subscribe(r)})}let hDe=(()=>{class n{constructor(t){fe(this,"http",void 0),fe(this,"name","ChampionChip Ireland"),fe(this,"mapRaces",i=>{const s=i.races.length>1;return i.races.map(r=>({name:(s?`${i.name} - ${r.name}`:i.name).trim(),results:this.mapRace(r),headers:r.columns.split(",").map(o=>r.csv_headers[Number(o)]),headersMobile:r.columns_mobile.split(",").map(o=>r.csv_headers[Number(o)])}))}),fe(this,"mapRace",i=>i.csv_data.map(s=>i.csv_headers.reduce((r,o,a)=>(r[o]=s[a],r),{}))),this.http=t}getRaces(){var t=this;return Io(function*(){return(yield t.getChipEvents()).flatMap(t.mapRaces).reduce((s,r)=>s.set(r.name,Io(function*(){return r})),new Gm)})()}getChipEvents(){var t=this;return Io(function*(){return yield V9(t.http.get(`https://api.championchipireland.com/v1/chip_events?${Date.now()}`))})()}}return fe(n,"\u0275fac",function(t){return new(t||n)(q(fp))}),fe(n,"\u0275prov",le({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();const P9={xml:!1,decodeEntities:!0},qF={_useHtmlParser2:!0,xmlMode:!0};function F9(n){return n?.xml?"boolean"==typeof n.xml?qF:{...qF,...n.xml}:n??void 0}var Ye=function(n){return n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype",n}(Ye||{});const pDe=Ye.Root,gDe=Ye.Text,mDe=Ye.Directive,CDe=Ye.Comment,vDe=Ye.Script,EDe=Ye.Style,yDe=Ye.Tag,bDe=Ye.CDATA,wDe=Ye.Doctype;class KF{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return K6(this,e)}}class z9 extends KF{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class Z3 extends z9{constructor(){super(...arguments),this.type=Ye.Text}get nodeType(){return 3}}class k9 extends z9{constructor(){super(...arguments),this.type=Ye.Comment}get nodeType(){return 8}}class G9 extends z9{constructor(e,t){super(t),this.name=e,this.type=Ye.Directive}get nodeType(){return 1}}class B9 extends KF{constructor(e){super(),this.children=e}get firstChild(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class YF extends B9{constructor(){super(...arguments),this.type=Ye.CDATA}get nodeType(){return 4}}class $a extends B9{constructor(){super(...arguments),this.type=Ye.Root}get nodeType(){return 9}}class U9 extends B9{constructor(e,t,i=[],s=("script"===e?Ye.Script:"style"===e?Ye.Style:Ye.Tag)){super(i),this.name=e,this.attribs=t,this.type=s}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var t,i;return{name:e,value:this.attribs[e],namespace:null===(t=this["x-attribsNamespace"])||void 0===t?void 0:t[e],prefix:null===(i=this["x-attribsPrefix"])||void 0===i?void 0:i[e]}})}}function Ce(n){return function fDe(n){return n.type===Ye.Tag||n.type===Ye.Script||n.type===Ye.Style}(n)}function $6(n){return n.type===Ye.CDATA}function er(n){return n.type===Ye.Text}function q6(n){return n.type===Ye.Comment}function W9(n){return n.type===Ye.Directive}function qa(n){return n.type===Ye.Root}function qt(n){return Object.prototype.hasOwnProperty.call(n,"children")}function K6(n,e=!1){let t;if(er(n))t=new Z3(n.data);else if(q6(n))t=new k9(n.data);else if(Ce(n)){const i=e?j9(n.children):[],s=new U9(n.name,{...n.attribs},i);i.forEach(r=>r.parent=s),null!=n.namespace&&(s.namespace=n.namespace),n["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...n["x-attribsNamespace"]}),n["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...n["x-attribsPrefix"]}),t=s}else if($6(n)){const i=e?j9(n.children):[],s=new YF(i);i.forEach(r=>r.parent=s),t=s}else if(qa(n)){const i=e?j9(n.children):[],s=new $a(i);i.forEach(r=>r.parent=s),n["x-mode"]&&(s["x-mode"]=n["x-mode"]),t=s}else{if(!W9(n))throw new Error(`Not implemented yet: ${n.type}`);{const i=new G9(n.name,n.data);null!=n["x-name"]&&(i["x-name"]=n["x-name"],i["x-publicId"]=n["x-publicId"],i["x-systemId"]=n["x-systemId"]),t=i}}return t.startIndex=n.startIndex,t.endIndex=n.endIndex,null!=n.sourceCodeLocation&&(t.sourceCodeLocation=n.sourceCodeLocation),t}function j9(n){const e=n.map(t=>K6(t,!0));for(let t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}const QF={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class SDe{constructor(e,t,i){this.dom=[],this.root=new $a(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(i=t,t=QF),"object"==typeof e&&(t=e,e=void 0),this.callback=e??null,this.options=t??QF,this.elementCB=i??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new $a(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,t){const s=new U9(e,t,void 0,this.options.xmlMode?Ye.Tag:void 0);this.addNode(s),this.tagStack.push(s)}ontext(e){const{lastNode:t}=this;if(t&&t.type===Ye.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const i=new Z3(e);this.addNode(i),this.lastNode=i}}oncomment(e){if(this.lastNode&&this.lastNode.type===Ye.Comment)return void(this.lastNode.data+=e);const t=new k9(e);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const e=new Z3(""),t=new YF([e]);this.addNode(t),e.parent=t,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,t){const i=new G9(e,t);this.addNode(i)}handleCallback(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e}addNode(e){const t=this.tagStack[this.tagStack.length-1],i=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),i&&(e.prev=i,i.next=e),e.parent=t,this.lastNode=null}}const kr=new Uint16Array('\u1d41<\xd5\u0131\u028a\u049d\u057b\u05d0\u0675\u06de\u07a2\u07d6\u080f\u0a4a\u0a91\u0da1\u0e6d\u0f09\u0f26\u10ca\u1228\u12e1\u1415\u149d\u14c3\u14df\u1525\0\0\0\0\0\0\u156b\u16cd\u198d\u1c12\u1ddd\u1f7e\u2060\u21b0\u228d\u23c0\u23fb\u2442\u2824\u2912\u2d08\u2e48\u2fce\u3016\u32ba\u3639\u37ac\u38fe\u3a28\u3a71\u3ae0\u3b2e\u0800EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\u803b\xc6\u40c6P\u803b&\u4026cute\u803b\xc1\u40c1reve;\u4102\u0100iyx}rc\u803b\xc2\u40c2;\u4410r;\uc000\u{1d504}rave\u803b\xc0\u40c0pha;\u4391acr;\u4100d;\u6a53\u0100gp\x9d\xa1on;\u4104f;\uc000\u{1d538}plyFunction;\u6061ing\u803b\xc5\u40c5\u0100cs\xbe\xc3r;\uc000\u{1d49c}ign;\u6254ilde\u803b\xc3\u40c3ml\u803b\xc4\u40c4\u0400aceforsu\xe5\xfb\xfe\u0117\u011c\u0122\u0127\u012a\u0100cr\xea\xf2kslash;\u6216\u0176\xf6\xf8;\u6ae7ed;\u6306y;\u4411\u0180crt\u0105\u010b\u0114ause;\u6235noullis;\u612ca;\u4392r;\uc000\u{1d505}pf;\uc000\u{1d539}eve;\u42d8c\xf2\u0113mpeq;\u624e\u0700HOacdefhilorsu\u014d\u0151\u0156\u0180\u019e\u01a2\u01b5\u01b7\u01ba\u01dc\u0215\u0273\u0278\u027ecy;\u4427PY\u803b\xa9\u40a9\u0180cpy\u015d\u0162\u017aute;\u4106\u0100;i\u0167\u0168\u62d2talDifferentialD;\u6145leys;\u612d\u0200aeio\u0189\u018e\u0194\u0198ron;\u410cdil\u803b\xc7\u40c7rc;\u4108nint;\u6230ot;\u410a\u0100dn\u01a7\u01adilla;\u40b8terDot;\u40b7\xf2\u017fi;\u43a7rcle\u0200DMPT\u01c7\u01cb\u01d1\u01d6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01e2\u01f8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020foubleQuote;\u601duote;\u6019\u0200lnpu\u021e\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6a74\u0180git\u022f\u0236\u023aruent;\u6261nt;\u622fourIntegral;\u622e\u0100fr\u024c\u024e;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6a2fcr;\uc000\u{1d49e}p\u0100;C\u0284\u0285\u62d3ap;\u624d\u0580DJSZacefios\u02a0\u02ac\u02b0\u02b4\u02b8\u02cb\u02d7\u02e1\u02e6\u0333\u048d\u0100;o\u0179\u02a5trahd;\u6911cy;\u4402cy;\u4405cy;\u440f\u0180grs\u02bf\u02c4\u02c7ger;\u6021r;\u61a1hv;\u6ae4\u0100ay\u02d0\u02d5ron;\u410e;\u4414l\u0100;t\u02dd\u02de\u6207a;\u4394r;\uc000\u{1d507}\u0100af\u02eb\u0327\u0100cm\u02f0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031ccute;\u40b4o\u0174\u030b\u030d;\u42d9bleAcute;\u42ddrave;\u4060ilde;\u42dcond;\u62c4ferentialD;\u6146\u0470\u033d\0\0\0\u0342\u0354\0\u0405f;\uc000\u{1d53b}\u0180;DE\u0348\u0349\u034d\u40a8ot;\u60dcqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03cf\u03e2\u03f8ontourIntegra\xec\u0239o\u0274\u0379\0\0\u037b\xbb\u0349nArrow;\u61d3\u0100eo\u0387\u03a4ft\u0180ART\u0390\u0396\u03a1rrow;\u61d0ightArrow;\u61d4e\xe5\u02cang\u0100LR\u03ab\u03c4eft\u0100AR\u03b3\u03b9rrow;\u67f8ightArrow;\u67faightArrow;\u67f9ight\u0100AT\u03d8\u03derrow;\u61d2ee;\u62a8p\u0241\u03e9\0\0\u03efrrow;\u61d1ownArrow;\u61d5erticalBar;\u6225n\u0300ABLRTa\u0412\u042a\u0430\u045e\u047f\u037crrow\u0180;BU\u041d\u041e\u0422\u6193ar;\u6913pArrow;\u61f5reve;\u4311eft\u02d2\u043a\0\u0446\0\u0450ightVector;\u6950eeVector;\u695eector\u0100;B\u0459\u045a\u61bdar;\u6956ight\u01d4\u0467\0\u0471eeVector;\u695fector\u0100;B\u047a\u047b\u61c1ar;\u6957ee\u0100;A\u0486\u0487\u62a4rrow;\u61a7\u0100ct\u0492\u0497r;\uc000\u{1d49f}rok;\u4110\u0800NTacdfglmopqstux\u04bd\u04c0\u04c4\u04cb\u04de\u04e2\u04e7\u04ee\u04f5\u0521\u052f\u0536\u0552\u055d\u0560\u0565G;\u414aH\u803b\xd0\u40d0cute\u803b\xc9\u40c9\u0180aiy\u04d2\u04d7\u04dcron;\u411arc\u803b\xca\u40ca;\u442dot;\u4116r;\uc000\u{1d508}rave\u803b\xc8\u40c8ement;\u6208\u0100ap\u04fa\u04fecr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65fberySmallSquare;\u65ab\u0100gp\u0526\u052aon;\u4118f;\uc000\u{1d53c}silon;\u4395u\u0100ai\u053c\u0549l\u0100;T\u0542\u0543\u6a75ilde;\u6242librium;\u61cc\u0100ci\u0557\u055ar;\u6130m;\u6a73a;\u4397ml\u803b\xcb\u40cb\u0100ip\u056a\u056fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058d\u05b2\u05ccy;\u4424r;\uc000\u{1d509}lled\u0253\u0597\0\0\u05a3mallSquare;\u65fcerySmallSquare;\u65aa\u0370\u05ba\0\u05bf\0\0\u05c4f;\uc000\u{1d53d}All;\u6200riertrf;\u6131c\xf2\u05cb\u0600JTabcdfgorst\u05e8\u05ec\u05ef\u05fa\u0600\u0612\u0616\u061b\u061d\u0623\u066c\u0672cy;\u4403\u803b>\u403emma\u0100;d\u05f7\u05f8\u4393;\u43dcreve;\u411e\u0180eiy\u0607\u060c\u0610dil;\u4122rc;\u411c;\u4413ot;\u4120r;\uc000\u{1d50a};\u62d9pf;\uc000\u{1d53e}eater\u0300EFGLST\u0635\u0644\u064e\u0656\u065b\u0666qual\u0100;L\u063e\u063f\u6265ess;\u62dbullEqual;\u6267reater;\u6aa2ess;\u6277lantEqual;\u6a7eilde;\u6273cr;\uc000\u{1d4a2};\u626b\u0400Aacfiosu\u0685\u068b\u0696\u069b\u069e\u06aa\u06be\u06caRDcy;\u442a\u0100ct\u0690\u0694ek;\u42c7;\u405eirc;\u4124r;\u610clbertSpace;\u610b\u01f0\u06af\0\u06b2f;\u610dizontalLine;\u6500\u0100ct\u06c3\u06c5\xf2\u06a9rok;\u4126mp\u0144\u06d0\u06d8ownHum\xf0\u012fqual;\u624f\u0700EJOacdfgmnostu\u06fa\u06fe\u0703\u0707\u070e\u071a\u071e\u0721\u0728\u0744\u0778\u078b\u078f\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803b\xcd\u40cd\u0100iy\u0713\u0718rc\u803b\xce\u40ce;\u4418ot;\u4130r;\u6111rave\u803b\xcc\u40cc\u0180;ap\u0720\u072f\u073f\u0100cg\u0734\u0737r;\u412ainaryI;\u6148lie\xf3\u03dd\u01f4\u0749\0\u0762\u0100;e\u074d\u074e\u622c\u0100gr\u0753\u0758ral;\u622bsection;\u62c2isible\u0100CT\u076c\u0772omma;\u6063imes;\u6062\u0180gpt\u077f\u0783\u0788on;\u412ef;\uc000\u{1d540}a;\u4399cr;\u6110ilde;\u4128\u01eb\u079a\0\u079ecy;\u4406l\u803b\xcf\u40cf\u0280cfosu\u07ac\u07b7\u07bc\u07c2\u07d0\u0100iy\u07b1\u07b5rc;\u4134;\u4419r;\uc000\u{1d50d}pf;\uc000\u{1d541}\u01e3\u07c7\0\u07ccr;\uc000\u{1d4a5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07e4\u07e8\u07ec\u07f1\u07fd\u0802\u0808cy;\u4425cy;\u440cppa;\u439a\u0100ey\u07f6\u07fbdil;\u4136;\u441ar;\uc000\u{1d50e}pf;\uc000\u{1d542}cr;\uc000\u{1d4a6}\u0580JTaceflmost\u0825\u0829\u082c\u0850\u0863\u09b3\u09b8\u09c7\u09cd\u0a37\u0a47cy;\u4409\u803b<\u403c\u0280cmnpr\u0837\u083c\u0841\u0844\u084dute;\u4139bda;\u439bg;\u67ealacetrf;\u6112r;\u619e\u0180aey\u0857\u085c\u0861ron;\u413ddil;\u413b;\u441b\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087e\u08a9\u08b1\u08e0\u08e6\u08fc\u092f\u095b\u0390\u096a\u0100nr\u0883\u088fgleBracket;\u67e8row\u0180;BR\u0899\u089a\u089e\u6190ar;\u61e4ightArrow;\u61c6eiling;\u6308o\u01f5\u08b7\0\u08c3bleBracket;\u67e6n\u01d4\u08c8\0\u08d2eeVector;\u6961ector\u0100;B\u08db\u08dc\u61c3ar;\u6959loor;\u630aight\u0100AV\u08ef\u08f5rrow;\u6194ector;\u694e\u0100er\u0901\u0917e\u0180;AV\u0909\u090a\u0910\u62a3rrow;\u61a4ector;\u695aiangle\u0180;BE\u0924\u0925\u0929\u62b2ar;\u69cfqual;\u62b4p\u0180DTV\u0937\u0942\u094cownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61bfar;\u6958ector\u0100;B\u0965\u0966\u61bcar;\u6952ight\xe1\u039cs\u0300EFGLST\u097e\u098b\u0995\u099d\u09a2\u09adqualGreater;\u62daullEqual;\u6266reater;\u6276ess;\u6aa1lantEqual;\u6a7dilde;\u6272r;\uc000\u{1d50f}\u0100;e\u09bd\u09be\u62d8ftarrow;\u61daidot;\u413f\u0180npw\u09d4\u0a16\u0a1bg\u0200LRlr\u09de\u09f7\u0a02\u0a10eft\u0100AR\u09e6\u09ecrrow;\u67f5ightArrow;\u67f7ightArrow;\u67f6eft\u0100ar\u03b3\u0a0aight\xe1\u03bfight\xe1\u03caf;\uc000\u{1d543}er\u0100LR\u0a22\u0a2ceftArrow;\u6199ightArrow;\u6198\u0180cht\u0a3e\u0a40\u0a42\xf2\u084c;\u61b0rok;\u4141;\u626a\u0400acefiosu\u0a5a\u0a5d\u0a60\u0a77\u0a7c\u0a85\u0a8b\u0a8ep;\u6905y;\u441c\u0100dl\u0a65\u0a6fiumSpace;\u605flintrf;\u6133r;\uc000\u{1d510}nusPlus;\u6213pf;\uc000\u{1d544}c\xf2\u0a76;\u439c\u0480Jacefostu\u0aa3\u0aa7\u0aad\u0ac0\u0b14\u0b19\u0d91\u0d97\u0d9ecy;\u440acute;\u4143\u0180aey\u0ab4\u0ab9\u0aberon;\u4147dil;\u4145;\u441d\u0180gsw\u0ac7\u0af0\u0b0eative\u0180MTV\u0ad3\u0adf\u0ae8ediumSpace;\u600bhi\u0100cn\u0ae6\u0ad8\xeb\u0ad9eryThi\xee\u0ad9ted\u0100GL\u0af8\u0b06reaterGreate\xf2\u0673essLes\xf3\u0a48Line;\u400ar;\uc000\u{1d511}\u0200Bnpt\u0b22\u0b28\u0b37\u0b3areak;\u6060BreakingSpace;\u40a0f;\u6115\u0680;CDEGHLNPRSTV\u0b55\u0b56\u0b6a\u0b7c\u0ba1\u0beb\u0c04\u0c5e\u0c84\u0ca6\u0cd8\u0d61\u0d85\u6aec\u0100ou\u0b5b\u0b64ngruent;\u6262pCap;\u626doubleVerticalBar;\u6226\u0180lqx\u0b83\u0b8a\u0b9bement;\u6209ual\u0100;T\u0b92\u0b93\u6260ilde;\uc000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0bb6\u0bb7\u0bbd\u0bc9\u0bd3\u0bd8\u0be5\u626fqual;\u6271ullEqual;\uc000\u2267\u0338reater;\uc000\u226b\u0338ess;\u6279lantEqual;\uc000\u2a7e\u0338ilde;\u6275ump\u0144\u0bf2\u0bfdownHump;\uc000\u224e\u0338qual;\uc000\u224f\u0338e\u0100fs\u0c0a\u0c27tTriangle\u0180;BE\u0c1a\u0c1b\u0c21\u62eaar;\uc000\u29cf\u0338qual;\u62ecs\u0300;EGLST\u0c35\u0c36\u0c3c\u0c44\u0c4b\u0c58\u626equal;\u6270reater;\u6278ess;\uc000\u226a\u0338lantEqual;\uc000\u2a7d\u0338ilde;\u6274ested\u0100GL\u0c68\u0c79reaterGreater;\uc000\u2aa2\u0338essLess;\uc000\u2aa1\u0338recedes\u0180;ES\u0c92\u0c93\u0c9b\u6280qual;\uc000\u2aaf\u0338lantEqual;\u62e0\u0100ei\u0cab\u0cb9verseElement;\u620cghtTriangle\u0180;BE\u0ccb\u0ccc\u0cd2\u62ebar;\uc000\u29d0\u0338qual;\u62ed\u0100qu\u0cdd\u0d0cuareSu\u0100bp\u0ce8\u0cf9set\u0100;E\u0cf0\u0cf3\uc000\u228f\u0338qual;\u62e2erset\u0100;E\u0d03\u0d06\uc000\u2290\u0338qual;\u62e3\u0180bcp\u0d13\u0d24\u0d4eset\u0100;E\u0d1b\u0d1e\uc000\u2282\u20d2qual;\u6288ceeds\u0200;EST\u0d32\u0d33\u0d3b\u0d46\u6281qual;\uc000\u2ab0\u0338lantEqual;\u62e1ilde;\uc000\u227f\u0338erset\u0100;E\u0d58\u0d5b\uc000\u2283\u20d2qual;\u6289ilde\u0200;EFT\u0d6e\u0d6f\u0d75\u0d7f\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uc000\u{1d4a9}ilde\u803b\xd1\u40d1;\u439d\u0700Eacdfgmoprstuv\u0dbd\u0dc2\u0dc9\u0dd5\u0ddb\u0de0\u0de7\u0dfc\u0e02\u0e20\u0e22\u0e32\u0e3f\u0e44lig;\u4152cute\u803b\xd3\u40d3\u0100iy\u0dce\u0dd3rc\u803b\xd4\u40d4;\u441eblac;\u4150r;\uc000\u{1d512}rave\u803b\xd2\u40d2\u0180aei\u0dee\u0df2\u0df6cr;\u414cga;\u43a9cron;\u439fpf;\uc000\u{1d546}enCurly\u0100DQ\u0e0e\u0e1aoubleQuote;\u601cuote;\u6018;\u6a54\u0100cl\u0e27\u0e2cr;\uc000\u{1d4aa}ash\u803b\xd8\u40d8i\u016c\u0e37\u0e3cde\u803b\xd5\u40d5es;\u6a37ml\u803b\xd6\u40d6er\u0100BP\u0e4b\u0e60\u0100ar\u0e50\u0e53r;\u603eac\u0100ek\u0e5a\u0e5c;\u63deet;\u63b4arenthesis;\u63dc\u0480acfhilors\u0e7f\u0e87\u0e8a\u0e8f\u0e92\u0e94\u0e9d\u0eb0\u0efcrtialD;\u6202y;\u441fr;\uc000\u{1d513}i;\u43a6;\u43a0usMinus;\u40b1\u0100ip\u0ea2\u0eadncareplan\xe5\u069df;\u6119\u0200;eio\u0eb9\u0eba\u0ee0\u0ee4\u6abbcedes\u0200;EST\u0ec8\u0ec9\u0ecf\u0eda\u627aqual;\u6aaflantEqual;\u627cilde;\u627eme;\u6033\u0100dp\u0ee9\u0eeeuct;\u620fortion\u0100;a\u0225\u0ef9l;\u621d\u0100ci\u0f01\u0f06r;\uc000\u{1d4ab};\u43a8\u0200Ufos\u0f11\u0f16\u0f1b\u0f1fOT\u803b"\u4022r;\uc000\u{1d514}pf;\u611acr;\uc000\u{1d4ac}\u0600BEacefhiorsu\u0f3e\u0f43\u0f47\u0f60\u0f73\u0fa7\u0faa\u0fad\u1096\u10a9\u10b4\u10bearr;\u6910G\u803b\xae\u40ae\u0180cnr\u0f4e\u0f53\u0f56ute;\u4154g;\u67ebr\u0100;t\u0f5c\u0f5d\u61a0l;\u6916\u0180aey\u0f67\u0f6c\u0f71ron;\u4158dil;\u4156;\u4420\u0100;v\u0f78\u0f79\u611cerse\u0100EU\u0f82\u0f99\u0100lq\u0f87\u0f8eement;\u620builibrium;\u61cbpEquilibrium;\u696fr\xbb\u0f79o;\u43a1ght\u0400ACDFTUVa\u0fc1\u0feb\u0ff3\u1022\u1028\u105b\u1087\u03d8\u0100nr\u0fc6\u0fd2gleBracket;\u67e9row\u0180;BL\u0fdc\u0fdd\u0fe1\u6192ar;\u61e5eftArrow;\u61c4eiling;\u6309o\u01f5\u0ff9\0\u1005bleBracket;\u67e7n\u01d4\u100a\0\u1014eeVector;\u695dector\u0100;B\u101d\u101e\u61c2ar;\u6955loor;\u630b\u0100er\u102d\u1043e\u0180;AV\u1035\u1036\u103c\u62a2rrow;\u61a6ector;\u695biangle\u0180;BE\u1050\u1051\u1055\u62b3ar;\u69d0qual;\u62b5p\u0180DTV\u1063\u106e\u1078ownVector;\u694feeVector;\u695cector\u0100;B\u1082\u1083\u61bear;\u6954ector\u0100;B\u1091\u1092\u61c0ar;\u6953\u0100pu\u109b\u109ef;\u611dndImplies;\u6970ightarrow;\u61db\u0100ch\u10b9\u10bcr;\u611b;\u61b1leDelayed;\u69f4\u0680HOacfhimoqstu\u10e4\u10f1\u10f7\u10fd\u1119\u111e\u1151\u1156\u1161\u1167\u11b5\u11bb\u11bf\u0100Cc\u10e9\u10eeHcy;\u4429y;\u4428FTcy;\u442ccute;\u415a\u0280;aeiy\u1108\u1109\u110e\u1113\u1117\u6abcron;\u4160dil;\u415erc;\u415c;\u4421r;\uc000\u{1d516}ort\u0200DLRU\u112a\u1134\u113e\u1149ownArrow\xbb\u041eeftArrow\xbb\u089aightArrow\xbb\u0fddpArrow;\u6191gma;\u43a3allCircle;\u6218pf;\uc000\u{1d54a}\u0272\u116d\0\0\u1170t;\u621aare\u0200;ISU\u117b\u117c\u1189\u11af\u65a1ntersection;\u6293u\u0100bp\u118f\u119eset\u0100;E\u1197\u1198\u628fqual;\u6291erset\u0100;E\u11a8\u11a9\u6290qual;\u6292nion;\u6294cr;\uc000\u{1d4ae}ar;\u62c6\u0200bcmp\u11c8\u11db\u1209\u120b\u0100;s\u11cd\u11ce\u62d0et\u0100;E\u11cd\u11d5qual;\u6286\u0100ch\u11e0\u1205eeds\u0200;EST\u11ed\u11ee\u11f4\u11ff\u627bqual;\u6ab0lantEqual;\u627dilde;\u627fTh\xe1\u0f8c;\u6211\u0180;es\u1212\u1213\u1223\u62d1rset\u0100;E\u121c\u121d\u6283qual;\u6287et\xbb\u1213\u0580HRSacfhiors\u123e\u1244\u1249\u1255\u125e\u1271\u1276\u129f\u12c2\u12c8\u12d1ORN\u803b\xde\u40deADE;\u6122\u0100Hc\u124e\u1252cy;\u440by;\u4426\u0100bu\u125a\u125c;\u4009;\u43a4\u0180aey\u1265\u126a\u126fron;\u4164dil;\u4162;\u4422r;\uc000\u{1d517}\u0100ei\u127b\u1289\u01f2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128e\u1298kSpace;\uc000\u205f\u200aSpace;\u6009lde\u0200;EFT\u12ab\u12ac\u12b2\u12bc\u623cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uc000\u{1d54b}ipleDot;\u60db\u0100ct\u12d6\u12dbr;\uc000\u{1d4af}rok;\u4166\u0ae1\u12f7\u130e\u131a\u1326\0\u132c\u1331\0\0\0\0\0\u1338\u133d\u1377\u1385\0\u13ff\u1404\u140a\u1410\u0100cr\u12fb\u1301ute\u803b\xda\u40dar\u0100;o\u1307\u1308\u619fcir;\u6949r\u01e3\u1313\0\u1316y;\u440eve;\u416c\u0100iy\u131e\u1323rc\u803b\xdb\u40db;\u4423blac;\u4170r;\uc000\u{1d518}rave\u803b\xd9\u40d9acr;\u416a\u0100di\u1341\u1369er\u0100BP\u1348\u135d\u0100ar\u134d\u1350r;\u405fac\u0100ek\u1357\u1359;\u63dfet;\u63b5arenthesis;\u63ddon\u0100;P\u1370\u1371\u62c3lus;\u628e\u0100gp\u137b\u137fon;\u4172f;\uc000\u{1d54c}\u0400ADETadps\u1395\u13ae\u13b8\u13c4\u03e8\u13d2\u13d7\u13f3rrow\u0180;BD\u1150\u13a0\u13a4ar;\u6912ownArrow;\u61c5ownArrow;\u6195quilibrium;\u696eee\u0100;A\u13cb\u13cc\u62a5rrow;\u61a5own\xe1\u03f3er\u0100LR\u13de\u13e8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13f9\u13fa\u43d2on;\u43a5ing;\u416ecr;\uc000\u{1d4b0}ilde;\u4168ml\u803b\xdc\u40dc\u0480Dbcdefosv\u1427\u142c\u1430\u1433\u143e\u1485\u148a\u1490\u1496ash;\u62abar;\u6aeby;\u4412ash\u0100;l\u143b\u143c\u62a9;\u6ae6\u0100er\u1443\u1445;\u62c1\u0180bty\u144c\u1450\u147aar;\u6016\u0100;i\u144f\u1455cal\u0200BLST\u1461\u1465\u146a\u1474ar;\u6223ine;\u407ceparator;\u6758ilde;\u6240ThinSpace;\u600ar;\uc000\u{1d519}pf;\uc000\u{1d54d}cr;\uc000\u{1d4b1}dash;\u62aa\u0280cefos\u14a7\u14ac\u14b1\u14b6\u14bcirc;\u4174dge;\u62c0r;\uc000\u{1d51a}pf;\uc000\u{1d54e}cr;\uc000\u{1d4b2}\u0200fios\u14cb\u14d0\u14d2\u14d8r;\uc000\u{1d51b};\u439epf;\uc000\u{1d54f}cr;\uc000\u{1d4b3}\u0480AIUacfosu\u14f1\u14f5\u14f9\u14fd\u1504\u150f\u1514\u151a\u1520cy;\u442fcy;\u4407cy;\u442ecute\u803b\xdd\u40dd\u0100iy\u1509\u150drc;\u4176;\u442br;\uc000\u{1d51c}pf;\uc000\u{1d550}cr;\uc000\u{1d4b4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153f\u154b\u154f\u155d\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417d;\u4417ot;\u417b\u01f2\u1554\0\u155boWidt\xe8\u0ad9a;\u4396r;\u6128pf;\u6124cr;\uc000\u{1d4b5}\u0be1\u1583\u158a\u1590\0\u15b0\u15b6\u15bf\0\0\0\0\u15c6\u15db\u15eb\u165f\u166d\0\u1695\u169b\u16b2\u16b9\0\u16becute\u803b\xe1\u40e1reve;\u4103\u0300;Ediuy\u159c\u159d\u15a1\u15a3\u15a8\u15ad\u623e;\uc000\u223e\u0333;\u623frc\u803b\xe2\u40e2te\u80bb\xb4\u0306;\u4430lig\u803b\xe6\u40e6\u0100;r\xb2\u15ba;\uc000\u{1d51e}rave\u803b\xe0\u40e0\u0100ep\u15ca\u15d6\u0100fp\u15cf\u15d4sym;\u6135\xe8\u15d3ha;\u43b1\u0100ap\u15dfc\u0100cl\u15e4\u15e7r;\u4101g;\u6a3f\u0264\u15f0\0\0\u160a\u0280;adsv\u15fa\u15fb\u15ff\u1601\u1607\u6227nd;\u6a55;\u6a5clope;\u6a58;\u6a5a\u0380;elmrsz\u1618\u1619\u161b\u161e\u163f\u164f\u1659\u6220;\u69a4e\xbb\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163a\u163c\u163e;\u69a8;\u69a9;\u69aa;\u69ab;\u69ac;\u69ad;\u69ae;\u69aft\u0100;v\u1645\u1646\u621fb\u0100;d\u164c\u164d\u62be;\u699d\u0100pt\u1654\u1657h;\u6222\xbb\xb9arr;\u637c\u0100gp\u1663\u1667on;\u4105f;\uc000\u{1d552}\u0380;Eaeiop\u12c1\u167b\u167d\u1682\u1684\u1687\u168a;\u6a70cir;\u6a6f;\u624ad;\u624bs;\u4027rox\u0100;e\u12c1\u1692\xf1\u1683ing\u803b\xe5\u40e5\u0180cty\u16a1\u16a6\u16a8r;\uc000\u{1d4b6};\u402amp\u0100;e\u12c1\u16af\xf1\u0288ilde\u803b\xe3\u40e3ml\u803b\xe4\u40e4\u0100ci\u16c2\u16c8onin\xf4\u0272nt;\u6a11\u0800Nabcdefiklnoprsu\u16ed\u16f1\u1730\u173c\u1743\u1748\u1778\u177d\u17e0\u17e6\u1839\u1850\u170d\u193d\u1948\u1970ot;\u6aed\u0100cr\u16f6\u171ek\u0200ceps\u1700\u1705\u170d\u1713ong;\u624cpsilon;\u43f6rime;\u6035im\u0100;e\u171a\u171b\u623dq;\u62cd\u0176\u1722\u1726ee;\u62bded\u0100;g\u172c\u172d\u6305e\xbb\u172drk\u0100;t\u135c\u1737brk;\u63b6\u0100oy\u1701\u1741;\u4431quo;\u601e\u0280cmprt\u1753\u175b\u1761\u1764\u1768aus\u0100;e\u010a\u0109ptyv;\u69b0s\xe9\u170cno\xf5\u0113\u0180ahw\u176f\u1771\u1773;\u43b2;\u6136een;\u626cr;\uc000\u{1d51f}g\u0380costuvw\u178d\u179d\u17b3\u17c1\u17d5\u17db\u17de\u0180aiu\u1794\u1796\u179a\xf0\u0760rc;\u65efp\xbb\u1371\u0180dpt\u17a4\u17a8\u17adot;\u6a00lus;\u6a01imes;\u6a02\u0271\u17b9\0\0\u17becup;\u6a06ar;\u6605riangle\u0100du\u17cd\u17d2own;\u65bdp;\u65b3plus;\u6a04e\xe5\u1444\xe5\u14adarow;\u690d\u0180ako\u17ed\u1826\u1835\u0100cn\u17f2\u1823k\u0180lst\u17fa\u05ab\u1802ozenge;\u69ebriangle\u0200;dlr\u1812\u1813\u1818\u181d\u65b4own;\u65beeft;\u65c2ight;\u65b8k;\u6423\u01b1\u182b\0\u1833\u01b2\u182f\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183e\u184d\u0100;q\u1843\u1846\uc000=\u20e5uiv;\uc000\u2261\u20e5t;\u6310\u0200ptwx\u1859\u185e\u1867\u186cf;\uc000\u{1d553}\u0100;t\u13cb\u1863om\xbb\u13cctie;\u62c8\u0600DHUVbdhmptuv\u1885\u1896\u18aa\u18bb\u18d7\u18db\u18ec\u18ff\u1905\u190a\u1910\u1921\u0200LRlr\u188e\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18a1\u18a2\u18a4\u18a6\u18a8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18b3\u18b5\u18b7\u18b9;\u655d;\u655a;\u655c;\u6559\u0380;HLRhlr\u18ca\u18cb\u18cd\u18cf\u18d1\u18d3\u18d5\u6551;\u656c;\u6563;\u6560;\u656b;\u6562;\u655fox;\u69c9\u0200LRlr\u18e4\u18e6\u18e8\u18ea;\u6555;\u6552;\u6510;\u650c\u0280;DUdu\u06bd\u18f7\u18f9\u18fb\u18fd;\u6565;\u6568;\u652c;\u6534inus;\u629flus;\u629eimes;\u62a0\u0200LRlr\u1919\u191b\u191d\u191f;\u655b;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193b\u6502;\u656a;\u6561;\u655e;\u653c;\u6524;\u651c\u0100ev\u0123\u1942bar\u803b\xa6\u40a6\u0200ceio\u1951\u1956\u195a\u1960r;\uc000\u{1d4b7}mi;\u604fm\u0100;e\u171a\u171cl\u0180;bh\u1968\u1969\u196b\u405c;\u69c5sub;\u67c8\u016c\u1974\u197el\u0100;e\u1979\u197a\u6022t\xbb\u197ap\u0180;Ee\u012f\u1985\u1987;\u6aae\u0100;q\u06dc\u06db\u0ce1\u19a7\0\u19e8\u1a11\u1a15\u1a32\0\u1a37\u1a50\0\0\u1ab4\0\0\u1ac1\0\0\u1b21\u1b2e\u1b4d\u1b52\0\u1bfd\0\u1c0c\u0180cpr\u19ad\u19b2\u19ddute;\u4107\u0300;abcds\u19bf\u19c0\u19c4\u19ca\u19d5\u19d9\u6229nd;\u6a44rcup;\u6a49\u0100au\u19cf\u19d2p;\u6a4bp;\u6a47ot;\u6a40;\uc000\u2229\ufe00\u0100eo\u19e2\u19e5t;\u6041\xee\u0693\u0200aeiu\u19f0\u19fb\u1a01\u1a05\u01f0\u19f5\0\u19f8s;\u6a4don;\u410ddil\u803b\xe7\u40e7rc;\u4109ps\u0100;s\u1a0c\u1a0d\u6a4cm;\u6a50ot;\u410b\u0180dmn\u1a1b\u1a20\u1a26il\u80bb\xb8\u01adptyv;\u69b2t\u8100\xa2;e\u1a2d\u1a2e\u40a2r\xe4\u01b2r;\uc000\u{1d520}\u0180cei\u1a3d\u1a40\u1a4dy;\u4447ck\u0100;m\u1a47\u1a48\u6713ark\xbb\u1a48;\u43c7r\u0380;Ecefms\u1a5f\u1a60\u1a62\u1a6b\u1aa4\u1aaa\u1aae\u65cb;\u69c3\u0180;el\u1a69\u1a6a\u1a6d\u42c6q;\u6257e\u0261\u1a74\0\0\u1a88rrow\u0100lr\u1a7c\u1a81eft;\u61baight;\u61bb\u0280RSacd\u1a92\u1a94\u1a96\u1a9a\u1a9f\xbb\u0f47;\u64c8st;\u629birc;\u629aash;\u629dnint;\u6a10id;\u6aefcir;\u69c2ubs\u0100;u\u1abb\u1abc\u6663it\xbb\u1abc\u02ec\u1ac7\u1ad4\u1afa\0\u1b0aon\u0100;e\u1acd\u1ace\u403a\u0100;q\xc7\xc6\u026d\u1ad9\0\0\u1ae2a\u0100;t\u1ade\u1adf\u402c;\u4040\u0180;fl\u1ae8\u1ae9\u1aeb\u6201\xee\u1160e\u0100mx\u1af1\u1af6ent\xbb\u1ae9e\xf3\u024d\u01e7\u1afe\0\u1b07\u0100;d\u12bb\u1b02ot;\u6a6dn\xf4\u0246\u0180fry\u1b10\u1b14\u1b17;\uc000\u{1d554}o\xe4\u0254\u8100\xa9;s\u0155\u1b1dr;\u6117\u0100ao\u1b25\u1b29rr;\u61b5ss;\u6717\u0100cu\u1b32\u1b37r;\uc000\u{1d4b8}\u0100bp\u1b3c\u1b44\u0100;e\u1b41\u1b42\u6acf;\u6ad1\u0100;e\u1b49\u1b4a\u6ad0;\u6ad2dot;\u62ef\u0380delprvw\u1b60\u1b6c\u1b77\u1b82\u1bac\u1bd4\u1bf9arr\u0100lr\u1b68\u1b6a;\u6938;\u6935\u0270\u1b72\0\0\u1b75r;\u62dec;\u62dfarr\u0100;p\u1b7f\u1b80\u61b6;\u693d\u0300;bcdos\u1b8f\u1b90\u1b96\u1ba1\u1ba5\u1ba8\u622arcap;\u6a48\u0100au\u1b9b\u1b9ep;\u6a46p;\u6a4aot;\u628dr;\u6a45;\uc000\u222a\ufe00\u0200alrv\u1bb5\u1bbf\u1bde\u1be3rr\u0100;m\u1bbc\u1bbd\u61b7;\u693cy\u0180evw\u1bc7\u1bd4\u1bd8q\u0270\u1bce\0\0\u1bd2re\xe3\u1b73u\xe3\u1b75ee;\u62ceedge;\u62cfen\u803b\xa4\u40a4earrow\u0100lr\u1bee\u1bf3eft\xbb\u1b80ight\xbb\u1bbde\xe4\u1bdd\u0100ci\u1c01\u1c07onin\xf4\u01f7nt;\u6231lcty;\u632d\u0980AHabcdefhijlorstuwz\u1c38\u1c3b\u1c3f\u1c5d\u1c69\u1c75\u1c8a\u1c9e\u1cac\u1cb7\u1cfb\u1cff\u1d0d\u1d7b\u1d91\u1dab\u1dbb\u1dc6\u1dcdr\xf2\u0381ar;\u6965\u0200glrs\u1c48\u1c4d\u1c52\u1c54ger;\u6020eth;\u6138\xf2\u1133h\u0100;v\u1c5a\u1c5b\u6010\xbb\u090a\u016b\u1c61\u1c67arow;\u690fa\xe3\u0315\u0100ay\u1c6e\u1c73ron;\u410f;\u4434\u0180;ao\u0332\u1c7c\u1c84\u0100gr\u02bf\u1c81r;\u61catseq;\u6a77\u0180glm\u1c91\u1c94\u1c98\u803b\xb0\u40b0ta;\u43b4ptyv;\u69b1\u0100ir\u1ca3\u1ca8sht;\u697f;\uc000\u{1d521}ar\u0100lr\u1cb3\u1cb5\xbb\u08dc\xbb\u101e\u0280aegsv\u1cc2\u0378\u1cd6\u1cdc\u1ce0m\u0180;os\u0326\u1cca\u1cd4nd\u0100;s\u0326\u1cd1uit;\u6666amma;\u43ddin;\u62f2\u0180;io\u1ce7\u1ce8\u1cf8\u40f7de\u8100\xf7;o\u1ce7\u1cf0ntimes;\u62c7n\xf8\u1cf7cy;\u4452c\u026f\u1d06\0\0\u1d0arn;\u631eop;\u630d\u0280lptuw\u1d18\u1d1d\u1d22\u1d49\u1d55lar;\u4024f;\uc000\u{1d555}\u0280;emps\u030b\u1d2d\u1d37\u1d3d\u1d42q\u0100;d\u0352\u1d33ot;\u6251inus;\u6238lus;\u6214quare;\u62a1blebarwedg\xe5\xfan\u0180adh\u112e\u1d5d\u1d67ownarrow\xf3\u1c83arpoon\u0100lr\u1d72\u1d76ef\xf4\u1cb4igh\xf4\u1cb6\u0162\u1d7f\u1d85karo\xf7\u0f42\u026f\u1d8a\0\0\u1d8ern;\u631fop;\u630c\u0180cot\u1d98\u1da3\u1da6\u0100ry\u1d9d\u1da1;\uc000\u{1d4b9};\u4455l;\u69f6rok;\u4111\u0100dr\u1db0\u1db4ot;\u62f1i\u0100;f\u1dba\u1816\u65bf\u0100ah\u1dc0\u1dc3r\xf2\u0429a\xf2\u0fa6angle;\u69a6\u0100ci\u1dd2\u1dd5y;\u445fgrarr;\u67ff\u0900Dacdefglmnopqrstux\u1e01\u1e09\u1e19\u1e38\u0578\u1e3c\u1e49\u1e61\u1e7e\u1ea5\u1eaf\u1ebd\u1ee1\u1f2a\u1f37\u1f44\u1f4e\u1f5a\u0100Do\u1e06\u1d34o\xf4\u1c89\u0100cs\u1e0e\u1e14ute\u803b\xe9\u40e9ter;\u6a6e\u0200aioy\u1e22\u1e27\u1e31\u1e36ron;\u411br\u0100;c\u1e2d\u1e2e\u6256\u803b\xea\u40ealon;\u6255;\u444dot;\u4117\u0100Dr\u1e41\u1e45ot;\u6252;\uc000\u{1d522}\u0180;rs\u1e50\u1e51\u1e57\u6a9aave\u803b\xe8\u40e8\u0100;d\u1e5c\u1e5d\u6a96ot;\u6a98\u0200;ils\u1e6a\u1e6b\u1e72\u1e74\u6a99nters;\u63e7;\u6113\u0100;d\u1e79\u1e7a\u6a95ot;\u6a97\u0180aps\u1e85\u1e89\u1e97cr;\u4113ty\u0180;sv\u1e92\u1e93\u1e95\u6205et\xbb\u1e93p\u01001;\u1e9d\u1ea4\u0133\u1ea1\u1ea3;\u6004;\u6005\u6003\u0100gs\u1eaa\u1eac;\u414bp;\u6002\u0100gp\u1eb4\u1eb8on;\u4119f;\uc000\u{1d556}\u0180als\u1ec4\u1ece\u1ed2r\u0100;s\u1eca\u1ecb\u62d5l;\u69e3us;\u6a71i\u0180;lv\u1eda\u1edb\u1edf\u43b5on\xbb\u1edb;\u43f5\u0200csuv\u1eea\u1ef3\u1f0b\u1f23\u0100io\u1eef\u1e31rc\xbb\u1e2e\u0269\u1ef9\0\0\u1efb\xed\u0548ant\u0100gl\u1f02\u1f06tr\xbb\u1e5dess\xbb\u1e7a\u0180aei\u1f12\u1f16\u1f1als;\u403dst;\u625fv\u0100;D\u0235\u1f20D;\u6a78parsl;\u69e5\u0100Da\u1f2f\u1f33ot;\u6253rr;\u6971\u0180cdi\u1f3e\u1f41\u1ef8r;\u612fo\xf4\u0352\u0100ah\u1f49\u1f4b;\u43b7\u803b\xf0\u40f0\u0100mr\u1f53\u1f57l\u803b\xeb\u40ebo;\u60ac\u0180cip\u1f61\u1f64\u1f67l;\u4021s\xf4\u056e\u0100eo\u1f6c\u1f74ctatio\xee\u0559nential\xe5\u0579\u09e1\u1f92\0\u1f9e\0\u1fa1\u1fa7\0\0\u1fc6\u1fcc\0\u1fd3\0\u1fe6\u1fea\u2000\0\u2008\u205allingdotse\xf1\u1e44y;\u4444male;\u6640\u0180ilr\u1fad\u1fb3\u1fc1lig;\u8000\ufb03\u0269\u1fb9\0\0\u1fbdg;\u8000\ufb00ig;\u8000\ufb04;\uc000\u{1d523}lig;\u8000\ufb01lig;\uc000fj\u0180alt\u1fd9\u1fdc\u1fe1t;\u666dig;\u8000\ufb02ns;\u65b1of;\u4192\u01f0\u1fee\0\u1ff3f;\uc000\u{1d557}\u0100ak\u05bf\u1ff7\u0100;v\u1ffc\u1ffd\u62d4;\u6ad9artint;\u6a0d\u0100ao\u200c\u2055\u0100cs\u2011\u2052\u03b1\u201a\u2030\u2038\u2045\u2048\0\u2050\u03b2\u2022\u2025\u2027\u202a\u202c\0\u202e\u803b\xbd\u40bd;\u6153\u803b\xbc\u40bc;\u6155;\u6159;\u615b\u01b3\u2034\0\u2036;\u6154;\u6156\u02b4\u203e\u2041\0\0\u2043\u803b\xbe\u40be;\u6157;\u615c5;\u6158\u01b6\u204c\0\u204e;\u615a;\u615d8;\u615el;\u6044wn;\u6322cr;\uc000\u{1d4bb}\u0880Eabcdefgijlnorstv\u2082\u2089\u209f\u20a5\u20b0\u20b4\u20f0\u20f5\u20fa\u20ff\u2103\u2112\u2138\u0317\u213e\u2152\u219e\u0100;l\u064d\u2087;\u6a8c\u0180cmp\u2090\u2095\u209dute;\u41f5ma\u0100;d\u209c\u1cda\u43b3;\u6a86reve;\u411f\u0100iy\u20aa\u20aerc;\u411d;\u4433ot;\u4121\u0200;lqs\u063e\u0642\u20bd\u20c9\u0180;qs\u063e\u064c\u20c4lan\xf4\u0665\u0200;cdl\u0665\u20d2\u20d5\u20e5c;\u6aa9ot\u0100;o\u20dc\u20dd\u6a80\u0100;l\u20e2\u20e3\u6a82;\u6a84\u0100;e\u20ea\u20ed\uc000\u22db\ufe00s;\u6a94r;\uc000\u{1d524}\u0100;g\u0673\u061bmel;\u6137cy;\u4453\u0200;Eaj\u065a\u210c\u210e\u2110;\u6a92;\u6aa5;\u6aa4\u0200Eaes\u211b\u211d\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6a8arox\xbb\u2124\u0100;q\u212e\u212f\u6a88\u0100;q\u212e\u211bim;\u62e7pf;\uc000\u{1d558}\u0100ci\u2143\u2146r;\u610am\u0180;el\u066b\u214e\u2150;\u6a8e;\u6a90\u8300>;cdlqr\u05ee\u2160\u216a\u216e\u2173\u2179\u0100ci\u2165\u2167;\u6aa7r;\u6a7aot;\u62d7Par;\u6995uest;\u6a7c\u0280adels\u2184\u216a\u2190\u0656\u219b\u01f0\u2189\0\u218epro\xf8\u209er;\u6978q\u0100lq\u063f\u2196les\xf3\u2088i\xed\u066b\u0100en\u21a3\u21adrtneqq;\uc000\u2269\ufe00\xc5\u21aa\u0500Aabcefkosy\u21c4\u21c7\u21f1\u21f5\u21fa\u2218\u221d\u222f\u2268\u227dr\xf2\u03a0\u0200ilmr\u21d0\u21d4\u21d7\u21dbrs\xf0\u1484f\xbb\u2024il\xf4\u06a9\u0100dr\u21e0\u21e4cy;\u444a\u0180;cw\u08f4\u21eb\u21efir;\u6948;\u61adar;\u610firc;\u4125\u0180alr\u2201\u220e\u2213rts\u0100;u\u2209\u220a\u6665it\xbb\u220alip;\u6026con;\u62b9r;\uc000\u{1d525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223a\u223e\u2243\u225e\u2263rr;\u61fftht;\u623bk\u0100lr\u2249\u2253eftarrow;\u61a9ightarrow;\u61aaf;\uc000\u{1d559}bar;\u6015\u0180clt\u226f\u2274\u2278r;\uc000\u{1d4bd}as\xe8\u21f4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xbb\u1c5b\u0ae1\u22a3\0\u22aa\0\u22b8\u22c5\u22ce\0\u22d5\u22f3\0\0\u22f8\u2322\u2367\u2362\u237f\0\u2386\u23aa\u23b4cute\u803b\xed\u40ed\u0180;iy\u0771\u22b0\u22b5rc\u803b\xee\u40ee;\u4438\u0100cx\u22bc\u22bfy;\u4435cl\u803b\xa1\u40a1\u0100fr\u039f\u22c9;\uc000\u{1d526}rave\u803b\xec\u40ec\u0200;ino\u073e\u22dd\u22e9\u22ee\u0100in\u22e2\u22e6nt;\u6a0ct;\u622dfin;\u69dcta;\u6129lig;\u4133\u0180aop\u22fe\u231a\u231d\u0180cgt\u2305\u2308\u2317r;\u412b\u0180elp\u071f\u230f\u2313in\xe5\u078ear\xf4\u0720h;\u4131f;\u62b7ed;\u41b5\u0280;cfot\u04f4\u232c\u2331\u233d\u2341are;\u6105in\u0100;t\u2338\u2339\u621eie;\u69dddo\xf4\u2319\u0280;celp\u0757\u234c\u2350\u235b\u2361al;\u62ba\u0100gr\u2355\u2359er\xf3\u1563\xe3\u234darhk;\u6a17rod;\u6a3c\u0200cgpt\u236f\u2372\u2376\u237by;\u4451on;\u412ff;\uc000\u{1d55a}a;\u43b9uest\u803b\xbf\u40bf\u0100ci\u238a\u238fr;\uc000\u{1d4be}n\u0280;Edsv\u04f4\u239b\u239d\u23a1\u04f3;\u62f9ot;\u62f5\u0100;v\u23a6\u23a7\u62f4;\u62f3\u0100;i\u0777\u23aelde;\u4129\u01eb\u23b8\0\u23bccy;\u4456l\u803b\xef\u40ef\u0300cfmosu\u23cc\u23d7\u23dc\u23e1\u23e7\u23f5\u0100iy\u23d1\u23d5rc;\u4135;\u4439r;\uc000\u{1d527}ath;\u4237pf;\uc000\u{1d55b}\u01e3\u23ec\0\u23f1r;\uc000\u{1d4bf}rcy;\u4458kcy;\u4454\u0400acfghjos\u240b\u2416\u2422\u2427\u242d\u2431\u2435\u243bppa\u0100;v\u2413\u2414\u43ba;\u43f0\u0100ey\u241b\u2420dil;\u4137;\u443ar;\uc000\u{1d528}reen;\u4138cy;\u4445cy;\u445cpf;\uc000\u{1d55c}cr;\uc000\u{1d4c0}\u0b80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248d\u2491\u250e\u253d\u255a\u2580\u264e\u265e\u2665\u2679\u267d\u269a\u26b2\u26d8\u275d\u2768\u278b\u27c0\u2801\u2812\u0180art\u2477\u247a\u247cr\xf2\u09c6\xf2\u0395ail;\u691barr;\u690e\u0100;g\u0994\u248b;\u6a8bar;\u6962\u0963\u24a5\0\u24aa\0\u24b1\0\0\0\0\0\u24b5\u24ba\0\u24c6\u24c8\u24cd\0\u24f9ute;\u413amptyv;\u69b4ra\xee\u084cbda;\u43bbg\u0180;dl\u088e\u24c1\u24c3;\u6991\xe5\u088e;\u6a85uo\u803b\xab\u40abr\u0400;bfhlpst\u0899\u24de\u24e6\u24e9\u24eb\u24ee\u24f1\u24f5\u0100;f\u089d\u24e3s;\u691fs;\u691d\xeb\u2252p;\u61abl;\u6939im;\u6973l;\u61a2\u0180;ae\u24ff\u2500\u2504\u6aabil;\u6919\u0100;s\u2509\u250a\u6aad;\uc000\u2aad\ufe00\u0180abr\u2515\u2519\u251drr;\u690crk;\u6772\u0100ak\u2522\u252cc\u0100ek\u2528\u252a;\u407b;\u405b\u0100es\u2531\u2533;\u698bl\u0100du\u2539\u253b;\u698f;\u698d\u0200aeuy\u2546\u254b\u2556\u2558ron;\u413e\u0100di\u2550\u2554il;\u413c\xec\u08b0\xe2\u2529;\u443b\u0200cqrs\u2563\u2566\u256d\u257da;\u6936uo\u0100;r\u0e19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694bh;\u61b2\u0280;fgqs\u258b\u258c\u0989\u25f3\u25ff\u6264t\u0280ahlrt\u2598\u25a4\u25b7\u25c2\u25e8rrow\u0100;t\u0899\u25a1a\xe9\u24f6arpoon\u0100du\u25af\u25b4own\xbb\u045ap\xbb\u0966eftarrows;\u61c7ight\u0180ahs\u25cd\u25d6\u25derrow\u0100;s\u08f4\u08a7arpoon\xf3\u0f98quigarro\xf7\u21f0hreetimes;\u62cb\u0180;qs\u258b\u0993\u25falan\xf4\u09ac\u0280;cdgs\u09ac\u260a\u260d\u261d\u2628c;\u6aa8ot\u0100;o\u2614\u2615\u6a7f\u0100;r\u261a\u261b\u6a81;\u6a83\u0100;e\u2622\u2625\uc000\u22da\ufe00s;\u6a93\u0280adegs\u2633\u2639\u263d\u2649\u264bppro\xf8\u24c6ot;\u62d6q\u0100gq\u2643\u2645\xf4\u0989gt\xf2\u248c\xf4\u099bi\xed\u09b2\u0180ilr\u2655\u08e1\u265asht;\u697c;\uc000\u{1d529}\u0100;E\u099c\u2663;\u6a91\u0161\u2669\u2676r\u0100du\u25b2\u266e\u0100;l\u0965\u2673;\u696alk;\u6584cy;\u4459\u0280;acht\u0a48\u2688\u268b\u2691\u2696r\xf2\u25c1orne\xf2\u1d08ard;\u696bri;\u65fa\u0100io\u269f\u26a4dot;\u4140ust\u0100;a\u26ac\u26ad\u63b0che\xbb\u26ad\u0200Eaes\u26bb\u26bd\u26c9\u26d4;\u6268p\u0100;p\u26c3\u26c4\u6a89rox\xbb\u26c4\u0100;q\u26ce\u26cf\u6a87\u0100;q\u26ce\u26bbim;\u62e6\u0400abnoptwz\u26e9\u26f4\u26f7\u271a\u272f\u2741\u2747\u2750\u0100nr\u26ee\u26f1g;\u67ecr;\u61fdr\xeb\u08c1g\u0180lmr\u26ff\u270d\u2714eft\u0100ar\u09e6\u2707ight\xe1\u09f2apsto;\u67fcight\xe1\u09fdparrow\u0100lr\u2725\u2729ef\xf4\u24edight;\u61ac\u0180afl\u2736\u2739\u273dr;\u6985;\uc000\u{1d55d}us;\u6a2dimes;\u6a34\u0161\u274b\u274fst;\u6217\xe1\u134e\u0180;ef\u2757\u2758\u1800\u65cange\xbb\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277c\u2785\u2787r\xf2\u08a8orne\xf2\u1d8car\u0100;d\u0f98\u2783;\u696d;\u600eri;\u62bf\u0300achiqt\u2798\u279d\u0a40\u27a2\u27ae\u27bbquo;\u6039r;\uc000\u{1d4c1}m\u0180;eg\u09b2\u27aa\u27ac;\u6a8d;\u6a8f\u0100bu\u252a\u27b3o\u0100;r\u0e1f\u27b9;\u601arok;\u4142\u8400<;cdhilqr\u082b\u27d2\u2639\u27dc\u27e0\u27e5\u27ea\u27f0\u0100ci\u27d7\u27d9;\u6aa6r;\u6a79re\xe5\u25f2mes;\u62c9arr;\u6976uest;\u6a7b\u0100Pi\u27f5\u27f9ar;\u6996\u0180;ef\u2800\u092d\u181b\u65c3r\u0100du\u2807\u280dshar;\u694ahar;\u6966\u0100en\u2817\u2821rtneqq;\uc000\u2268\ufe00\xc5\u281e\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288e\u2893\u28a0\u28a5\u28a8\u28da\u28e2\u28e4\u0a83\u28f3\u2902Dot;\u623a\u0200clpr\u284e\u2852\u2863\u287dr\u803b\xaf\u40af\u0100et\u2857\u2859;\u6642\u0100;e\u285e\u285f\u6720se\xbb\u285f\u0100;s\u103b\u2868to\u0200;dlu\u103b\u2873\u2877\u287bow\xee\u048cef\xf4\u090f\xf0\u13d1ker;\u65ae\u0100oy\u2887\u288cmma;\u6a29;\u443cash;\u6014asuredangle\xbb\u1626r;\uc000\u{1d52a}o;\u6127\u0180cdn\u28af\u28b4\u28c9ro\u803b\xb5\u40b5\u0200;acd\u1464\u28bd\u28c0\u28c4s\xf4\u16a7ir;\u6af0ot\u80bb\xb7\u01b5us\u0180;bd\u28d2\u1903\u28d3\u6212\u0100;u\u1d3c\u28d8;\u6a2a\u0163\u28de\u28e1p;\u6adb\xf2\u2212\xf0\u0a81\u0100dp\u28e9\u28eeels;\u62a7f;\uc000\u{1d55e}\u0100ct\u28f8\u28fdr;\uc000\u{1d4c2}pos\xbb\u159d\u0180;lm\u2909\u290a\u290d\u43bctimap;\u62b8\u0c00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297e\u2989\u2998\u29da\u29e9\u2a15\u2a1a\u2a58\u2a5d\u2a83\u2a95\u2aa4\u2aa8\u2b04\u2b07\u2b44\u2b7f\u2bae\u2c34\u2c67\u2c7c\u2ce9\u0100gt\u2947\u294b;\uc000\u22d9\u0338\u0100;v\u2950\u0bcf\uc000\u226b\u20d2\u0180elt\u295a\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61cdightarrow;\u61ce;\uc000\u22d8\u0338\u0100;v\u297b\u0c47\uc000\u226a\u20d2ightarrow;\u61cf\u0100Dd\u298e\u2993ash;\u62afash;\u62ae\u0280bcnpt\u29a3\u29a7\u29ac\u29b1\u29ccla\xbb\u02deute;\u4144g;\uc000\u2220\u20d2\u0280;Eiop\u0d84\u29bc\u29c0\u29c5\u29c8;\uc000\u2a70\u0338d;\uc000\u224b\u0338s;\u4149ro\xf8\u0d84ur\u0100;a\u29d3\u29d4\u666el\u0100;s\u29d3\u0b38\u01f3\u29df\0\u29e3p\u80bb\xa0\u0b37mp\u0100;e\u0bf9\u0c00\u0280aeouy\u29f4\u29fe\u2a03\u2a10\u2a13\u01f0\u29f9\0\u29fb;\u6a43on;\u4148dil;\u4146ng\u0100;d\u0d7e\u2a0aot;\uc000\u2a6d\u0338p;\u6a42;\u443dash;\u6013\u0380;Aadqsx\u0b92\u2a29\u2a2d\u2a3b\u2a41\u2a45\u2a50rr;\u61d7r\u0100hr\u2a33\u2a36k;\u6924\u0100;o\u13f2\u13f0ot;\uc000\u2250\u0338ui\xf6\u0b63\u0100ei\u2a4a\u2a4ear;\u6928\xed\u0b98ist\u0100;s\u0ba0\u0b9fr;\uc000\u{1d52b}\u0200Eest\u0bc5\u2a66\u2a79\u2a7c\u0180;qs\u0bbc\u2a6d\u0be1\u0180;qs\u0bbc\u0bc5\u2a74lan\xf4\u0be2i\xed\u0bea\u0100;r\u0bb6\u2a81\xbb\u0bb7\u0180Aap\u2a8a\u2a8d\u2a91r\xf2\u2971rr;\u61aear;\u6af2\u0180;sv\u0f8d\u2a9c\u0f8c\u0100;d\u2aa1\u2aa2\u62fc;\u62facy;\u445a\u0380AEadest\u2ab7\u2aba\u2abe\u2ac2\u2ac5\u2af6\u2af9r\xf2\u2966;\uc000\u2266\u0338rr;\u619ar;\u6025\u0200;fqs\u0c3b\u2ace\u2ae3\u2aeft\u0100ar\u2ad4\u2ad9rro\xf7\u2ac1ightarro\xf7\u2a90\u0180;qs\u0c3b\u2aba\u2aealan\xf4\u0c55\u0100;s\u0c55\u2af4\xbb\u0c36i\xed\u0c5d\u0100;r\u0c35\u2afei\u0100;e\u0c1a\u0c25i\xe4\u0d90\u0100pt\u2b0c\u2b11f;\uc000\u{1d55f}\u8180\xac;in\u2b19\u2b1a\u2b36\u40acn\u0200;Edv\u0b89\u2b24\u2b28\u2b2e;\uc000\u22f9\u0338ot;\uc000\u22f5\u0338\u01e1\u0b89\u2b33\u2b35;\u62f7;\u62f6i\u0100;v\u0cb8\u2b3c\u01e1\u0cb8\u2b41\u2b43;\u62fe;\u62fd\u0180aor\u2b4b\u2b63\u2b69r\u0200;ast\u0b7b\u2b55\u2b5a\u2b5flle\xec\u0b7bl;\uc000\u2afd\u20e5;\uc000\u2202\u0338lint;\u6a14\u0180;ce\u0c92\u2b70\u2b73u\xe5\u0ca5\u0100;c\u0c98\u2b78\u0100;e\u0c92\u2b7d\xf1\u0c98\u0200Aait\u2b88\u2b8b\u2b9d\u2ba7r\xf2\u2988rr\u0180;cw\u2b94\u2b95\u2b99\u619b;\uc000\u2933\u0338;\uc000\u219d\u0338ghtarrow\xbb\u2b95ri\u0100;e\u0ccb\u0cd6\u0380chimpqu\u2bbd\u2bcd\u2bd9\u2b04\u0b78\u2be4\u2bef\u0200;cer\u0d32\u2bc6\u0d37\u2bc9u\xe5\u0d45;\uc000\u{1d4c3}ort\u026d\u2b05\0\0\u2bd6ar\xe1\u2b56m\u0100;e\u0d6e\u2bdf\u0100;q\u0d74\u0d73su\u0100bp\u2beb\u2bed\xe5\u0cf8\xe5\u0d0b\u0180bcp\u2bf6\u2c11\u2c19\u0200;Ees\u2bff\u2c00\u0d22\u2c04\u6284;\uc000\u2ac5\u0338et\u0100;e\u0d1b\u2c0bq\u0100;q\u0d23\u2c00c\u0100;e\u0d32\u2c17\xf1\u0d38\u0200;Ees\u2c22\u2c23\u0d5f\u2c27\u6285;\uc000\u2ac6\u0338et\u0100;e\u0d58\u2c2eq\u0100;q\u0d60\u2c23\u0200gilr\u2c3d\u2c3f\u2c45\u2c47\xec\u0bd7lde\u803b\xf1\u40f1\xe7\u0c43iangle\u0100lr\u2c52\u2c5ceft\u0100;e\u0c1a\u2c5a\xf1\u0c26ight\u0100;e\u0ccb\u2c65\xf1\u0cd7\u0100;m\u2c6c\u2c6d\u43bd\u0180;es\u2c74\u2c75\u2c79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2c8f\u2c94\u2c99\u2c9e\u2ca3\u2cb0\u2cb6\u2cd3\u2ce3ash;\u62adarr;\u6904p;\uc000\u224d\u20d2ash;\u62ac\u0100et\u2ca8\u2cac;\uc000\u2265\u20d2;\uc000>\u20d2nfin;\u69de\u0180Aet\u2cbd\u2cc1\u2cc5rr;\u6902;\uc000\u2264\u20d2\u0100;r\u2cca\u2ccd\uc000<\u20d2ie;\uc000\u22b4\u20d2\u0100At\u2cd8\u2cdcrr;\u6903rie;\uc000\u22b5\u20d2im;\uc000\u223c\u20d2\u0180Aan\u2cf0\u2cf4\u2d02rr;\u61d6r\u0100hr\u2cfa\u2cfdk;\u6923\u0100;o\u13e7\u13e5ear;\u6927\u1253\u1a95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2d2d\0\u2d38\u2d48\u2d60\u2d65\u2d72\u2d84\u1b07\0\0\u2d8d\u2dab\0\u2dc8\u2dce\0\u2ddc\u2e19\u2e2b\u2e3e\u2e43\u0100cs\u2d31\u1a97ute\u803b\xf3\u40f3\u0100iy\u2d3c\u2d45r\u0100;c\u1a9e\u2d42\u803b\xf4\u40f4;\u443e\u0280abios\u1aa0\u2d52\u2d57\u01c8\u2d5alac;\u4151v;\u6a38old;\u69bclig;\u4153\u0100cr\u2d69\u2d6dir;\u69bf;\uc000\u{1d52c}\u036f\u2d79\0\0\u2d7c\0\u2d82n;\u42dbave\u803b\xf2\u40f2;\u69c1\u0100bm\u2d88\u0df4ar;\u69b5\u0200acit\u2d95\u2d98\u2da5\u2da8r\xf2\u1a80\u0100ir\u2d9d\u2da0r;\u69beoss;\u69bbn\xe5\u0e52;\u69c0\u0180aei\u2db1\u2db5\u2db9cr;\u414dga;\u43c9\u0180cdn\u2dc0\u2dc5\u01cdron;\u43bf;\u69b6pf;\uc000\u{1d560}\u0180ael\u2dd4\u2dd7\u01d2r;\u69b7rp;\u69b9\u0380;adiosv\u2dea\u2deb\u2dee\u2e08\u2e0d\u2e10\u2e16\u6228r\xf2\u1a86\u0200;efm\u2df7\u2df8\u2e02\u2e05\u6a5dr\u0100;o\u2dfe\u2dff\u6134f\xbb\u2dff\u803b\xaa\u40aa\u803b\xba\u40bagof;\u62b6r;\u6a56lope;\u6a57;\u6a5b\u0180clo\u2e1f\u2e21\u2e27\xf2\u2e01ash\u803b\xf8\u40f8l;\u6298i\u016c\u2e2f\u2e34de\u803b\xf5\u40f5es\u0100;a\u01db\u2e3as;\u6a36ml\u803b\xf6\u40f6bar;\u633d\u0ae1\u2e5e\0\u2e7d\0\u2e80\u2e9d\0\u2ea2\u2eb9\0\0\u2ecb\u0e9c\0\u2f13\0\0\u2f2b\u2fbc\0\u2fc8r\u0200;ast\u0403\u2e67\u2e72\u0e85\u8100\xb6;l\u2e6d\u2e6e\u40b6le\xec\u0403\u0269\u2e78\0\0\u2e7bm;\u6af3;\u6afdy;\u443fr\u0280cimpt\u2e8b\u2e8f\u2e93\u1865\u2e97nt;\u4025od;\u402eil;\u6030enk;\u6031r;\uc000\u{1d52d}\u0180imo\u2ea8\u2eb0\u2eb4\u0100;v\u2ead\u2eae\u43c6;\u43d5ma\xf4\u0a76ne;\u660e\u0180;tv\u2ebf\u2ec0\u2ec8\u43c0chfork\xbb\u1ffd;\u43d6\u0100au\u2ecf\u2edfn\u0100ck\u2ed5\u2eddk\u0100;h\u21f4\u2edb;\u610e\xf6\u21f4s\u0480;abcdemst\u2ef3\u2ef4\u1908\u2ef9\u2efd\u2f04\u2f06\u2f0a\u2f0e\u402bcir;\u6a23ir;\u6a22\u0100ou\u1d40\u2f02;\u6a25;\u6a72n\u80bb\xb1\u0e9dim;\u6a26wo;\u6a27\u0180ipu\u2f19\u2f20\u2f25ntint;\u6a15f;\uc000\u{1d561}nd\u803b\xa3\u40a3\u0500;Eaceinosu\u0ec8\u2f3f\u2f41\u2f44\u2f47\u2f81\u2f89\u2f92\u2f7e\u2fb6;\u6ab3p;\u6ab7u\xe5\u0ed9\u0100;c\u0ece\u2f4c\u0300;acens\u0ec8\u2f59\u2f5f\u2f66\u2f68\u2f7eppro\xf8\u2f43urlye\xf1\u0ed9\xf1\u0ece\u0180aes\u2f6f\u2f76\u2f7approx;\u6ab9qq;\u6ab5im;\u62e8i\xed\u0edfme\u0100;s\u2f88\u0eae\u6032\u0180Eas\u2f78\u2f90\u2f7a\xf0\u2f75\u0180dfp\u0eec\u2f99\u2faf\u0180als\u2fa0\u2fa5\u2faalar;\u632eine;\u6312urf;\u6313\u0100;t\u0efb\u2fb4\xef\u0efbrel;\u62b0\u0100ci\u2fc0\u2fc5r;\uc000\u{1d4c5};\u43c8ncsp;\u6008\u0300fiopsu\u2fda\u22e2\u2fdf\u2fe5\u2feb\u2ff1r;\uc000\u{1d52e}pf;\uc000\u{1d562}rime;\u6057cr;\uc000\u{1d4c6}\u0180aeo\u2ff8\u3009\u3013t\u0100ei\u2ffe\u3005rnion\xf3\u06b0nt;\u6a16st\u0100;e\u3010\u3011\u403f\xf1\u1f19\xf4\u0f14\u0a80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30e0\u310e\u312b\u3147\u3162\u3172\u318e\u3206\u3215\u3224\u3229\u3258\u326e\u3272\u3290\u32b0\u32b7\u0180art\u3047\u304a\u304cr\xf2\u10b3\xf2\u03ddail;\u691car\xf2\u1c65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307f\u308f\u3094\u30cc\u0100eu\u306d\u3071;\uc000\u223d\u0331te;\u4155i\xe3\u116emptyv;\u69b3g\u0200;del\u0fd1\u3089\u308b\u308d;\u6992;\u69a5\xe5\u0fd1uo\u803b\xbb\u40bbr\u0580;abcfhlpstw\u0fdc\u30ac\u30af\u30b7\u30b9\u30bc\u30be\u30c0\u30c3\u30c7\u30cap;\u6975\u0100;f\u0fe0\u30b4s;\u6920;\u6933s;\u691e\xeb\u225d\xf0\u272el;\u6945im;\u6974l;\u61a3;\u619d\u0100ai\u30d1\u30d5il;\u691ao\u0100;n\u30db\u30dc\u6236al\xf3\u0f1e\u0180abr\u30e7\u30ea\u30eer\xf2\u17e5rk;\u6773\u0100ak\u30f3\u30fdc\u0100ek\u30f9\u30fb;\u407d;\u405d\u0100es\u3102\u3104;\u698cl\u0100du\u310a\u310c;\u698e;\u6990\u0200aeuy\u3117\u311c\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xec\u0ff2\xe2\u30fa;\u4440\u0200clqs\u3134\u3137\u313d\u3144a;\u6937dhar;\u6969uo\u0100;r\u020e\u020dh;\u61b3\u0180acg\u314e\u315f\u0f44l\u0200;ips\u0f78\u3158\u315b\u109cn\xe5\u10bbar\xf4\u0fa9t;\u65ad\u0180ilr\u3169\u1023\u316esht;\u697d;\uc000\u{1d52f}\u0100ao\u3177\u3186r\u0100du\u317d\u317f\xbb\u047b\u0100;l\u1091\u3184;\u696c\u0100;v\u318b\u318c\u43c1;\u43f1\u0180gns\u3195\u31f9\u31fcht\u0300ahlrst\u31a4\u31b0\u31c2\u31d8\u31e4\u31eerrow\u0100;t\u0fdc\u31ada\xe9\u30c8arpoon\u0100du\u31bb\u31bfow\xee\u317ep\xbb\u1092eft\u0100ah\u31ca\u31d0rrow\xf3\u0feaarpoon\xf3\u0551ightarrows;\u61c9quigarro\xf7\u30cbhreetimes;\u62ccg;\u42daingdotse\xf1\u1f32\u0180ahm\u320d\u3210\u3213r\xf2\u0feaa\xf2\u0551;\u600foust\u0100;a\u321e\u321f\u63b1che\xbb\u321fmid;\u6aee\u0200abpt\u3232\u323d\u3240\u3252\u0100nr\u3237\u323ag;\u67edr;\u61fer\xeb\u1003\u0180afl\u3247\u324a\u324er;\u6986;\uc000\u{1d563}us;\u6a2eimes;\u6a35\u0100ap\u325d\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6a12ar\xf2\u31e3\u0200achq\u327b\u3280\u10bc\u3285quo;\u603ar;\uc000\u{1d4c7}\u0100bu\u30fb\u328ao\u0100;r\u0214\u0213\u0180hir\u3297\u329b\u32a0re\xe5\u31f8mes;\u62cai\u0200;efl\u32aa\u1059\u1821\u32ab\u65b9tri;\u69celuhar;\u6968;\u611e\u0d61\u32d5\u32db\u32df\u332c\u3338\u3371\0\u337a\u33a4\0\0\u33ec\u33f0\0\u3428\u3448\u345a\u34ad\u34b1\u34ca\u34f1\0\u3616\0\0\u3633cute;\u415bqu\xef\u27ba\u0500;Eaceinpsy\u11ed\u32f3\u32f5\u32ff\u3302\u330b\u330f\u331f\u3326\u3329;\u6ab4\u01f0\u32fa\0\u32fc;\u6ab8on;\u4161u\xe5\u11fe\u0100;d\u11f3\u3307il;\u415frc;\u415d\u0180Eas\u3316\u3318\u331b;\u6ab6p;\u6abaim;\u62e9olint;\u6a13i\xed\u1204;\u4441ot\u0180;be\u3334\u1d47\u3335\u62c5;\u6a66\u0380Aacmstx\u3346\u334a\u3357\u335b\u335e\u3363\u336drr;\u61d8r\u0100hr\u3350\u3352\xeb\u2228\u0100;o\u0a36\u0a34t\u803b\xa7\u40a7i;\u403bwar;\u6929m\u0100in\u3369\xf0nu\xf3\xf1t;\u6736r\u0100;o\u3376\u2055\uc000\u{1d530}\u0200acoy\u3382\u3386\u3391\u33a0rp;\u666f\u0100hy\u338b\u338fcy;\u4449;\u4448rt\u026d\u3399\0\0\u339ci\xe4\u1464ara\xec\u2e6f\u803b\xad\u40ad\u0100gm\u33a8\u33b4ma\u0180;fv\u33b1\u33b2\u33b2\u43c3;\u43c2\u0400;deglnpr\u12ab\u33c5\u33c9\u33ce\u33d6\u33de\u33e1\u33e6ot;\u6a6a\u0100;q\u12b1\u12b0\u0100;E\u33d3\u33d4\u6a9e;\u6aa0\u0100;E\u33db\u33dc\u6a9d;\u6a9fe;\u6246lus;\u6a24arr;\u6972ar\xf2\u113d\u0200aeit\u33f8\u3408\u340f\u3417\u0100ls\u33fd\u3404lsetm\xe9\u336ahp;\u6a33parsl;\u69e4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341c\u341d\u6aaa\u0100;s\u3422\u3423\u6aac;\uc000\u2aac\ufe00\u0180flp\u342e\u3433\u3442tcy;\u444c\u0100;b\u3438\u3439\u402f\u0100;a\u343e\u343f\u69c4r;\u633ff;\uc000\u{1d564}a\u0100dr\u344d\u0402es\u0100;u\u3454\u3455\u6660it\xbb\u3455\u0180csu\u3460\u3479\u349f\u0100au\u3465\u346fp\u0100;s\u1188\u346b;\uc000\u2293\ufe00p\u0100;s\u11b4\u3475;\uc000\u2294\ufe00u\u0100bp\u347f\u348f\u0180;es\u1197\u119c\u3486et\u0100;e\u1197\u348d\xf1\u119d\u0180;es\u11a8\u11ad\u3496et\u0100;e\u11a8\u349d\xf1\u11ae\u0180;af\u117b\u34a6\u05b0r\u0165\u34ab\u05b1\xbb\u117car\xf2\u1148\u0200cemt\u34b9\u34be\u34c2\u34c5r;\uc000\u{1d4c8}tm\xee\xf1i\xec\u3415ar\xe6\u11be\u0100ar\u34ce\u34d5r\u0100;f\u34d4\u17bf\u6606\u0100an\u34da\u34edight\u0100ep\u34e3\u34eapsilo\xee\u1ee0h\xe9\u2eafs\xbb\u2852\u0280bcmnp\u34fb\u355e\u1209\u358b\u358e\u0480;Edemnprs\u350e\u350f\u3511\u3515\u351e\u3523\u352c\u3531\u3536\u6282;\u6ac5ot;\u6abd\u0100;d\u11da\u351aot;\u6ac3ult;\u6ac1\u0100Ee\u3528\u352a;\u6acb;\u628alus;\u6abfarr;\u6979\u0180eiu\u353d\u3552\u3555t\u0180;en\u350e\u3545\u354bq\u0100;q\u11da\u350feq\u0100;q\u352b\u3528m;\u6ac7\u0100bp\u355a\u355c;\u6ad5;\u6ad3c\u0300;acens\u11ed\u356c\u3572\u3579\u357b\u3326ppro\xf8\u32faurlye\xf1\u11fe\xf1\u11f3\u0180aes\u3582\u3588\u331bppro\xf8\u331aq\xf1\u3317g;\u666a\u0680123;Edehlmnps\u35a9\u35ac\u35af\u121c\u35b2\u35b4\u35c0\u35c9\u35d5\u35da\u35df\u35e8\u35ed\u803b\xb9\u40b9\u803b\xb2\u40b2\u803b\xb3\u40b3;\u6ac6\u0100os\u35b9\u35bct;\u6abeub;\u6ad8\u0100;d\u1222\u35c5ot;\u6ac4s\u0100ou\u35cf\u35d2l;\u67c9b;\u6ad7arr;\u697bult;\u6ac2\u0100Ee\u35e4\u35e6;\u6acc;\u628blus;\u6ac0\u0180eiu\u35f4\u3609\u360ct\u0180;en\u121c\u35fc\u3602q\u0100;q\u1222\u35b2eq\u0100;q\u35e7\u35e4m;\u6ac8\u0100bp\u3611\u3613;\u6ad4;\u6ad6\u0180Aan\u361c\u3620\u362drr;\u61d9r\u0100hr\u3626\u3628\xeb\u222e\u0100;o\u0a2b\u0a29war;\u692alig\u803b\xdf\u40df\u0be1\u3651\u365d\u3660\u12ce\u3673\u3679\0\u367e\u36c2\0\0\0\0\0\u36db\u3703\0\u3709\u376c\0\0\0\u3787\u0272\u3656\0\0\u365bget;\u6316;\u43c4r\xeb\u0e5f\u0180aey\u3666\u366b\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uc000\u{1d531}\u0200eiko\u3686\u369d\u36b5\u36bc\u01f2\u368b\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369b\u43b8ym;\u43d1\u0100cn\u36a2\u36b2k\u0100as\u36a8\u36aeppro\xf8\u12c1im\xbb\u12acs\xf0\u129e\u0100as\u36ba\u36ae\xf0\u12c1rn\u803b\xfe\u40fe\u01ec\u031f\u36c6\u22e7es\u8180\xd7;bd\u36cf\u36d0\u36d8\u40d7\u0100;a\u190f\u36d5r;\u6a31;\u6a30\u0180eps\u36e1\u36e3\u3700\xe1\u2a4d\u0200;bcf\u0486\u36ec\u36f0\u36f4ot;\u6336ir;\u6af1\u0100;o\u36f9\u36fc\uc000\u{1d565}rk;\u6ada\xe1\u3362rime;\u6034\u0180aip\u370f\u3712\u3764d\xe5\u1248\u0380adempst\u3721\u374d\u3740\u3751\u3757\u375c\u375fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65b5own\xbb\u1dbbeft\u0100;e\u2800\u373e\xf1\u092e;\u625cight\u0100;e\u32aa\u374b\xf1\u105aot;\u65ecinus;\u6a3alus;\u6a39b;\u69cdime;\u6a3bezium;\u63e2\u0180cht\u3772\u377d\u3781\u0100ry\u3777\u377b;\uc000\u{1d4c9};\u4446cy;\u445brok;\u4167\u0100io\u378b\u378ex\xf4\u1777head\u0100lr\u3797\u37a0eftarro\xf7\u084fightarrow\xbb\u0f5d\u0900AHabcdfghlmoprstuw\u37d0\u37d3\u37d7\u37e4\u37f0\u37fc\u380e\u381c\u3823\u3834\u3851\u385d\u386b\u38a9\u38cc\u38d2\u38ea\u38f6r\xf2\u03edar;\u6963\u0100cr\u37dc\u37e2ute\u803b\xfa\u40fa\xf2\u1150r\u01e3\u37ea\0\u37edy;\u445eve;\u416d\u0100iy\u37f5\u37farc\u803b\xfb\u40fb;\u4443\u0180abh\u3803\u3806\u380br\xf2\u13adlac;\u4171a\xf2\u13c3\u0100ir\u3813\u3818sht;\u697e;\uc000\u{1d532}rave\u803b\xf9\u40f9\u0161\u3827\u3831r\u0100lr\u382c\u382e\xbb\u0957\xbb\u1083lk;\u6580\u0100ct\u3839\u384d\u026f\u383f\0\0\u384arn\u0100;e\u3845\u3846\u631cr\xbb\u3846op;\u630fri;\u65f8\u0100al\u3856\u385acr;\u416b\u80bb\xa8\u0349\u0100gp\u3862\u3866on;\u4173f;\uc000\u{1d566}\u0300adhlsu\u114b\u3878\u387d\u1372\u3891\u38a0own\xe1\u13b3arpoon\u0100lr\u3888\u388cef\xf4\u382digh\xf4\u382fi\u0180;hl\u3899\u389a\u389c\u43c5\xbb\u13faon\xbb\u389aparrows;\u61c8\u0180cit\u38b0\u38c4\u38c8\u026f\u38b6\0\0\u38c1rn\u0100;e\u38bc\u38bd\u631dr\xbb\u38bdop;\u630eng;\u416fri;\u65f9cr;\uc000\u{1d4ca}\u0180dir\u38d9\u38dd\u38e2ot;\u62f0lde;\u4169i\u0100;f\u3730\u38e8\xbb\u1813\u0100am\u38ef\u38f2r\xf2\u38a8l\u803b\xfc\u40fcangle;\u69a7\u0780ABDacdeflnoprsz\u391c\u391f\u3929\u392d\u39b5\u39b8\u39bd\u39df\u39e4\u39e8\u39f3\u39f9\u39fd\u3a01\u3a20r\xf2\u03f7ar\u0100;v\u3926\u3927\u6ae8;\u6ae9as\xe8\u03e1\u0100nr\u3932\u3937grt;\u699c\u0380eknprst\u34e3\u3946\u394b\u3952\u395d\u3964\u3996app\xe1\u2415othin\xe7\u1e96\u0180hir\u34eb\u2ec8\u3959op\xf4\u2fb5\u0100;h\u13b7\u3962\xef\u318d\u0100iu\u3969\u396dgm\xe1\u33b3\u0100bp\u3972\u3984setneq\u0100;q\u397d\u3980\uc000\u228a\ufe00;\uc000\u2acb\ufe00setneq\u0100;q\u398f\u3992\uc000\u228b\ufe00;\uc000\u2acc\ufe00\u0100hr\u399b\u399fet\xe1\u369ciangle\u0100lr\u39aa\u39afeft\xbb\u0925ight\xbb\u1051y;\u4432ash\xbb\u1036\u0180elr\u39c4\u39d2\u39d7\u0180;be\u2dea\u39cb\u39cfar;\u62bbq;\u625alip;\u62ee\u0100bt\u39dc\u1468a\xf2\u1469r;\uc000\u{1d533}tr\xe9\u39aesu\u0100bp\u39ef\u39f1\xbb\u0d1c\xbb\u0d59pf;\uc000\u{1d567}ro\xf0\u0efbtr\xe9\u39b4\u0100cu\u3a06\u3a0br;\uc000\u{1d4cb}\u0100bp\u3a10\u3a18n\u0100Ee\u3980\u3a16\xbb\u397en\u0100Ee\u3992\u3a1e\xbb\u3990igzag;\u699a\u0380cefoprs\u3a36\u3a3b\u3a56\u3a5b\u3a54\u3a61\u3a6airc;\u4175\u0100di\u3a40\u3a51\u0100bg\u3a45\u3a49ar;\u6a5fe\u0100;q\u15fa\u3a4f;\u6259erp;\u6118r;\uc000\u{1d534}pf;\uc000\u{1d568}\u0100;e\u1479\u3a66at\xe8\u1479cr;\uc000\u{1d4cc}\u0ae3\u178e\u3a87\0\u3a8b\0\u3a90\u3a9b\0\0\u3a9d\u3aa8\u3aab\u3aaf\0\0\u3ac3\u3ace\0\u3ad8\u17dc\u17dftr\xe9\u17d1r;\uc000\u{1d535}\u0100Aa\u3a94\u3a97r\xf2\u03c3r\xf2\u09f6;\u43be\u0100Aa\u3aa1\u3aa4r\xf2\u03b8r\xf2\u09eba\xf0\u2713is;\u62fb\u0180dpt\u17a4\u3ab5\u3abe\u0100fl\u3aba\u17a9;\uc000\u{1d569}im\xe5\u17b2\u0100Aa\u3ac7\u3acar\xf2\u03cer\xf2\u0a01\u0100cq\u3ad2\u17b8r;\uc000\u{1d4cd}\u0100pt\u17d6\u3adcr\xe9\u17d4\u0400acefiosu\u3af0\u3afd\u3b08\u3b0c\u3b11\u3b15\u3b1b\u3b21c\u0100uy\u3af6\u3afbte\u803b\xfd\u40fd;\u444f\u0100iy\u3b02\u3b06rc;\u4177;\u444bn\u803b\xa5\u40a5r;\uc000\u{1d536}cy;\u4457pf;\uc000\u{1d56a}cr;\uc000\u{1d4ce}\u0100cm\u3b26\u3b29y;\u444el\u803b\xff\u40ff\u0500acdefhiosw\u3b42\u3b48\u3b54\u3b58\u3b64\u3b69\u3b6d\u3b74\u3b7a\u3b80cute;\u417a\u0100ay\u3b4d\u3b52ron;\u417e;\u4437ot;\u417c\u0100et\u3b5d\u3b61tr\xe6\u155fa;\u43b6r;\uc000\u{1d537}cy;\u4436grarr;\u61ddpf;\uc000\u{1d56b}cr;\uc000\u{1d4cf}\u0100jn\u3b85\u3b87;\u600dj;\u600c'.split("").map(n=>n.charCodeAt(0))),XF=new Uint16Array("\u0200aglq\t\x15\x18\x1b\u026d\x0f\0\0\x12p;\u4026os;\u4027t;\u403et;\u403cuot;\u4022".split("").map(n=>n.charCodeAt(0)));var $9;const MDe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Y6=null!==($9=String.fromCodePoint)&&void 0!==$9?$9:function(n){let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),e+=String.fromCharCode(n),e};function q9(n){var e;return n>=55296&&n<=57343||n>1114111?65533:null!==(e=MDe.get(n))&&void 0!==e?e:n}var nn=function(n){return n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z",n}(nn||{}),Ki=function(n){return n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE",n}(Ki||{});function K9(n){return n>=nn.ZERO&&n<=nn.NINE}function _De(n){return n>=nn.UPPER_A&&n<=nn.UPPER_F||n>=nn.LOWER_A&&n<=nn.LOWER_F}function ADe(n){return n===nn.EQUALS||function DDe(n){return n>=nn.UPPER_A&&n<=nn.UPPER_Z||n>=nn.LOWER_A&&n<=nn.LOWER_Z||K9(n)}(n)}var sn=function(n){return n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity",n}(sn||{}),tr=function(n){return n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute",n}(tr||{});class RDe{constructor(e,t,i){this.decodeTree=e,this.emitCodePoint=t,this.errors=i,this.state=sn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=tr.Strict}startEntity(e){this.decodeMode=e,this.state=sn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case sn.EntityStart:return e.charCodeAt(t)===nn.NUM?(this.state=sn.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=sn.NamedEntity,this.stateNamedEntity(e,t));case sn.NumericStart:return this.stateNumericStart(e,t);case sn.NumericDecimal:return this.stateNumericDecimal(e,t);case sn.NumericHex:return this.stateNumericHex(e,t);case sn.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===nn.LOWER_X?(this.state=sn.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=sn.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,i,s){if(t!==i){const r=i-t;this.result=this.result*Math.pow(s,r)+parseInt(e.substr(t,r),s),this.consumed+=r}}stateNumericHex(e,t){const i=t;for(;t<e.length;){const s=e.charCodeAt(t);if(!K9(s)&&!_De(s))return this.addToNumericResult(e,i,t,16),this.emitNumericEntity(s,3);t+=1}return this.addToNumericResult(e,i,t,16),-1}stateNumericDecimal(e,t){const i=t;for(;t<e.length;){const s=e.charCodeAt(t);if(!K9(s))return this.addToNumericResult(e,i,t,10),this.emitNumericEntity(s,2);t+=1}return this.addToNumericResult(e,i,t,10),-1}emitNumericEntity(e,t){var i;if(this.consumed<=t)return null===(i=this.errors)||void 0===i||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===nn.SEMI)this.consumed+=1;else if(this.decodeMode===tr.Strict)return 0;return this.emitCodePoint(q9(this.result),this.consumed),this.errors&&(e!==nn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:i}=this;let s=i[this.treeIndex],r=(s&Ki.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const o=e.charCodeAt(t);if(this.treeIndex=Y9(i,s,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return 0===this.result||this.decodeMode===tr.Attribute&&(0===r||ADe(o))?0:this.emitNotTerminatedNamedEntity();if(s=i[this.treeIndex],r=(s&Ki.VALUE_LENGTH)>>14,0!==r){if(o===nn.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==tr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:i}=this;return this.emitNamedEntityData(t,(i[t]&Ki.VALUE_LENGTH)>>14,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,i){const{decodeTree:s}=this;return this.emitCodePoint(1===t?s[e]&~Ki.VALUE_LENGTH:s[e+1],i),3===t&&this.emitCodePoint(s[e+2],i),i}end(){var e;switch(this.state){case sn.NamedEntity:return 0===this.result||this.decodeMode===tr.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case sn.NumericDecimal:return this.emitNumericEntity(0,2);case sn.NumericHex:return this.emitNumericEntity(0,3);case sn.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case sn.EntityStart:return 0}}}function ZF(n){let e="";const t=new RDe(n,i=>e+=Y6(i));return function(s,r){let o=0,a=0;for(;(a=s.indexOf("&",a))>=0;){e+=s.slice(o,a),t.startEntity(r);const l=t.write(s,a+1);if(l<0){o=a+t.end();break}o=a+l,a=0===l?o+1:o}const c=e+s.slice(o);return e="",c}}function Y9(n,e,t,i){const s=(e&Ki.BRANCH_LENGTH)>>7,r=e&Ki.JUMP_TABLE;if(0===s)return 0!==r&&i===r?t:-1;if(r){const c=i-r;return c<0||c>=s?-1:n[t+c]-1}let o=t,a=o+s-1;for(;o<=a;){const c=o+a>>>1,l=n[c];if(l<i)o=c+1;else{if(!(l>i))return n[c+s];a=c-1}}return-1}function Q6(n){for(let e=1;e<n.length;e++)n[e][0]+=n[e-1][0]+1;return n}ZF(kr),ZF(XF),new Map(Q6([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Q6([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Q6([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Q6([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const JF=/["&'<>$\x80-\uFFFF]/g,ez=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),NDe=null!=String.prototype.codePointAt?(n,e)=>n.codePointAt(e):(n,e)=>55296==(64512&n.charCodeAt(e))?1024*(n.charCodeAt(e)-55296)+n.charCodeAt(e+1)-56320+65536:n.charCodeAt(e);function tz(n){let i,e="",t=0;for(;null!==(i=JF.exec(n));){const s=i.index,r=n.charCodeAt(s),o=ez.get(r);void 0!==o?(e+=n.substring(t,s)+o,t=s+1):(e+=`${n.substring(t,s)}&#x${NDe(n,s).toString(16)};`,t=JF.lastIndex+=+(55296==(64512&r)))}return e+n.substr(t)}function X9(n,e){return function(i){let s,r=0,o="";for(;s=n.exec(i);)r!==s.index&&(o+=i.substring(r,s.index)),o+=e.get(s[0].charCodeAt(0)),r=s.index+1;return o+i.substring(r)}}X9(/[&<>'"]/g,ez);const nz=X9(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),iz=X9(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),IDe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(n=>[n.toLowerCase(),n])),ODe=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(n=>[n.toLowerCase(),n])),VDe=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function PDe(n){return n.replace(/"/g,"&quot;")}const rz=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Z9(n,e={}){const t="length"in n?n:[n];let i="";for(let s=0;s<t.length;s++)i+=zDe(t[s],e);return i}const oz=Z9;function zDe(n,e){switch(n.type){case pDe:return Z9(n.children,e);case wDe:case mDe:return function UDe(n){return`<${n.data}>`}(n);case CDe:return function $De(n){return`\x3c!--${n.data}--\x3e`}(n);case bDe:return function jDe(n){return`<![CDATA[${n.children[0].data}]]>`}(n);case vDe:case EDe:case yDe:return function BDe(n,e){var t;"foreign"===e.xmlMode&&(n.name=null!==(t=IDe.get(n.name))&&void 0!==t?t:n.name,n.parent&&kDe.has(n.parent.name)&&(e={...e,xmlMode:!1})),!e.xmlMode&&GDe.has(n.name)&&(e={...e,xmlMode:"foreign"});let i=`<${n.name}`;const s=function FDe(n,e){var t;if(!n)return;const i=!1===(null!==(t=e.encodeEntities)&&void 0!==t?t:e.decodeEntities)?PDe:e.xmlMode||"utf8"!==e.encodeEntities?tz:nz;return Object.keys(n).map(s=>{var r,o;const a=null!==(r=n[s])&&void 0!==r?r:"";return"foreign"===e.xmlMode&&(s=null!==(o=ODe.get(s))&&void 0!==o?o:s),e.emptyAttrs||e.xmlMode||""!==a?`${s}="${i(a)}"`:s}).join(" ")}(n.attribs,e);return s&&(i+=` ${s}`),0===n.children.length&&(e.xmlMode?!1!==e.selfClosingTags:e.selfClosingTags&&rz.has(n.name))?(e.xmlMode||(i+=" "),i+="/>"):(i+=">",n.children.length>0&&(i+=Z9(n.children,e)),(e.xmlMode||!rz.has(n.name))&&(i+=`</${n.name}>`)),i}(n,e);case gDe:return function WDe(n,e){var t;let i=n.data||"";return!1!==(null!==(t=e.encodeEntities)&&void 0!==t?t:e.decodeEntities)&&!(!e.xmlMode&&n.parent&&VDe.has(n.parent.name))&&(i=e.xmlMode||"utf8"!==e.encodeEntities?tz(i):iz(i)),i}(n,e)}}const kDe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),GDe=new Set(["svg","math"]);function az(n,e){return oz(n,e)}function qDe(n,e){return qt(n)?n.children.map(t=>az(t,e)).join(""):""}function X6(n){return Array.isArray(n)?n.map(X6).join(""):Ce(n)?"br"===n.name?"\n":X6(n.children):$6(n)?X6(n.children):er(n)?n.data:""}function q2(n){return Array.isArray(n)?n.map(q2).join(""):qt(n)&&!q6(n)?q2(n.children):er(n)?n.data:""}function Z6(n){return Array.isArray(n)?n.map(Z6).join(""):qt(n)&&(n.type===Ye.Tag||$6(n))?Z6(n.children):er(n)?n.data:""}function J6(n){return qt(n)?n.children:[]}function cz(n){return n.parent||null}function lz(n){const e=cz(n);if(null!=e)return J6(e);const t=[n];let{prev:i,next:s}=n;for(;null!=i;)t.unshift(i),({prev:i}=i);for(;null!=s;)t.push(s),({next:s}=s);return t}function KDe(n,e){var t;return null===(t=n.attribs)||void 0===t?void 0:t[e]}function YDe(n,e){return null!=n.attribs&&Object.prototype.hasOwnProperty.call(n.attribs,e)&&null!=n.attribs[e]}function QDe(n){return n.name}function J9(n){let{next:e}=n;for(;null!==e&&!Ce(e);)({next:e}=e);return e}function eC(n){let{prev:e}=n;for(;null!==e&&!Ce(e);)({prev:e}=e);return e}function Ka(n){if(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.parent){const e=n.parent.children,t=e.lastIndexOf(n);t>=0&&e.splice(t,1)}n.next=null,n.prev=null,n.parent=null}function XDe(n,e){const t=e.prev=n.prev;t&&(t.next=e);const i=e.next=n.next;i&&(i.prev=e);const s=e.parent=n.parent;if(s){const r=s.children;r[r.lastIndexOf(n)]=e,n.parent=null}}function ZDe(n,e){if(Ka(e),e.next=null,e.parent=n,n.children.push(e)>1){const t=n.children[n.children.length-2];t.next=e,e.prev=t}else e.prev=null}function JDe(n,e){Ka(e);const{parent:t}=n,i=n.next;if(e.next=i,e.prev=n,n.next=e,e.parent=t,i){if(i.prev=e,t){const s=t.children;s.splice(s.lastIndexOf(i),0,e)}}else t&&t.children.push(e)}function eAe(n,e){if(Ka(e),e.parent=n,e.prev=null,1!==n.children.unshift(e)){const t=n.children[1];t.prev=e,e.next=t}else e.next=null}function tAe(n,e){Ka(e);const{parent:t}=n;if(t){const i=t.children;i.splice(i.indexOf(n),0,e)}n.prev&&(n.prev.next=e),e.parent=t,e.prev=n.prev,e.next=n,n.prev=e}function eh(n,e,t=!0,i=1/0){return tC(n,Array.isArray(e)?e:[e],t,i)}function tC(n,e,t,i){const s=[],r=[e],o=[0];for(;;){if(o[0]>=r[0].length){if(1===o.length)return s;r.shift(),o.shift();continue}const a=r[0][o[0]++];if(n(a)&&(s.push(a),--i<=0))return s;t&&qt(a)&&a.children.length>0&&(o.unshift(0),r.unshift(a.children))}}function nAe(n,e){return e.find(n)}function nC(n,e,t=!0){let i=null;for(let s=0;s<e.length&&!i;s++){const r=e[s];Ce(r)&&(n(r)?i=r:t&&r.children.length>0&&(i=nC(n,r.children,!0)))}return i}function uz(n,e){return e.some(t=>Ce(t)&&(n(t)||uz(n,t.children)))}function iAe(n,e){const t=[],i=[e],s=[0];for(;;){if(s[0]>=i[0].length){if(1===i.length)return t;i.shift(),s.shift();continue}const r=i[0][s[0]++];Ce(r)&&(n(r)&&t.push(r),r.children.length>0&&(s.unshift(0),i.unshift(r.children)))}}const th={tag_name:n=>"function"==typeof n?e=>Ce(e)&&n(e.name):"*"===n?Ce:e=>Ce(e)&&e.name===n,tag_type:n=>"function"==typeof n?e=>n(e.type):e=>e.type===n,tag_contains:n=>"function"==typeof n?e=>er(e)&&n(e.data):e=>er(e)&&e.data===n};function dz(n,e){return"function"==typeof e?t=>Ce(t)&&e(t.attribs[n]):t=>Ce(t)&&t.attribs[n]===e}function sAe(n,e){return t=>n(t)||e(t)}function hz(n){const e=Object.keys(n).map(t=>{const i=n[t];return Object.prototype.hasOwnProperty.call(th,t)?th[t](i):dz(t,i)});return 0===e.length?null:e.reduce(sAe)}function rAe(n,e){const t=hz(n);return!t||t(e)}function oAe(n,e,t,i=1/0){const s=hz(n);return s?eh(s,e,t,i):[]}function aAe(n,e,t=!0){return Array.isArray(e)||(e=[e]),nC(dz("id",n),e,t)}function K2(n,e,t=!0,i=1/0){return eh(th.tag_name(n),e,t,i)}function cAe(n,e,t=!0,i=1/0){return eh(th.tag_type(n),e,t,i)}function lAe(n){let e=n.length;for(;--e>=0;){const t=n[e];if(e>0&&n.lastIndexOf(t,e-1)>=0)n.splice(e,1);else for(let i=t.parent;i;i=i.parent)if(n.includes(i)){n.splice(e,1);break}}return n}var vs=function(n){return n[n.DISCONNECTED=1]="DISCONNECTED",n[n.PRECEDING=2]="PRECEDING",n[n.FOLLOWING=4]="FOLLOWING",n[n.CONTAINS=8]="CONTAINS",n[n.CONTAINED_BY=16]="CONTAINED_BY",n}(vs||{});function fz(n,e){const t=[],i=[];if(n===e)return 0;let s=qt(n)?n:n.parent;for(;s;)t.unshift(s),s=s.parent;for(s=qt(e)?e:e.parent;s;)i.unshift(s),s=s.parent;const r=Math.min(t.length,i.length);let o=0;for(;o<r&&t[o]===i[o];)o++;if(0===o)return vs.DISCONNECTED;const a=t[o-1],c=a.children,u=i[o];return c.indexOf(t[o])>c.indexOf(u)?a===e?vs.FOLLOWING|vs.CONTAINED_BY:vs.FOLLOWING:a===n?vs.PRECEDING|vs.CONTAINS:vs.PRECEDING}function Y2(n){return n=n.filter((e,t,i)=>!i.includes(e,t+1)),n.sort((e,t)=>{const i=fz(e,t);return i&vs.PRECEDING?-1:i&vs.FOLLOWING?1:0}),n}function uAe(n){const e=nh(gAe,n);return e?"feed"===e.name?function dAe(n){var e;const t=n.children,i={type:"atom",items:K2("entry",t).map(o=>{var a;const{children:c}=o,l={media:pz(c)};jn(l,"id","id",c),jn(l,"title","title",c);const u=null===(a=nh("link",c))||void 0===a?void 0:a.attribs.href;u&&(l.link=u);const d=Oo("summary",c)||Oo("content",c);d&&(l.description=d);const f=Oo("updated",c);return f&&(l.pubDate=new Date(f)),l})};jn(i,"id","id",t),jn(i,"title","title",t);const s=null===(e=nh("link",t))||void 0===e?void 0:e.attribs.href;s&&(i.link=s),jn(i,"description","subtitle",t);const r=Oo("updated",t);return r&&(i.updated=new Date(r)),jn(i,"author","email",t,!0),i}(e):function hAe(n){var e,t;const i=null!==(t=null===(e=nh("channel",n.children))||void 0===e?void 0:e.children)&&void 0!==t?t:[],s={type:n.name.substr(0,3),id:"",items:K2("item",n.children).map(o=>{const{children:a}=o,c={media:pz(a)};jn(c,"id","guid",a),jn(c,"title","title",a),jn(c,"link","link",a),jn(c,"description","description",a);const l=Oo("pubDate",a)||Oo("dc:date",a);return l&&(c.pubDate=new Date(l)),c})};jn(s,"title","title",i),jn(s,"link","link",i),jn(s,"description","description",i);const r=Oo("lastBuildDate",i);return r&&(s.updated=new Date(r)),jn(s,"author","managingEditor",i,!0),s}(e):null}const fAe=["url","type","lang"],pAe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function pz(n){return K2("media:content",n).map(e=>{const{attribs:t}=e,i={medium:t.medium,isDefault:!!t.isDefault};for(const s of fAe)t[s]&&(i[s]=t[s]);for(const s of pAe)t[s]&&(i[s]=parseInt(t[s],10));return t.expression&&(i.expression=t.expression),i})}function nh(n,e){return K2(n,e,!0,1)[0]}function Oo(n,e,t=!1){return q2(K2(n,e,t,1)).trim()}function jn(n,e,t,i,s=!1){const r=Oo(t,i,s);r&&(n[e]=r)}function gAe(n){return"rss"===n||"feed"===n||"rdf:RDF"===n}function gz(n,e,t){return n?n(e??n._root.children,null,void 0,t).toString():""}function CAe(n,e){return gz(this,function mAe(n,e){return!e&&"object"==typeof n&&null!=n&&!("length"in n)&&!("type"in n)}(n)?void(e=n):n,{...P9,...null==this?void 0:this._options,...F9(e??{})})}function vAe(n){return gz(this,n,{...this._options,xmlMode:!0})}function e4(n){const e=n||(this?this.root():[]);let t="";for(let i=0;i<e.length;i++)t+=q2(e[i]);return t}function EAe(n,e,t="boolean"==typeof e&&e){if(!n||"string"!=typeof n)return null;"boolean"==typeof e&&(t=e);const i=this.load(n,P9,!1);return t||i("script").remove(),i.root()[0].children.slice()}function yAe(){return this(this._root)}function mz(n,e){if(e===n)return!1;let t=e;for(;t&&t!==t.parent;)if(t=t.parent,t===n)return!0;return!1}function bAe(n,e){if(!Cz(n)||!Cz(e))return;let t=n.length;const i=+e.length;for(let s=0;s<i;s++)n[t++]=e[s];return n.length=t,n}function Cz(n){if(Array.isArray(n))return!0;if("object"!=typeof n||!Object.prototype.hasOwnProperty.call(n,"length")||"number"!=typeof n.length||n.length<0)return!1;for(let e=0;e<n.length;e++)if(!(e in n))return!1;return!0}function nr(n){return null!=n.cheerio}function SAe(n){return n.replace(/[A-Z]/g,"-$&").toLowerCase()}function Et(n,e){const t=n.length;for(let i=0;i<t;i++)e(n[i],i);return n}function iC(n){const e="length"in n?Array.prototype.map.call(n,i=>K6(i,!0)):[K6(n,!0)],t=new $a(e);return e.forEach(i=>{i.parent=t}),e}var Q2=function(n){return n[n.LowerA=97]="LowerA",n[n.LowerZ=122]="LowerZ",n[n.UpperA=65]="UpperA",n[n.UpperZ=90]="UpperZ",n[n.Exclamation=33]="Exclamation",n}(Q2||{});function sC(n){const e=n.indexOf("<");if(e<0||e>n.length-3)return!1;const t=n.charCodeAt(e+1);return(t>=Q2.LowerA&&t<=Q2.LowerZ||t>=Q2.UpperA&&t<=Q2.UpperZ||t===Q2.Exclamation)&&n.includes(">",e+2)}const X2=Object.prototype.hasOwnProperty,t4=/\s+/,rC="data-",vz={null:null,true:!0,false:!1},oC=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,MAe=/^{[^]*}$|^\[[^]*]$/;function ih(n,e,t){var i;if(n&&Ce(n)){if(null!==(i=n.attribs)&&void 0!==i||(n.attribs={}),!e)return n.attribs;if(X2.call(n.attribs,e))return!t&&oC.test(e)?e:n.attribs[e];if("option"===n.name&&"value"===e)return e4(n.children);if("input"===n.name&&("radio"===n.attribs.type||"checkbox"===n.attribs.type)&&"value"===e)return"on"}}function Z2(n,e,t){null===t?wz(n,e):n.attribs[e]=`${t}`}function TAe(n,e){if("object"==typeof n||void 0!==e){if("function"==typeof e){if("string"!=typeof n)throw new Error("Bad combination of arguments.");return Et(this,(t,i)=>{Ce(t)&&Z2(t,n,e.call(t,i,t.attribs[n]))})}return Et(this,t=>{Ce(t)&&("object"==typeof n?Object.keys(n).forEach(i=>{Z2(t,i,n[i])}):Z2(t,n,e))})}return arguments.length>1?this:ih(this[0],n,this.options.xmlMode)}function Ez(n,e,t){return e in n?n[e]:!t&&oC.test(e)?void 0!==ih(n,e,!1):ih(n,e,t)}function aC(n,e,t,i){e in n?n[e]=t:Z2(n,e,!i&&oC.test(e)?t?"":null:`${t}`)}function _Ae(n,e){var t;if("string"==typeof n&&void 0===e){const i=this[0];if(!i||!Ce(i))return;switch(n){case"style":{const s=this.css(),r=Object.keys(s);return r.forEach((o,a)=>{s[a]=o}),s.length=r.length,s}case"tagName":case"nodeName":return i.name.toUpperCase();case"href":case"src":{const s=null===(t=i.attribs)||void 0===t?void 0:t[n];return typeof URL<"u"&&("href"===n&&("a"===i.tagName||"link"===i.name)||"src"===n&&("img"===i.tagName||"iframe"===i.tagName||"audio"===i.tagName||"video"===i.tagName||"source"===i.tagName))&&void 0!==s&&this.options.baseURI?new URL(s,this.options.baseURI).href:s}case"innerText":return Z6(i);case"textContent":return q2(i);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Ez(i,n,this.options.xmlMode)}}if("object"==typeof n||void 0!==e){if("function"==typeof e){if("object"==typeof n)throw new Error("Bad combination of arguments.");return Et(this,(i,s)=>{Ce(i)&&aC(i,n,e.call(i,s,Ez(i,n,this.options.xmlMode)),this.options.xmlMode)})}return Et(this,i=>{Ce(i)&&("object"==typeof n?Object.keys(n).forEach(s=>{aC(i,s,n[s],this.options.xmlMode)}):aC(i,n,e,this.options.xmlMode))})}}function yz(n,e,t){var i;const s=n;null!==(i=s.data)&&void 0!==i||(s.data={}),"object"==typeof e?Object.assign(s.data,e):"string"==typeof e&&void 0!==t&&(s.data[e]=t)}function bz(n,e){let t,i,s;null==e?(t=Object.keys(n.attribs).filter(r=>r.startsWith(rC)),i=t.map(r=>function wAe(n){return n.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}(r.slice(rC.length)))):(t=[rC+SAe(e)],i=[e]);for(let r=0;r<t.length;++r){const o=t[r],a=i[r];if(X2.call(n.attribs,o)&&!X2.call(n.data,a)){if(s=n.attribs[o],X2.call(vz,s))s=vz[s];else if(s===String(Number(s)))s=Number(s);else if(MAe.test(s))try{s=JSON.parse(s)}catch{}n.data[a]=s}}return null==e?n.data:s}function DAe(n,e){var t;const i=this[0];if(!i||!Ce(i))return;const s=i;return null!==(t=s.data)&&void 0!==t||(s.data={}),n?"object"==typeof n||void 0!==e?(Et(this,r=>{Ce(r)&&("object"==typeof n?yz(r,n):yz(r,n,e))}),this):X2.call(s.data,n)?s.data[n]:bz(s,n):bz(s)}function AAe(n){const e=0===arguments.length,t=this[0];if(!t||!Ce(t))return e?void 0:this;switch(t.name){case"textarea":return this.text(n);case"select":{const i=this.find("option:selected");if(!e){if(null==this.attr("multiple")&&"object"==typeof n)return this;this.find("option").removeAttr("selected");const s="object"!=typeof n?[n]:n;for(let r=0;r<s.length;r++)this.find(`option[value="${s[r]}"]`).attr("selected","");return this}return this.attr("multiple")?i.toArray().map(s=>e4(s.children)):i.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",n)}}function wz(n,e){!n.attribs||!X2.call(n.attribs,e)||delete n.attribs[e]}function sh(n){return n?n.trim().split(t4):[]}function RAe(n){const e=sh(n);for(let t=0;t<e.length;t++)Et(this,i=>{Ce(i)&&wz(i,e[t])});return this}function LAe(n){return this.toArray().some(e=>{const t=Ce(e)&&e.attribs.class;let i=-1;if(t&&n.length)for(;(i=t.indexOf(n,i+1))>-1;){const s=i+n.length;if((0===i||t4.test(t[i-1]))&&(s===t.length||t4.test(t[s])))return!0}return!1})}function Sz(n){if("function"==typeof n)return Et(this,(i,s)=>{Ce(i)&&Sz.call([i],n.call(i,s,i.attribs.class||""))});if(!n||"string"!=typeof n)return this;const e=n.split(t4),t=this.length;for(let i=0;i<t;i++){const s=this[i];if(!Ce(s))continue;const r=ih(s,"class",!1);if(r){let o=` ${r} `;for(let a=0;a<e.length;a++){const c=`${e[a]} `;o.includes(` ${c}`)||(o+=c)}Z2(s,"class",o.trim())}else Z2(s,"class",e.join(" ").trim())}return this}function Mz(n){if("function"==typeof n)return Et(this,(s,r)=>{Ce(s)&&Mz.call([s],n.call(s,r,s.attribs.class||""))});const e=sh(n),t=e.length,i=0===arguments.length;return Et(this,s=>{if(Ce(s))if(i)s.attribs.class="";else{const r=sh(s.attribs.class);let o=!1;for(let a=0;a<t;a++){const c=r.indexOf(e[a]);c>=0&&(r.splice(c,1),o=!0,a--)}o&&(s.attribs.class=r.join(" "))}})}function Tz(n,e){if("function"==typeof n)return Et(this,(o,a)=>{Ce(o)&&Tz.call([o],n.call(o,a,o.attribs.class||"",e),e)});if(!n||"string"!=typeof n)return this;const t=n.split(t4),i=t.length,s="boolean"==typeof e?e?1:-1:0,r=this.length;for(let o=0;o<r;o++){const a=this[o];if(!Ce(a))continue;const c=sh(a.attribs.class);for(let l=0;l<i;l++){const u=c.indexOf(t[l]);s>=0&&u<0?c.push(t[l]):s<=0&&u>=0&&c.splice(u,1)}a.attribs.class=c.join(" ")}return this}var oe=function(n){return n.Attribute="attribute",n.Pseudo="pseudo",n.PseudoElement="pseudo-element",n.Tag="tag",n.Universal="universal",n.Adjacent="adjacent",n.Child="child",n.Descendant="descendant",n.Parent="parent",n.Sibling="sibling",n.ColumnCombinator="column-combinator",n}(oe||{}),Kt=function(n){return n.Any="any",n.Element="element",n.End="end",n.Equals="equals",n.Exists="exists",n.Hyphen="hyphen",n.Not="not",n.Start="start",n}(Kt||{});const _z=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,NAe=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,HAe=new Map([[126,Kt.Element],[94,Kt.Start],[36,Kt.End],[42,Kt.Any],[33,Kt.Not],[124,Kt.Hyphen]]),xAe=new Set(["has","not","matches","is","where","host","host-context"]);function n4(n){switch(n.type){case oe.Adjacent:case oe.Child:case oe.Descendant:case oe.Parent:case oe.Sibling:case oe.ColumnCombinator:return!0;default:return!1}}const IAe=new Set(["contains","icontains"]);function OAe(n,e,t){const i=parseInt(e,16)-65536;return i!=i||t?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)}function i4(n){return n.replace(NAe,OAe)}function cC(n){return 39===n||34===n}function Dz(n){return 32===n||9===n||10===n||12===n||13===n}function s4(n){const e=[],t=Az(e,`${n}`,0);if(t<n.length)throw new Error(`Unmatched selector: ${n.slice(t)}`);return e}function Az(n,e,t){let i=[];function s(f){const p=e.slice(t+f).match(_z);if(!p)throw new Error(`Expected name, found ${e.slice(t)}`);const[g]=p;return t+=f+g.length,i4(g)}function r(f){for(t+=f;t<e.length&&Dz(e.charCodeAt(t));)t++}function o(){const f=t+=1;let p=1;for(;p>0&&t<e.length;t++)40!==e.charCodeAt(t)||a(t)?41===e.charCodeAt(t)&&!a(t)&&p--:p++;if(p)throw new Error("Parenthesis not matched");return i4(e.slice(f,t-1))}function a(f){let p=0;for(;92===e.charCodeAt(--f);)p++;return 1==(1&p)}function c(){if(i.length>0&&n4(i[i.length-1]))throw new Error("Did not expect successive traversals.")}function l(f){i.length>0&&i[i.length-1].type===oe.Descendant?i[i.length-1].type=f:(c(),i.push({type:f}))}function u(f,p){i.push({type:oe.Attribute,name:f,action:p,value:s(1),namespace:null,ignoreCase:"quirks"})}function d(){if(i.length&&i[i.length-1].type===oe.Descendant&&i.pop(),0===i.length)throw new Error("Empty sub-selector");n.push(i)}if(r(0),e.length===t)return t;e:for(;t<e.length;){const f=e.charCodeAt(t);switch(f){case 32:case 9:case 10:case 12:case 13:(0===i.length||i[0].type!==oe.Descendant)&&(c(),i.push({type:oe.Descendant})),r(1);break;case 62:l(oe.Child),r(1);break;case 60:l(oe.Parent),r(1);break;case 126:l(oe.Sibling),r(1);break;case 43:l(oe.Adjacent),r(1);break;case 46:u("class",Kt.Element);break;case 35:u("id",Kt.Equals);break;case 91:{r(1);let p,g=null;124===e.charCodeAt(t)?p=s(1):e.startsWith("*|",t)?(g="*",p=s(2)):(p=s(0),124===e.charCodeAt(t)&&61!==e.charCodeAt(t+1)&&(g=p,p=s(1))),r(0);let m=Kt.Exists;const y=HAe.get(e.charCodeAt(t));if(y){if(m=y,61!==e.charCodeAt(t+1))throw new Error("Expected `=`");r(2)}else 61===e.charCodeAt(t)&&(m=Kt.Equals,r(1));let M="",w=null;if("exists"!==m){if(cC(e.charCodeAt(t))){const N=e.charCodeAt(t);let k=t+1;for(;k<e.length&&(e.charCodeAt(k)!==N||a(k));)k+=1;if(e.charCodeAt(k)!==N)throw new Error("Attribute value didn't end");M=i4(e.slice(t+1,k)),t=k+1}else{const N=t;for(;t<e.length&&(!Dz(e.charCodeAt(t))&&93!==e.charCodeAt(t)||a(t));)t+=1;M=i4(e.slice(N,t))}r(0);const R=32|e.charCodeAt(t);115===R?(w=!1,r(1)):105===R&&(w=!0,r(1))}if(93!==e.charCodeAt(t))throw new Error("Attribute selector didn't terminate");t+=1,i.push({type:oe.Attribute,name:p,action:m,value:M,namespace:g,ignoreCase:w});break}case 58:{if(58===e.charCodeAt(t+1)){i.push({type:oe.PseudoElement,name:s(2).toLowerCase(),data:40===e.charCodeAt(t)?o():null});continue}const p=s(1).toLowerCase();let g=null;if(40===e.charCodeAt(t))if(xAe.has(p)){if(cC(e.charCodeAt(t+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(g=[],t=Az(g,e,t+1),41!==e.charCodeAt(t))throw new Error(`Missing closing parenthesis in :${p} (${e})`);t+=1}else{if(g=o(),IAe.has(p)){const m=g.charCodeAt(0);m===g.charCodeAt(g.length-1)&&cC(m)&&(g=g.slice(1,-1))}g=i4(g)}i.push({type:oe.Pseudo,name:p,data:g});break}case 44:d(),i=[],r(1);break;default:{if(e.startsWith("/*",t)){const m=e.indexOf("*/",t+2);if(m<0)throw new Error("Comment was not terminated");t=m+2,0===i.length&&r(0);break}let g,p=null;if(42===f)t+=1,g="*";else if(124===f){if(g="",124===e.charCodeAt(t+1)){l(oe.ColumnCombinator),r(2);break}}else{if(!_z.test(e.slice(t)))break e;g=s(0)}124===e.charCodeAt(t)&&124!==e.charCodeAt(t+1)&&(p=g,42===e.charCodeAt(t+1)?(g="*",t+=2):g=s(1)),i.push("*"===g?{type:oe.Universal,namespace:p}:{type:oe.Tag,name:g,namespace:p})}}}return d(),t}var we=on(197);const Rz=new Map([[oe.Universal,50],[oe.Tag,30],[oe.Attribute,1],[oe.Pseudo,0]]);function lC(n){return!Rz.has(n.type)}const VAe=new Map([[Kt.Exists,10],[Kt.Equals,8],[Kt.Not,7],[Kt.Start,6],[Kt.End,6],[Kt.Any,5]]);function PAe(n){const e=n.map(Lz);for(let t=1;t<n.length;t++){const i=e[t];if(!(i<0))for(let s=t-1;s>=0&&i<e[s];s--){const r=n[s+1];n[s+1]=n[s],n[s]=r,e[s+1]=e[s],e[s]=i}}}function Lz(n){var e,t;let i=null!==(e=Rz.get(n.type))&&void 0!==e?e:-1;return n.type===oe.Attribute?(i=null!==(t=VAe.get(n.action))&&void 0!==t?t:4,n.action===Kt.Equals&&"id"===n.name&&(i=9),n.ignoreCase&&(i>>=1)):n.type===oe.Pseudo&&(n.data?"has"===n.name||"contains"===n.name?i=0:Array.isArray(n.data)?(i=Math.min(...n.data.map(s=>Math.min(...s.map(Lz)))),i<0&&(i=0)):i=2:i=3),i}const FAe=/[-[\]{}()*+?.,\\^$|#\s]/g;function Nz(n){return n.replace(FAe,"\\$&")}const zAe=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Ya(n,e){return"boolean"==typeof n.ignoreCase?n.ignoreCase:"quirks"===n.ignoreCase?!!e.quirksMode:!e.xmlMode&&zAe.has(n.name)}const kAe={equals(n,e,t){const{adapter:i}=t,{name:s}=e;let{value:r}=e;return Ya(e,t)?(r=r.toLowerCase(),o=>{const a=i.getAttributeValue(o,s);return null!=a&&a.length===r.length&&a.toLowerCase()===r&&n(o)}):o=>i.getAttributeValue(o,s)===r&&n(o)},hyphen(n,e,t){const{adapter:i}=t,{name:s}=e;let{value:r}=e;const o=r.length;return Ya(e,t)?(r=r.toLowerCase(),function(c){const l=i.getAttributeValue(c,s);return null!=l&&(l.length===o||"-"===l.charAt(o))&&l.substr(0,o).toLowerCase()===r&&n(c)}):function(c){const l=i.getAttributeValue(c,s);return null!=l&&(l.length===o||"-"===l.charAt(o))&&l.substr(0,o)===r&&n(c)}},element(n,e,t){const{adapter:i}=t,{name:s,value:r}=e;if(/\s/.test(r))return we.falseFunc;const o=new RegExp(`(?:^|\\s)${Nz(r)}(?:$|\\s)`,Ya(e,t)?"i":"");return function(c){const l=i.getAttributeValue(c,s);return null!=l&&l.length>=r.length&&o.test(l)&&n(c)}},exists:(n,{name:e},{adapter:t})=>i=>t.hasAttrib(i,e)&&n(i),start(n,e,t){const{adapter:i}=t,{name:s}=e;let{value:r}=e;const o=r.length;return 0===o?we.falseFunc:Ya(e,t)?(r=r.toLowerCase(),a=>{const c=i.getAttributeValue(a,s);return null!=c&&c.length>=o&&c.substr(0,o).toLowerCase()===r&&n(a)}):a=>{var c;return!(null===(c=i.getAttributeValue(a,s))||void 0===c||!c.startsWith(r))&&n(a)}},end(n,e,t){const{adapter:i}=t,{name:s}=e;let{value:r}=e;const o=-r.length;return 0===o?we.falseFunc:Ya(e,t)?(r=r.toLowerCase(),a=>{var c;return(null===(c=i.getAttributeValue(a,s))||void 0===c?void 0:c.substr(o).toLowerCase())===r&&n(a)}):a=>{var c;return!(null===(c=i.getAttributeValue(a,s))||void 0===c||!c.endsWith(r))&&n(a)}},any(n,e,t){const{adapter:i}=t,{name:s,value:r}=e;if(""===r)return we.falseFunc;if(Ya(e,t)){const o=new RegExp(Nz(r),"i");return function(c){const l=i.getAttributeValue(c,s);return null!=l&&l.length>=r.length&&o.test(l)&&n(c)}}return o=>{var a;return!(null===(a=i.getAttributeValue(o,s))||void 0===a||!a.includes(r))&&n(o)}},not(n,e,t){const{adapter:i}=t,{name:s}=e;let{value:r}=e;return""===r?o=>!!i.getAttributeValue(o,s)&&n(o):Ya(e,t)?(r=r.toLowerCase(),o=>{const a=i.getAttributeValue(o,s);return(null==a||a.length!==r.length||a.toLowerCase()!==r)&&n(o)}):o=>i.getAttributeValue(o,s)!==r&&n(o)}},GAe=new Set([9,10,12,13,32]),Hz="0".charCodeAt(0),BAe="9".charCodeAt(0);function rh(n){return function WAe(n){const e=n[0],t=n[1]-1;if(t<0&&e<=0)return we.falseFunc;if(-1===e)return r=>r<=t;if(0===e)return r=>r===t;if(1===e)return t<0?we.trueFunc:r=>r>=t;const i=Math.abs(e),s=(t%i+i)%i;return e>1?r=>r>=t&&r%i===s:r=>r<=t&&r%i===s}(function UAe(n){if("even"===(n=n.trim().toLowerCase()))return[2,0];if("odd"===n)return[2,1];let e=0,t=0,i=r(),s=o();if(e<n.length&&"n"===n.charAt(e)&&(e++,t=i*(s??1),a(),e<n.length?(i=r(),a(),s=o()):i=s=0),null===s||e<n.length)throw new Error(`n-th rule couldn't be parsed ('${n}')`);return[t,i*s];function r(){return"-"===n.charAt(e)?(e++,-1):("+"===n.charAt(e)&&e++,1)}function o(){const c=e;let l=0;for(;e<n.length&&n.charCodeAt(e)>=Hz&&n.charCodeAt(e)<=BAe;)l=10*l+(n.charCodeAt(e)-Hz),e++;return e===c?null:l}function a(){for(;e<n.length&&GAe.has(n.charCodeAt(e));)e++}}(n))}function oh(n,e){return t=>{const i=e.getParent(t);return null!=i&&e.isTag(i)&&n(t)}}const uC={contains:(n,e,{adapter:t})=>function(s){return n(s)&&t.getText(s).includes(e)},icontains(n,e,{adapter:t}){const i=e.toLowerCase();return function(r){return n(r)&&t.getText(r).toLowerCase().includes(i)}},"nth-child"(n,e,{adapter:t,equals:i}){const s=rh(e);return s===we.falseFunc?we.falseFunc:s===we.trueFunc?oh(n,t):function(o){const a=t.getSiblings(o);let c=0;for(let l=0;l<a.length&&!i(o,a[l]);l++)t.isTag(a[l])&&c++;return s(c)&&n(o)}},"nth-last-child"(n,e,{adapter:t,equals:i}){const s=rh(e);return s===we.falseFunc?we.falseFunc:s===we.trueFunc?oh(n,t):function(o){const a=t.getSiblings(o);let c=0;for(let l=a.length-1;l>=0&&!i(o,a[l]);l--)t.isTag(a[l])&&c++;return s(c)&&n(o)}},"nth-of-type"(n,e,{adapter:t,equals:i}){const s=rh(e);return s===we.falseFunc?we.falseFunc:s===we.trueFunc?oh(n,t):function(o){const a=t.getSiblings(o);let c=0;for(let l=0;l<a.length;l++){const u=a[l];if(i(o,u))break;t.isTag(u)&&t.getName(u)===t.getName(o)&&c++}return s(c)&&n(o)}},"nth-last-of-type"(n,e,{adapter:t,equals:i}){const s=rh(e);return s===we.falseFunc?we.falseFunc:s===we.trueFunc?oh(n,t):function(o){const a=t.getSiblings(o);let c=0;for(let l=a.length-1;l>=0;l--){const u=a[l];if(i(o,u))break;t.isTag(u)&&t.getName(u)===t.getName(o)&&c++}return s(c)&&n(o)}},root:(n,e,{adapter:t})=>i=>{const s=t.getParent(i);return(null==s||!t.isTag(s))&&n(i)},scope(n,e,t,i){const{equals:s}=t;return i&&0!==i.length?1===i.length?r=>s(i[0],r)&&n(r):r=>i.includes(r)&&n(r):uC.root(n,e,t)},hover:dC("isHovered"),visited:dC("isVisited"),active:dC("isActive")};function dC(n){return function(t,i,{adapter:s}){const r=s[n];return"function"!=typeof r?we.falseFunc:function(a){return r(a)&&t(a)}}}const xz={empty:(n,{adapter:e})=>!e.getChildren(n).some(t=>e.isTag(t)||""!==e.getText(t)),"first-child"(n,{adapter:e,equals:t}){if(e.prevElementSibling)return null==e.prevElementSibling(n);const i=e.getSiblings(n).find(s=>e.isTag(s));return null!=i&&t(n,i)},"last-child"(n,{adapter:e,equals:t}){const i=e.getSiblings(n);for(let s=i.length-1;s>=0;s--){if(t(n,i[s]))return!0;if(e.isTag(i[s]))break}return!1},"first-of-type"(n,{adapter:e,equals:t}){const i=e.getSiblings(n),s=e.getName(n);for(let r=0;r<i.length;r++){const o=i[r];if(t(n,o))return!0;if(e.isTag(o)&&e.getName(o)===s)break}return!1},"last-of-type"(n,{adapter:e,equals:t}){const i=e.getSiblings(n),s=e.getName(n);for(let r=i.length-1;r>=0;r--){const o=i[r];if(t(n,o))return!0;if(e.isTag(o)&&e.getName(o)===s)break}return!1},"only-of-type"(n,{adapter:e,equals:t}){const i=e.getName(n);return e.getSiblings(n).every(s=>t(n,s)||!e.isTag(s)||e.getName(s)!==i)},"only-child":(n,{adapter:e,equals:t})=>e.getSiblings(n).every(i=>t(n,i)||!e.isTag(i))};function Iz(n,e,t,i){if(null===t){if(n.length>i)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(n.length===i)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}const jAe={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},Oz={};function Vz(n,e){return n===we.falseFunc?we.falseFunc:t=>e.isTag(t)&&n(t)}function Pz(n,e){const t=e.getSiblings(n);if(t.length<=1)return[];const i=t.indexOf(n);return i<0||i===t.length-1?[]:t.slice(i+1).filter(e.isTag)}function hC(n){return{xmlMode:!!n.xmlMode,lowerCaseAttributeNames:!!n.lowerCaseAttributeNames,lowerCaseTags:!!n.lowerCaseTags,quirksMode:!!n.quirksMode,cacheResults:!!n.cacheResults,pseudos:n.pseudos,adapter:n.adapter,equals:n.equals}}const fC=(n,e,t,i,s)=>{const r=s(e,hC(t),i);return r===we.trueFunc?n:r===we.falseFunc?we.falseFunc:o=>r(o)&&n(o)},pC={is:fC,matches:fC,where:fC,not(n,e,t,i,s){const r=s(e,hC(t),i);return r===we.falseFunc?n:r===we.trueFunc?we.falseFunc:o=>!r(o)&&n(o)},has(n,e,t,i,s){const{adapter:r}=t,o=hC(t);o.relativeSelector=!0;const a=e.some(u=>u.some(lC))?[Oz]:void 0,c=s(e,o,a);if(c===we.falseFunc)return we.falseFunc;const l=Vz(c,r);if(a&&c!==we.trueFunc){const{shouldTestNextSiblings:u=!1}=c;return d=>{if(!n(d))return!1;a[0]=d;const f=r.getChildren(d),p=u?[...f,...Pz(d,r)]:f;return r.existsOne(l,p)}}return u=>n(u)&&r.existsOne(l,r.getChildren(u))}};function gC(n,e){const t=e.getParent(n);return t&&e.isTag(t)?t:null}function mC(n,e,t){return CC("string"==typeof n?s4(n):n,e,t)}function Fz(n){return n.type===oe.Pseudo&&("scope"===n.name||Array.isArray(n.data)&&n.data.some(e=>e.some(Fz)))}const YAe={type:oe.Descendant},QAe={type:"_flexibleDescendant"},XAe={type:oe.Pseudo,name:"scope",data:null};function CC(n,e,t){var i;n.forEach(PAe),t=null!==(i=e.context)&&void 0!==i?i:t;const s=Array.isArray(t),r=t&&(Array.isArray(t)?t:[t]);if(!1!==e.relativeSelector)!function ZAe(n,{adapter:e},t){const i=!!t?.every(s=>{const r=e.isTag(s)&&e.getParent(s);return s===Oz||r&&e.isTag(r)});for(const s of n){if(!(s.length>0&&lC(s[0])&&s[0].type!==oe.Descendant)){if(!i||s.some(Fz))continue;s.unshift(YAe)}s.unshift(XAe)}}(n,e,r);else if(n.some(c=>c.length>0&&lC(c[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let o=!1;const a=n.map(c=>{if(c.length>=2){const[l,u]=c;l.type!==oe.Pseudo||"scope"!==l.name||(s&&u.type===oe.Descendant?c[1]=QAe:(u.type===oe.Adjacent||u.type===oe.Sibling)&&(o=!0))}return function JAe(n,e,t){var i;return n.reduce((s,r)=>s===we.falseFunc?we.falseFunc:function qAe(n,e,t,i,s){const{adapter:r,equals:o}=t;switch(e.type){case oe.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case oe.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case oe.Attribute:if(null!=e.namespace)throw new Error("Namespaced attributes are not yet supported by css-select");return(!t.xmlMode||t.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),kAe[e.action](n,e,t);case oe.Pseudo:return function $Ae(n,e,t,i,s){var r;const{name:o,data:a}=e;if(Array.isArray(a)){if(!(o in pC))throw new Error(`Unknown pseudo-class :${o}(${a})`);return pC[o](n,a,t,i,s)}const c=null===(r=t.pseudos)||void 0===r?void 0:r[o],l="string"==typeof c?c:jAe[o];if("string"==typeof l){if(null!=a)throw new Error(`Pseudo ${o} doesn't have any arguments`);const u=s4(l);return pC.is(n,u,t,i,s)}if("function"==typeof c)return Iz(c,o,a,1),u=>c(u,a)&&n(u);if(o in uC)return uC[o](n,a,t,i);if(o in xz){const u=xz[o];return Iz(u,o,a,2),d=>u(d,t,a)&&n(d)}throw new Error(`Unknown pseudo-class :${o}`)}(n,e,t,i,s);case oe.Tag:{if(null!=e.namespace)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:a}=e;return(!t.xmlMode||t.lowerCaseTags)&&(a=a.toLowerCase()),function(l){return r.getName(l)===a&&n(l)}}case oe.Descendant:{if(!1===t.cacheResults||typeof WeakSet>"u")return function(l){let u=l;for(;u=gC(u,r);)if(n(u))return!0;return!1};const a=new WeakSet;return function(l){let u=l;for(;u=gC(u,r);)if(!a.has(u)){if(r.isTag(u)&&n(u))return!0;a.add(u)}return!1}}case"_flexibleDescendant":return function(c){let l=c;do{if(n(l))return!0}while(l=gC(l,r));return!1};case oe.Parent:return function(c){return r.getChildren(c).some(l=>r.isTag(l)&&n(l))};case oe.Child:return function(c){const l=r.getParent(c);return null!=l&&r.isTag(l)&&n(l)};case oe.Sibling:return function(c){const l=r.getSiblings(c);for(let u=0;u<l.length;u++){const d=l[u];if(o(c,d))break;if(r.isTag(d)&&n(d))return!0}return!1};case oe.Adjacent:return r.prevElementSibling?function(c){const l=r.prevElementSibling(c);return null!=l&&n(l)}:function(c){const l=r.getSiblings(c);let u;for(let d=0;d<l.length;d++){const f=l[d];if(o(c,f))break;r.isTag(f)&&(u=f)}return!!u&&n(u)};case oe.Universal:if(null!=e.namespace&&"*"!==e.namespace)throw new Error("Namespaced universal selectors are not yet supported by css-select");return n}}(s,r,e,t,CC),null!==(i=e.rootFunc)&&void 0!==i?i:we.trueFunc)}(c,e,r)}).reduce(eRe,we.falseFunc);return a.shouldTestNextSiblings=o,a}function eRe(n,e){return e===we.falseFunc||n===we.trueFunc?n:n===we.falseFunc||e===we.trueFunc?e:function(i){return n(i)||e(i)}}const zz=(n,e)=>n===e,tRe={adapter:Ur,equals:zz};function vC(n){var e,t,i,s;const r=n??tRe;return null!==(e=r.adapter)&&void 0!==e||(r.adapter=Ur),null!==(t=r.equals)&&void 0!==t||(r.equals=null!==(s=null===(i=r.adapter)||void 0===i?void 0:i.equals)&&void 0!==s?s:zz),r}function EC(n){return function(t,i,s){const r=vC(i);return n(t,r,s)}}EC(function KAe(n,e,t){return Vz(mC(n,e,t),e.adapter)}),EC(mC);const yC=EC(CC);function kz(n){return function(t,i,s){const r=vC(s);"function"!=typeof t&&(t=mC(t,r,i));const o=bC(i,r.adapter,t.shouldTestNextSiblings);return n(t,o,r)}}function bC(n,e,t=!1){return t&&(n=function nRe(n,e){const t=Array.isArray(n)?n.slice(0):[n],i=t.length;for(let s=0;s<i;s++){const r=Pz(t[s],e);t.push(...r)}return t}(n,e)),Array.isArray(n)?e.removeSubsets(n):e.getChildren(n)}kz((n,e,t)=>n!==we.falseFunc&&e&&0!==e.length?t.adapter.findAll(n,e):[]),kz((n,e,t)=>n!==we.falseFunc&&e&&0!==e.length?t.adapter.findOne(n,e):null);const iRe=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function ah(n){return"pseudo"===n.type&&(!!iRe.has(n.name)||!("not"!==n.name||!Array.isArray(n.data))&&n.data.some(e=>e.some(ah)))}function wC(n){const e=[],t=[];for(const i of n)i.some(ah)?e.push(i):t.push(i);return[t,e]}const oRe={type:oe.Universal,namespace:null},aRe={type:oe.Pseudo,name:"scope",data:null};function Gz(n,e,t={}){return Bz([n],e,t)}function Bz(n,e,t={}){if("function"==typeof e)return n.some(e);const[i,s]=wC(s4(e));return i.length>0&&n.some(yC(i,t))||s.some(r=>jz(r,n,t).length>0)}function Uz(n,e,t={}){return Wz(s4(n),e,t)}function Wz(n,e,t){if(0===e.length)return[];const[i,s]=wC(n);let r;if(i.length){const o=MC(e,i,t);if(0===s.length)return o;o.length&&(r=new Set(o))}for(let o=0;o<s.length&&r?.size!==e.length;o++){const a=s[o];if(0===(r?e.filter(u=>Ce(u)&&!r.has(u)):e).length)break;const l=jz(a,e,t);if(l.length)if(r)l.forEach(u=>r.add(u));else{if(o===s.length-1)return l;r=new Set(l)}}return typeof r<"u"?r.size===e.length?e:e.filter(o=>r.has(o)):[]}function jz(n,e,t){var i;if(n.some(n4)){const s=null!==(i=t.root)&&void 0!==i?i:function rRe(n){for(;n.parent;)n=n.parent;return n}(e[0]),r={...t,context:e,relativeSelector:!1};return n.push(aRe),ch(s,n,r,!0,e.length)}return ch(e,n,t,!1,e.length)}function ch(n,e,t,i,s){const r=e.findIndex(ah),o=e.slice(0,r),a=e[r],l=function sRe(n,e,t){const i=null!=e?parseInt(e,10):NaN;switch(n){case"first":return 1;case"nth":case"eq":return isFinite(i)?i>=0?i+1:1/0:0;case"lt":return isFinite(i)?i>=0?Math.min(i,t):1/0:0;case"gt":return isFinite(i)?1/0:0;case"odd":return 2*t;case"even":return 2*t-1;case"last":case"not":return 1/0}}(a.name,a.data,e.length-1===r?s:1/0);if(0===l)return[];const d=(0!==o.length||Array.isArray(n)?0===o.length?(Array.isArray(n)?n:[n]).filter(Ce):i||o.some(n4)?SC(n,[o],t,l):MC(n,[o],t):J6(n).filter(Ce)).slice(0,l);let f=function cRe(n,e,t,i){const s="string"==typeof t?parseInt(t,10):NaN;switch(n){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(s)&&Math.abs(s)<e.length?[s<0?e[e.length+s]:e[s]]:[];case"gt":return isFinite(s)?e.slice(s+1):[];case"even":return e.filter((r,o)=>o%2==0);case"odd":return e.filter((r,o)=>o%2==1);case"not":{const r=new Set(Wz(t,e,i));return e.filter(o=>!r.has(o))}}}(a.name,d,a.data,t);if(0===f.length||e.length===r+1)return f;const p=e.slice(r+1),g=p.some(n4);if(g){if(n4(p[0])){const{type:m}=p[0];(m===oe.Sibling||m===oe.Adjacent)&&(f=bC(f,Ur,!0)),p.unshift(oRe)}t={...t,relativeSelector:!1,rootFunc:m=>f.includes(m)}}else t.rootFunc&&t.rootFunc!==we.trueFunc&&(t={...t,rootFunc:we.trueFunc});return p.some(ah)?ch(f,p,t,!1,s):g?SC(f,[p],t,s):MC(f,[p],t)}function SC(n,e,t,i){return $z(n,yC(e,t,n),i)}function $z(n,e,t=1/0){return tC(s=>Ce(s)&&e(s),bC(n,Ur,e.shouldTestNextSiblings),!0,t)}function MC(n,e,t){const i=(Array.isArray(n)?n:[n]).filter(Ce);if(0===i.length)return i;const s=yC(e,t);return s===we.trueFunc?i:i.filter(s)}const uRe=/^\s*[~+]/;function dRe(n){var e;if(!n)return this._make([]);const t=this.toArray();if("string"!=typeof n){const r=nr(n)?n.toArray():[n];return this._make(r.filter(o=>t.some(a=>mz(a,o))))}const i=uRe.test(n)?t:this.children().toArray(),s={context:t,root:null===(e=this._root)||void 0===e?void 0:e[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(function lRe(n,e,t={},i=1/0){if("function"==typeof n)return $z(e,n);const[s,r]=wC(s4(n)),o=r.map(a=>ch(e,a,t,!0,i));return s.length&&o.push(SC(e,s,t,i)),0===o.length?[]:1===o.length?o[0]:Y2(o.reduce((a,c)=>[...a,...c]))}(n,i,s))}function TC(n){return function(e,...t){return function(i){var s;let r=n(e,this);return i&&(r=AC(r,i,this.options.xmlMode,null===(s=this._root)||void 0===s?void 0:s[0])),this._make(this.length>1&&r.length>1?t.reduce((o,a)=>a(o),r):r)}}}const r4=TC((n,e)=>{const t=[];for(let i=0;i<e.length;i++){const s=n(e[i]);t.push(s)}return(new Array).concat(...t)}),_C=TC((n,e)=>{const t=[];for(let i=0;i<e.length;i++){const s=n(e[i]);null!==s&&t.push(s)}return t});function DC(n,...e){let t=null;const i=TC((s,r)=>{const o=[];return Et(r,a=>{for(let c;(c=s(a))&&!t?.(c,o.length);a=c)o.push(c)}),o})(n,...e);return function(s,r){t="string"==typeof s?a=>Gz(a,s,this.options):s?o4(s):null;const o=i.call(this,r);return t=null,o}}function J2(n){return Array.from(new Set(n))}const hRe=_C(({parent:n})=>n&&!qa(n)?n:null,J2),fRe=r4(n=>{const e=[];for(;n.parent&&!qa(n.parent);)e.push(n.parent),n=n.parent;return e},Y2,n=>n.reverse()),pRe=DC(({parent:n})=>n&&!qa(n)?n:null,Y2,n=>n.reverse());function gRe(n){var e;const t=[];if(!n)return this._make(t);const i={xmlMode:this.options.xmlMode,root:null===(e=this._root)||void 0===e?void 0:e[0]},s="string"==typeof n?r=>Gz(r,n,i):o4(n);return Et(this,r=>{for(;r&&Ce(r);){if(s(r,0)){t.includes(r)||t.push(r);break}r=r.parent}}),this._make(t)}const mRe=_C(n=>J9(n)),CRe=r4(n=>{const e=[];for(;n.next;)Ce(n=n.next)&&e.push(n);return e},J2),vRe=DC(n=>J9(n),J2),ERe=_C(n=>eC(n)),yRe=r4(n=>{const e=[];for(;n.prev;)Ce(n=n.prev)&&e.push(n);return e},J2),bRe=DC(n=>eC(n),J2),wRe=r4(n=>lz(n).filter(e=>Ce(e)&&e!==n),Y2),SRe=r4(n=>J6(n).filter(Ce),J2);function MRe(){const n=this.toArray().reduce((e,t)=>qt(t)?e.concat(t.children):e,[]);return this._make(n)}function TRe(n){let e=0;const t=this.length;for(;e<t&&!1!==n.call(this[e],e,this[e]);)++e;return this}function _Re(n){let e=[];for(let t=0;t<this.length;t++){const i=this[t],s=n.call(i,t,i);null!=s&&(e=e.concat(s))}return this._make(e)}function o4(n){return"function"==typeof n?(e,t)=>n.call(e,t,e):nr(n)?e=>Array.prototype.includes.call(n,e):function(e){return n===e}}function DRe(n){var e;return this._make(AC(this.toArray(),n,this.options.xmlMode,null===(e=this._root)||void 0===e?void 0:e[0]))}function AC(n,e,t,i){return"string"==typeof e?Uz(e,n,{xmlMode:t,root:i}):n.filter(o4(e))}function ARe(n){const e=this.toArray();return"string"==typeof n?Bz(e.filter(Ce),n,this.options):!!n&&e.some(o4(n))}function RRe(n){let e=this.toArray();if("string"==typeof n){const t=new Set(Uz(n,e,this.options));e=e.filter(i=>!t.has(i))}else{const t=o4(n);e=e.filter((i,s)=>!t(i,s))}return this._make(e)}function LRe(n){return this.filter("string"==typeof n?`:has(${n})`:(e,t)=>this._make(t).find(n).length>0)}function NRe(){return this.length>1?this._make(this[0]):this}function HRe(){return this.length>0?this._make(this[this.length-1]):this}function xRe(n){var e;return 0==(n=+n)&&this.length<=1?this:(n<0&&(n=this.length+n),this._make(null!==(e=this[n])&&void 0!==e?e:[]))}function IRe(n){return null==n?this.toArray():this[n<0?this.length+n:n]}function ORe(){return Array.prototype.slice.call(this)}function VRe(n){let e,t;return null==n?(e=this.parent().children(),t=this[0]):"string"==typeof n?(e=this._make(n),t=this[0]):(e=this,t=nr(n)?n[0]:n),Array.prototype.indexOf.call(e,t)}function PRe(n,e){return this._make(Array.prototype.slice.call(this,n,e))}function FRe(){var n;return null!==(n=this.prevObject)&&void 0!==n?n:this._make([])}function zRe(n,e){const t=this._make(n,e),i=Y2([...this.get(),...t.get()]);return this._make(i)}function kRe(n){return this.prevObject?this.add(n?this.prevObject.filter(n):this.prevObject):this}function Qa(n,e){const t=Array.isArray(n)?n:[n];e?e.children=t:e=null;for(let i=0;i<t.length;i++){const s=t[i];s.parent&&s.parent.children!==t&&Ka(s),e?(s.prev=t[i-1]||null,s.next=t[i+1]||null):s.prev=s.next=null,s.parent=e}return e}function BRe(n,e){return null==n?[]:nr(n)?e?iC(n.get()):n.get():Array.isArray(n)?n.reduce((t,i)=>t.concat(this._makeDomArray(i,e)),[]):"string"==typeof n?this._parse(n,this.options,!1,null).children:e?iC([n]):[n]}function qz(n){return function(...e){const t=this.length-1;return Et(this,(i,s)=>{if(!qt(i))return;const r="function"==typeof e[0]?e[0].call(i,s,this._render(i.children)):e,o=this._makeDomArray(r,s<t);n(o,i.children,i)})}}function Vo(n,e,t,i,s){var r,o;const a=[e,t,...i],c=0===e?null:n[e-1],l=e+t>=n.length?null:n[e+t];for(let u=0;u<i.length;++u){const d=i[u],f=d.parent;if(f){const g=f.children.indexOf(d);g>-1&&(f.children.splice(g,1),s===f&&e>g&&a[0]--)}d.parent=s,d.prev&&(d.prev.next=null!==(r=d.next)&&void 0!==r?r:null),d.next&&(d.next.prev=null!==(o=d.prev)&&void 0!==o?o:null),d.prev=0===u?c:i[u-1],d.next=u===i.length-1?l:i[u+1]}return c&&(c.next=i[0]),l&&(l.prev=i[i.length-1]),n.splice(...a)}function URe(n){return(nr(n)?n:this._make(n)).append(this),this}function WRe(n){return(nr(n)?n:this._make(n)).prepend(this),this}const jRe=qz((n,e,t)=>{Vo(e,e.length,0,n,t)}),$Re=qz((n,e,t)=>{Vo(e,0,0,n,t)});function Kz(n){return function(e){const t=this.length-1,i=this.parents().last();for(let s=0;s<this.length;s++){const r=this[s],o="function"==typeof e?e.call(r,s,r):"string"!=typeof e||sC(e)?e:i.find(e).clone(),[a]=this._makeDomArray(o,s<t);if(!a||!qt(a))continue;let c=a,l=0;for(;l<c.children.length;){const u=c.children[l];Ce(u)?(c=u,l=0):l++}n(r,c,[a])}return this}}const qRe=Kz((n,e,t)=>{const{parent:i}=n;if(!i)return;const s=i.children,r=s.indexOf(n);Qa([n],e),Vo(s,r,0,t,i)}),KRe=Kz((n,e,t)=>{qt(n)&&(Qa(n.children,e),Qa(t,n))});function YRe(n){return this.parent(n).not("body").each((e,t)=>{this._make(t).replaceWith(t.children)}),this}function QRe(n){const e=this[0];if(e){const t=this._make("function"==typeof n?n.call(e,0,e):n).insertBefore(e);let i;for(let r=0;r<t.length;r++)"tag"===t[r].type&&(i=t[r]);let s=0;for(;i&&s<i.children.length;){const r=i.children[s];"tag"===r.type?(i=r,s=0):s++}i&&this._make(i).append(this)}return this}function XRe(...n){const e=this.length-1;return Et(this,(t,i)=>{const{parent:s}=t;if(!qt(t)||!s)return;const r=s.children,o=r.indexOf(t);if(o<0)return;const a="function"==typeof n[0]?n[0].call(t,i,this._render(t.children)):n;Vo(r,o+1,0,this._makeDomArray(a,i<e),s)})}function ZRe(n){"string"==typeof n&&(n=this._make(n)),this.remove();const e=[];return this._makeDomArray(n).forEach(t=>{const i=this.clone().toArray(),{parent:s}=t;if(!s)return;const r=s.children,o=r.indexOf(t);o<0||(Vo(r,o+1,0,i,s),e.push(...i))}),this._make(e)}function JRe(...n){const e=this.length-1;return Et(this,(t,i)=>{const{parent:s}=t;if(!qt(t)||!s)return;const r=s.children,o=r.indexOf(t);if(o<0)return;const a="function"==typeof n[0]?n[0].call(t,i,this._render(t.children)):n;Vo(r,o,0,this._makeDomArray(a,i<e),s)})}function eLe(n){const e=this._make(n);this.remove();const t=[];return Et(e,i=>{const s=this.clone().toArray(),{parent:r}=i;if(!r)return;const o=r.children,a=o.indexOf(i);a<0||(Vo(o,a,0,s,r),t.push(...s))}),this._make(t)}function tLe(n){return Et(n?this.filter(n):this,t=>{Ka(t),t.prev=t.next=t.parent=null}),this}function nLe(n){return Et(this,(e,t)=>{const{parent:i}=e;if(!i)return;const s=i.children,r="function"==typeof n?n.call(e,t,e):n,o=this._makeDomArray(r);Qa(o,null);const a=s.indexOf(e);Vo(s,a,1,o,i),o.includes(e)||(e.parent=e.prev=e.next=null)})}function iLe(){return Et(this,n=>{qt(n)&&(n.children.forEach(e=>{e.next=e.prev=e.parent=null}),n.children.length=0)})}function sLe(n){if(void 0===n){const e=this[0];return e&&qt(e)?this._render(e.children):null}return Et(this,e=>{qt(e)&&(e.children.forEach(i=>{i.next=i.prev=i.parent=null}),Qa(nr(n)?n.toArray():this._parse(`${n}`,this.options,!1,e).children,e))})}function rLe(){return this._render(this)}function oLe(n){return void 0===n?e4(this):Et(this,"function"==typeof n?(e,t)=>this._make(e).text(n.call(e,t,e4([e]))):e=>{qt(e)&&(e.children.forEach(i=>{i.next=i.prev=i.parent=null}),Qa(new Z3(`${n}`),e))})}function aLe(){return this._make(iC(this.get()))}function cLe(n,e){return null!=n&&null!=e||"object"==typeof n&&!Array.isArray(n)?Et(this,(t,i)=>{Ce(t)&&Yz(t,n,e,i)}):0!==this.length?Qz(this[0],n):void 0}function Yz(n,e,t,i){if("string"==typeof e){const s=Qz(n),r="function"==typeof t?t.call(n,i,s[e]):t;""===r?delete s[e]:null!=r&&(s[e]=r),n.attribs.style=function lLe(n){return Object.keys(n).reduce((e,t)=>`${e}${e?" ":""}${t}: ${n[t]};`,"")}(s)}else"object"==typeof e&&Object.keys(e).forEach((s,r)=>{Yz(n,s,e[s],r)})}function Qz(n,e){if(!n||!Ce(n))return;const t=function uLe(n){if(!(n=(n||"").trim()))return{};const e={};let t;for(const i of n.split(";")){const s=i.indexOf(":");if(s<1||s===i.length-1){const r=i.trimEnd();r.length>0&&void 0!==t&&(e[t]+=`;${r}`)}else t=i.slice(0,s).trim(),e[t]=i.slice(s+1).trim()}return e}(n.attribs.style);if("string"==typeof e)return t[e];if(Array.isArray(e)){const i={};return e.forEach(s=>{null!=t[s]&&(i[s]=t[s])}),i}return t}const Xz="input,select,textarea,keygen",dLe=/%20/g,Zz=/\r?\n/g;function hLe(){return this.serializeArray().map(t=>`${encodeURIComponent(t.name)}=${encodeURIComponent(t.value)}`).join("&").replace(dLe,"+")}function fLe(){return this.map((n,e)=>{const t=this._make(e);return Ce(e)&&"form"===e.name?t.find(Xz).toArray():t.filter(Xz).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((n,e)=>{var t;const i=this._make(e),s=i.attr("name"),r=null!==(t=i.val())&&void 0!==t?t:"";return Array.isArray(r)?r.map(o=>({name:s,value:o.replace(Zz,"\r\n")})):{name:s,value:r.replace(Zz,"\r\n")}}).toArray()}class a4{constructor(e,t,i){if(this.length=0,this.options=i,this._root=t,e){for(let s=0;s<e.length;s++)this[s]=e[s];this.length=e.length}}}a4.prototype.cheerio="[cheerio object]",a4.prototype.splice=Array.prototype.splice,a4.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(a4.prototype,Dh,Ah,Rh,Lh,Nh);const mLe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),pt="\ufffd";var E;!function(n){n[n.EOF=-1]="EOF",n[n.NULL=0]="NULL",n[n.TABULATION=9]="TABULATION",n[n.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",n[n.LINE_FEED=10]="LINE_FEED",n[n.FORM_FEED=12]="FORM_FEED",n[n.SPACE=32]="SPACE",n[n.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",n[n.QUOTATION_MARK=34]="QUOTATION_MARK",n[n.NUMBER_SIGN=35]="NUMBER_SIGN",n[n.AMPERSAND=38]="AMPERSAND",n[n.APOSTROPHE=39]="APOSTROPHE",n[n.HYPHEN_MINUS=45]="HYPHEN_MINUS",n[n.SOLIDUS=47]="SOLIDUS",n[n.DIGIT_0=48]="DIGIT_0",n[n.DIGIT_9=57]="DIGIT_9",n[n.SEMICOLON=59]="SEMICOLON",n[n.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",n[n.EQUALS_SIGN=61]="EQUALS_SIGN",n[n.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",n[n.QUESTION_MARK=63]="QUESTION_MARK",n[n.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",n[n.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",n[n.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",n[n.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",n[n.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",n[n.GRAVE_ACCENT=96]="GRAVE_ACCENT",n[n.LATIN_SMALL_A=97]="LATIN_SMALL_A",n[n.LATIN_SMALL_F=102]="LATIN_SMALL_F",n[n.LATIN_SMALL_X=120]="LATIN_SMALL_X",n[n.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",n[n.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(E=E||(E={}));function Jz(n){return n>=55296&&n<=57343}function ek(n){return 32!==n&&10!==n&&13!==n&&9!==n&&12!==n&&n>=1&&n<=31||n>=127&&n<=159}function tk(n){return n>=64976&&n<=65007||mLe.has(n)}var L,Ve,x,Po,qn,_,h;!function(n){n.controlCharacterInInputStream="control-character-in-input-stream",n.noncharacterInInputStream="noncharacter-in-input-stream",n.surrogateInInputStream="surrogate-in-input-stream",n.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",n.endTagWithAttributes="end-tag-with-attributes",n.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",n.unexpectedSolidusInTag="unexpected-solidus-in-tag",n.unexpectedNullCharacter="unexpected-null-character",n.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",n.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",n.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",n.missingEndTagName="missing-end-tag-name",n.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",n.unknownNamedCharacterReference="unknown-named-character-reference",n.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",n.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",n.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",n.eofBeforeTagName="eof-before-tag-name",n.eofInTag="eof-in-tag",n.missingAttributeValue="missing-attribute-value",n.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",n.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",n.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",n.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",n.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",n.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",n.missingDoctypePublicIdentifier="missing-doctype-public-identifier",n.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",n.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",n.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",n.cdataInHtmlContent="cdata-in-html-content",n.incorrectlyOpenedComment="incorrectly-opened-comment",n.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",n.eofInDoctype="eof-in-doctype",n.nestedComment="nested-comment",n.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",n.eofInComment="eof-in-comment",n.incorrectlyClosedComment="incorrectly-closed-comment",n.eofInCdata="eof-in-cdata",n.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",n.nullCharacterReference="null-character-reference",n.surrogateCharacterReference="surrogate-character-reference",n.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",n.controlCharacterReference="control-character-reference",n.noncharacterCharacterReference="noncharacter-character-reference",n.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",n.missingDoctypeName="missing-doctype-name",n.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",n.duplicateAttribute="duplicate-attribute",n.nonConformingDoctype="non-conforming-doctype",n.missingDoctype="missing-doctype",n.misplacedDoctype="misplaced-doctype",n.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",n.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",n.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",n.openElementsLeftAfterEof="open-elements-left-after-eof",n.abandonedHeadElementChild="abandoned-head-element-child",n.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",n.nestedNoscriptInHead="nested-noscript-in-head",n.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(L=L||(L={}));class yLe{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:t,col:i,offset:s}=this;return{code:e,startLine:t,endLine:t,startCol:i,endCol:i,startOffset:s,endOffset:s}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function CLe(n){return n>=56320&&n<=57343}(t))return this.pos++,this._addGap(),function vLe(n,e){return 1024*(n-55296)+9216+e}(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,E.EOF;return this._err(L.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let i=0;i<e.length;i++)if((32|this.html.charCodeAt(this.pos+i))!==e.charCodeAt(i))return!1;return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,E.EOF;const i=this.html.charCodeAt(t);return i===E.CARRIAGE_RETURN?E.LINE_FEED:i}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,E.EOF;let e=this.html.charCodeAt(this.pos);return e===E.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,E.LINE_FEED):e===E.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Jz(e)&&(e=this._processSurrogate(e)),null===this.handler.onParseError||e>31&&e<127||e===E.LINE_FEED||e===E.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){ek(e)?this._err(L.controlCharacterInInputStream):tk(e)&&this._err(L.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}function nk(n,e){for(let t=n.attrs.length-1;t>=0;t--)if(n.attrs[t].name===e)return n.attrs[t].value;return null}!function(n){n[n.CHARACTER=0]="CHARACTER",n[n.NULL_CHARACTER=1]="NULL_CHARACTER",n[n.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",n[n.START_TAG=3]="START_TAG",n[n.END_TAG=4]="END_TAG",n[n.COMMENT=5]="COMMENT",n[n.DOCTYPE=6]="DOCTYPE",n[n.EOF=7]="EOF",n[n.HIBERNATION=8]="HIBERNATION"}(Ve=Ve||(Ve={})),function(n){n.HTML="http://www.w3.org/1999/xhtml",n.MATHML="http://www.w3.org/1998/Math/MathML",n.SVG="http://www.w3.org/2000/svg",n.XLINK="http://www.w3.org/1999/xlink",n.XML="http://www.w3.org/XML/1998/namespace",n.XMLNS="http://www.w3.org/2000/xmlns/"}(x=x||(x={})),function(n){n.TYPE="type",n.ACTION="action",n.ENCODING="encoding",n.PROMPT="prompt",n.NAME="name",n.COLOR="color",n.FACE="face",n.SIZE="size"}(Po=Po||(Po={})),function(n){n.NO_QUIRKS="no-quirks",n.QUIRKS="quirks",n.LIMITED_QUIRKS="limited-quirks"}(qn=qn||(qn={})),function(n){n.A="a",n.ADDRESS="address",n.ANNOTATION_XML="annotation-xml",n.APPLET="applet",n.AREA="area",n.ARTICLE="article",n.ASIDE="aside",n.B="b",n.BASE="base",n.BASEFONT="basefont",n.BGSOUND="bgsound",n.BIG="big",n.BLOCKQUOTE="blockquote",n.BODY="body",n.BR="br",n.BUTTON="button",n.CAPTION="caption",n.CENTER="center",n.CODE="code",n.COL="col",n.COLGROUP="colgroup",n.DD="dd",n.DESC="desc",n.DETAILS="details",n.DIALOG="dialog",n.DIR="dir",n.DIV="div",n.DL="dl",n.DT="dt",n.EM="em",n.EMBED="embed",n.FIELDSET="fieldset",n.FIGCAPTION="figcaption",n.FIGURE="figure",n.FONT="font",n.FOOTER="footer",n.FOREIGN_OBJECT="foreignObject",n.FORM="form",n.FRAME="frame",n.FRAMESET="frameset",n.H1="h1",n.H2="h2",n.H3="h3",n.H4="h4",n.H5="h5",n.H6="h6",n.HEAD="head",n.HEADER="header",n.HGROUP="hgroup",n.HR="hr",n.HTML="html",n.I="i",n.IMG="img",n.IMAGE="image",n.INPUT="input",n.IFRAME="iframe",n.KEYGEN="keygen",n.LABEL="label",n.LI="li",n.LINK="link",n.LISTING="listing",n.MAIN="main",n.MALIGNMARK="malignmark",n.MARQUEE="marquee",n.MATH="math",n.MENU="menu",n.META="meta",n.MGLYPH="mglyph",n.MI="mi",n.MO="mo",n.MN="mn",n.MS="ms",n.MTEXT="mtext",n.NAV="nav",n.NOBR="nobr",n.NOFRAMES="noframes",n.NOEMBED="noembed",n.NOSCRIPT="noscript",n.OBJECT="object",n.OL="ol",n.OPTGROUP="optgroup",n.OPTION="option",n.P="p",n.PARAM="param",n.PLAINTEXT="plaintext",n.PRE="pre",n.RB="rb",n.RP="rp",n.RT="rt",n.RTC="rtc",n.RUBY="ruby",n.S="s",n.SCRIPT="script",n.SECTION="section",n.SELECT="select",n.SOURCE="source",n.SMALL="small",n.SPAN="span",n.STRIKE="strike",n.STRONG="strong",n.STYLE="style",n.SUB="sub",n.SUMMARY="summary",n.SUP="sup",n.TABLE="table",n.TBODY="tbody",n.TEMPLATE="template",n.TEXTAREA="textarea",n.TFOOT="tfoot",n.TD="td",n.TH="th",n.THEAD="thead",n.TITLE="title",n.TR="tr",n.TRACK="track",n.TT="tt",n.U="u",n.UL="ul",n.SVG="svg",n.VAR="var",n.WBR="wbr",n.XMP="xmp"}(_=_||(_={})),function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.A=1]="A",n[n.ADDRESS=2]="ADDRESS",n[n.ANNOTATION_XML=3]="ANNOTATION_XML",n[n.APPLET=4]="APPLET",n[n.AREA=5]="AREA",n[n.ARTICLE=6]="ARTICLE",n[n.ASIDE=7]="ASIDE",n[n.B=8]="B",n[n.BASE=9]="BASE",n[n.BASEFONT=10]="BASEFONT",n[n.BGSOUND=11]="BGSOUND",n[n.BIG=12]="BIG",n[n.BLOCKQUOTE=13]="BLOCKQUOTE",n[n.BODY=14]="BODY",n[n.BR=15]="BR",n[n.BUTTON=16]="BUTTON",n[n.CAPTION=17]="CAPTION",n[n.CENTER=18]="CENTER",n[n.CODE=19]="CODE",n[n.COL=20]="COL",n[n.COLGROUP=21]="COLGROUP",n[n.DD=22]="DD",n[n.DESC=23]="DESC",n[n.DETAILS=24]="DETAILS",n[n.DIALOG=25]="DIALOG",n[n.DIR=26]="DIR",n[n.DIV=27]="DIV",n[n.DL=28]="DL",n[n.DT=29]="DT",n[n.EM=30]="EM",n[n.EMBED=31]="EMBED",n[n.FIELDSET=32]="FIELDSET",n[n.FIGCAPTION=33]="FIGCAPTION",n[n.FIGURE=34]="FIGURE",n[n.FONT=35]="FONT",n[n.FOOTER=36]="FOOTER",n[n.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",n[n.FORM=38]="FORM",n[n.FRAME=39]="FRAME",n[n.FRAMESET=40]="FRAMESET",n[n.H1=41]="H1",n[n.H2=42]="H2",n[n.H3=43]="H3",n[n.H4=44]="H4",n[n.H5=45]="H5",n[n.H6=46]="H6",n[n.HEAD=47]="HEAD",n[n.HEADER=48]="HEADER",n[n.HGROUP=49]="HGROUP",n[n.HR=50]="HR",n[n.HTML=51]="HTML",n[n.I=52]="I",n[n.IMG=53]="IMG",n[n.IMAGE=54]="IMAGE",n[n.INPUT=55]="INPUT",n[n.IFRAME=56]="IFRAME",n[n.KEYGEN=57]="KEYGEN",n[n.LABEL=58]="LABEL",n[n.LI=59]="LI",n[n.LINK=60]="LINK",n[n.LISTING=61]="LISTING",n[n.MAIN=62]="MAIN",n[n.MALIGNMARK=63]="MALIGNMARK",n[n.MARQUEE=64]="MARQUEE",n[n.MATH=65]="MATH",n[n.MENU=66]="MENU",n[n.META=67]="META",n[n.MGLYPH=68]="MGLYPH",n[n.MI=69]="MI",n[n.MO=70]="MO",n[n.MN=71]="MN",n[n.MS=72]="MS",n[n.MTEXT=73]="MTEXT",n[n.NAV=74]="NAV",n[n.NOBR=75]="NOBR",n[n.NOFRAMES=76]="NOFRAMES",n[n.NOEMBED=77]="NOEMBED",n[n.NOSCRIPT=78]="NOSCRIPT",n[n.OBJECT=79]="OBJECT",n[n.OL=80]="OL",n[n.OPTGROUP=81]="OPTGROUP",n[n.OPTION=82]="OPTION",n[n.P=83]="P",n[n.PARAM=84]="PARAM",n[n.PLAINTEXT=85]="PLAINTEXT",n[n.PRE=86]="PRE",n[n.RB=87]="RB",n[n.RP=88]="RP",n[n.RT=89]="RT",n[n.RTC=90]="RTC",n[n.RUBY=91]="RUBY",n[n.S=92]="S",n[n.SCRIPT=93]="SCRIPT",n[n.SECTION=94]="SECTION",n[n.SELECT=95]="SELECT",n[n.SOURCE=96]="SOURCE",n[n.SMALL=97]="SMALL",n[n.SPAN=98]="SPAN",n[n.STRIKE=99]="STRIKE",n[n.STRONG=100]="STRONG",n[n.STYLE=101]="STYLE",n[n.SUB=102]="SUB",n[n.SUMMARY=103]="SUMMARY",n[n.SUP=104]="SUP",n[n.TABLE=105]="TABLE",n[n.TBODY=106]="TBODY",n[n.TEMPLATE=107]="TEMPLATE",n[n.TEXTAREA=108]="TEXTAREA",n[n.TFOOT=109]="TFOOT",n[n.TD=110]="TD",n[n.TH=111]="TH",n[n.THEAD=112]="THEAD",n[n.TITLE=113]="TITLE",n[n.TR=114]="TR",n[n.TRACK=115]="TRACK",n[n.TT=116]="TT",n[n.U=117]="U",n[n.UL=118]="UL",n[n.SVG=119]="SVG",n[n.VAR=120]="VAR",n[n.WBR=121]="WBR",n[n.XMP=122]="XMP"}(h=h||(h={}));const bLe=new Map([[_.A,h.A],[_.ADDRESS,h.ADDRESS],[_.ANNOTATION_XML,h.ANNOTATION_XML],[_.APPLET,h.APPLET],[_.AREA,h.AREA],[_.ARTICLE,h.ARTICLE],[_.ASIDE,h.ASIDE],[_.B,h.B],[_.BASE,h.BASE],[_.BASEFONT,h.BASEFONT],[_.BGSOUND,h.BGSOUND],[_.BIG,h.BIG],[_.BLOCKQUOTE,h.BLOCKQUOTE],[_.BODY,h.BODY],[_.BR,h.BR],[_.BUTTON,h.BUTTON],[_.CAPTION,h.CAPTION],[_.CENTER,h.CENTER],[_.CODE,h.CODE],[_.COL,h.COL],[_.COLGROUP,h.COLGROUP],[_.DD,h.DD],[_.DESC,h.DESC],[_.DETAILS,h.DETAILS],[_.DIALOG,h.DIALOG],[_.DIR,h.DIR],[_.DIV,h.DIV],[_.DL,h.DL],[_.DT,h.DT],[_.EM,h.EM],[_.EMBED,h.EMBED],[_.FIELDSET,h.FIELDSET],[_.FIGCAPTION,h.FIGCAPTION],[_.FIGURE,h.FIGURE],[_.FONT,h.FONT],[_.FOOTER,h.FOOTER],[_.FOREIGN_OBJECT,h.FOREIGN_OBJECT],[_.FORM,h.FORM],[_.FRAME,h.FRAME],[_.FRAMESET,h.FRAMESET],[_.H1,h.H1],[_.H2,h.H2],[_.H3,h.H3],[_.H4,h.H4],[_.H5,h.H5],[_.H6,h.H6],[_.HEAD,h.HEAD],[_.HEADER,h.HEADER],[_.HGROUP,h.HGROUP],[_.HR,h.HR],[_.HTML,h.HTML],[_.I,h.I],[_.IMG,h.IMG],[_.IMAGE,h.IMAGE],[_.INPUT,h.INPUT],[_.IFRAME,h.IFRAME],[_.KEYGEN,h.KEYGEN],[_.LABEL,h.LABEL],[_.LI,h.LI],[_.LINK,h.LINK],[_.LISTING,h.LISTING],[_.MAIN,h.MAIN],[_.MALIGNMARK,h.MALIGNMARK],[_.MARQUEE,h.MARQUEE],[_.MATH,h.MATH],[_.MENU,h.MENU],[_.META,h.META],[_.MGLYPH,h.MGLYPH],[_.MI,h.MI],[_.MO,h.MO],[_.MN,h.MN],[_.MS,h.MS],[_.MTEXT,h.MTEXT],[_.NAV,h.NAV],[_.NOBR,h.NOBR],[_.NOFRAMES,h.NOFRAMES],[_.NOEMBED,h.NOEMBED],[_.NOSCRIPT,h.NOSCRIPT],[_.OBJECT,h.OBJECT],[_.OL,h.OL],[_.OPTGROUP,h.OPTGROUP],[_.OPTION,h.OPTION],[_.P,h.P],[_.PARAM,h.PARAM],[_.PLAINTEXT,h.PLAINTEXT],[_.PRE,h.PRE],[_.RB,h.RB],[_.RP,h.RP],[_.RT,h.RT],[_.RTC,h.RTC],[_.RUBY,h.RUBY],[_.S,h.S],[_.SCRIPT,h.SCRIPT],[_.SECTION,h.SECTION],[_.SELECT,h.SELECT],[_.SOURCE,h.SOURCE],[_.SMALL,h.SMALL],[_.SPAN,h.SPAN],[_.STRIKE,h.STRIKE],[_.STRONG,h.STRONG],[_.STYLE,h.STYLE],[_.SUB,h.SUB],[_.SUMMARY,h.SUMMARY],[_.SUP,h.SUP],[_.TABLE,h.TABLE],[_.TBODY,h.TBODY],[_.TEMPLATE,h.TEMPLATE],[_.TEXTAREA,h.TEXTAREA],[_.TFOOT,h.TFOOT],[_.TD,h.TD],[_.TH,h.TH],[_.THEAD,h.THEAD],[_.TITLE,h.TITLE],[_.TR,h.TR],[_.TRACK,h.TRACK],[_.TT,h.TT],[_.U,h.U],[_.UL,h.UL],[_.SVG,h.SVG],[_.VAR,h.VAR],[_.WBR,h.WBR],[_.XMP,h.XMP]]);function lh(n){var e;return null!==(e=bLe.get(n))&&void 0!==e?e:h.UNKNOWN}const U=h,wLe={[x.HTML]:new Set([U.ADDRESS,U.APPLET,U.AREA,U.ARTICLE,U.ASIDE,U.BASE,U.BASEFONT,U.BGSOUND,U.BLOCKQUOTE,U.BODY,U.BR,U.BUTTON,U.CAPTION,U.CENTER,U.COL,U.COLGROUP,U.DD,U.DETAILS,U.DIR,U.DIV,U.DL,U.DT,U.EMBED,U.FIELDSET,U.FIGCAPTION,U.FIGURE,U.FOOTER,U.FORM,U.FRAME,U.FRAMESET,U.H1,U.H2,U.H3,U.H4,U.H5,U.H6,U.HEAD,U.HEADER,U.HGROUP,U.HR,U.HTML,U.IFRAME,U.IMG,U.INPUT,U.LI,U.LINK,U.LISTING,U.MAIN,U.MARQUEE,U.MENU,U.META,U.NAV,U.NOEMBED,U.NOFRAMES,U.NOSCRIPT,U.OBJECT,U.OL,U.P,U.PARAM,U.PLAINTEXT,U.PRE,U.SCRIPT,U.SECTION,U.SELECT,U.SOURCE,U.STYLE,U.SUMMARY,U.TABLE,U.TBODY,U.TD,U.TEMPLATE,U.TEXTAREA,U.TFOOT,U.TH,U.THEAD,U.TITLE,U.TR,U.TRACK,U.UL,U.WBR,U.XMP]),[x.MATHML]:new Set([U.MI,U.MO,U.MN,U.MS,U.MTEXT,U.ANNOTATION_XML]),[x.SVG]:new Set([U.TITLE,U.FOREIGN_OBJECT,U.DESC]),[x.XLINK]:new Set,[x.XML]:new Set,[x.XMLNS]:new Set};function ik(n){return n===U.H1||n===U.H2||n===U.H3||n===U.H4||n===U.H5||n===U.H6}const SLe=new Set([_.STYLE,_.SCRIPT,_.XMP,_.IFRAME,_.NOEMBED,_.NOFRAMES,_.PLAINTEXT]),TLe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var b=function(n){return n[n.DATA=0]="DATA",n[n.RCDATA=1]="RCDATA",n[n.RAWTEXT=2]="RAWTEXT",n[n.SCRIPT_DATA=3]="SCRIPT_DATA",n[n.PLAINTEXT=4]="PLAINTEXT",n[n.TAG_OPEN=5]="TAG_OPEN",n[n.END_TAG_OPEN=6]="END_TAG_OPEN",n[n.TAG_NAME=7]="TAG_NAME",n[n.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",n[n.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",n[n.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",n[n.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",n[n.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",n[n.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",n[n.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",n[n.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",n[n.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",n[n.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",n[n.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",n[n.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",n[n.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",n[n.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",n[n.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",n[n.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",n[n.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",n[n.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",n[n.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",n[n.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",n[n.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",n[n.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",n[n.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",n[n.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",n[n.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",n[n.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",n[n.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",n[n.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",n[n.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",n[n.BOGUS_COMMENT=40]="BOGUS_COMMENT",n[n.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",n[n.COMMENT_START=42]="COMMENT_START",n[n.COMMENT_START_DASH=43]="COMMENT_START_DASH",n[n.COMMENT=44]="COMMENT",n[n.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",n[n.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",n[n.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",n[n.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",n[n.COMMENT_END_DASH=49]="COMMENT_END_DASH",n[n.COMMENT_END=50]="COMMENT_END",n[n.COMMENT_END_BANG=51]="COMMENT_END_BANG",n[n.DOCTYPE=52]="DOCTYPE",n[n.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",n[n.DOCTYPE_NAME=54]="DOCTYPE_NAME",n[n.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",n[n.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",n[n.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",n[n.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",n[n.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",n[n.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",n[n.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",n[n.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",n[n.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",n[n.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",n[n.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",n[n.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",n[n.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",n[n.CDATA_SECTION=68]="CDATA_SECTION",n[n.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",n[n.CDATA_SECTION_END=70]="CDATA_SECTION_END",n[n.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",n[n.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",n[n.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",n[n.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",n[n.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",n[n.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",n[n.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",n[n.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END",n}(b||{});const Kn={DATA:b.DATA,RCDATA:b.RCDATA,RAWTEXT:b.RAWTEXT,SCRIPT_DATA:b.SCRIPT_DATA,PLAINTEXT:b.PLAINTEXT,CDATA_SECTION:b.CDATA_SECTION};function c4(n){return n>=E.DIGIT_0&&n<=E.DIGIT_9}function l4(n){return n>=E.LATIN_CAPITAL_A&&n<=E.LATIN_CAPITAL_Z}function Fo(n){return function _Le(n){return n>=E.LATIN_SMALL_A&&n<=E.LATIN_SMALL_Z}(n)||l4(n)}function RC(n){return Fo(n)||c4(n)}function sk(n){return n>=E.LATIN_CAPITAL_A&&n<=E.LATIN_CAPITAL_F}function rk(n){return n>=E.LATIN_SMALL_A&&n<=E.LATIN_SMALL_F}function uh(n){return n+32}function ok(n){return n===E.SPACE||n===E.LINE_FEED||n===E.TABULATION||n===E.FORM_FEED}function ALe(n){return n===E.EQUALS_SIGN||RC(n)}function ak(n){return ok(n)||n===E.SOLIDUS||n===E.GREATER_THAN_SIGN}class RLe{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=b.DATA,this.returnState=b.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new yLe(t),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var t,i;null===(i=(t=this.handler).onParseError)||void 0===i||i.call(t,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,t,i){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||i?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,t){this.state=e,this._callState(t)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:Ve.START_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ve.END_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Ve.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Ve.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const i=this.currentToken;null===nk(i,this.currentAttr.name)?(i.attrs.push(this.currentAttr),i.location&&this.currentLocation&&((null!==(e=(t=i.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(L.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=lh(e.tagName),e.type===Ve.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(L.endTagWithAttributes),e.selfClosing&&this._err(L.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Ve.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case Ve.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case Ve.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Ve.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=ok(e)?Ve.WHITESPACE_CHARACTER:e===E.NULL?Ve.NULL_CHARACTER:Ve.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Ve.CHARACTER,e)}_matchNamedCharacterReference(e){let t=null,i=0,s=!1;for(let r=0,o=kr[0];r>=0&&(r=Y9(kr,o,r+1,e),!(r<0));e=this._consume()){i+=1,o=kr[r];const a=o&Ki.VALUE_LENGTH;if(a){const c=(a>>14)-1;if(e!==E.SEMICOLON&&this._isCharacterReferenceInAttribute()&&ALe(this.preprocessor.peek(1))?(t=[E.AMPERSAND],r+=c):(t=0===c?[kr[r]&~Ki.VALUE_LENGTH]:1===c?[kr[++r]]:[kr[++r],kr[++r]],i=0,s=e!==E.SEMICOLON),0===c){this._consume();break}}}return this._unconsume(i),s&&!this.preprocessor.endOfChunkHit&&this._err(L.missingSemicolonAfterCharacterReference),this._unconsume(1),t}_isCharacterReferenceInAttribute(){return this.returnState===b.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===b.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===b.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case b.DATA:this._stateData(e);break;case b.RCDATA:this._stateRcdata(e);break;case b.RAWTEXT:this._stateRawtext(e);break;case b.SCRIPT_DATA:this._stateScriptData(e);break;case b.PLAINTEXT:this._statePlaintext(e);break;case b.TAG_OPEN:this._stateTagOpen(e);break;case b.END_TAG_OPEN:this._stateEndTagOpen(e);break;case b.TAG_NAME:this._stateTagName(e);break;case b.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case b.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case b.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case b.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case b.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case b.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case b.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case b.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case b.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case b.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case b.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case b.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case b.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case b.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case b.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case b.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case b.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case b.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case b.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case b.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case b.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case b.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case b.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case b.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case b.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case b.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case b.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case b.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case b.BOGUS_COMMENT:this._stateBogusComment(e);break;case b.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case b.COMMENT_START:this._stateCommentStart(e);break;case b.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case b.COMMENT:this._stateComment(e);break;case b.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case b.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case b.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case b.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case b.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case b.COMMENT_END:this._stateCommentEnd(e);break;case b.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case b.DOCTYPE:this._stateDoctype(e);break;case b.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case b.DOCTYPE_NAME:this._stateDoctypeName(e);break;case b.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case b.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case b.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case b.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case b.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case b.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case b.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case b.CDATA_SECTION:this._stateCdataSection(e);break;case b.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case b.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case b.CHARACTER_REFERENCE:this._stateCharacterReference(e);break;case b.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(e);break;case b.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;case b.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(e);break;case b.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(e);break;case b.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(e);break;case b.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(e);break;case b.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case E.LESS_THAN_SIGN:this.state=b.TAG_OPEN;break;case E.AMPERSAND:this.returnState=b.DATA,this.state=b.CHARACTER_REFERENCE;break;case E.NULL:this._err(L.unexpectedNullCharacter),this._emitCodePoint(e);break;case E.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case E.AMPERSAND:this.returnState=b.RCDATA,this.state=b.CHARACTER_REFERENCE;break;case E.LESS_THAN_SIGN:this.state=b.RCDATA_LESS_THAN_SIGN;break;case E.NULL:this._err(L.unexpectedNullCharacter),this._emitChars(pt);break;case E.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case E.LESS_THAN_SIGN:this.state=b.RAWTEXT_LESS_THAN_SIGN;break;case E.NULL:this._err(L.unexpectedNullCharacter),this._emitChars(pt);break;case E.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case E.LESS_THAN_SIGN:this.state=b.SCRIPT_DATA_LESS_THAN_SIGN;break;case E.NULL:this._err(L.unexpectedNullCharacter),this._emitChars(pt);break;case E.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case E.NULL:this._err(L.unexpectedNullCharacter),this._emitChars(pt);break;case E.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Fo(e))this._createStartTagToken(),this.state=b.TAG_NAME,this._stateTagName(e);else switch(e){case E.EXCLAMATION_MARK:this.state=b.MARKUP_DECLARATION_OPEN;break;case E.SOLIDUS:this.state=b.END_TAG_OPEN;break;case E.QUESTION_MARK:this._err(L.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=b.BOGUS_COMMENT,this._stateBogusComment(e);break;case E.EOF:this._err(L.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(L.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=b.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Fo(e))this._createEndTagToken(),this.state=b.TAG_NAME,this._stateTagName(e);else switch(e){case E.GREATER_THAN_SIGN:this._err(L.missingEndTagName),this.state=b.DATA;break;case E.EOF:this._err(L.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(L.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=b.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:this.state=b.BEFORE_ATTRIBUTE_NAME;break;case E.SOLIDUS:this.state=b.SELF_CLOSING_START_TAG;break;case E.GREATER_THAN_SIGN:this.state=b.DATA,this.emitCurrentTagToken();break;case E.NULL:this._err(L.unexpectedNullCharacter),t.tagName+=pt;break;case E.EOF:this._err(L.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(l4(e)?uh(e):e)}}_stateRcdataLessThanSign(e){e===E.SOLIDUS?this.state=b.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=b.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Fo(e)?(this.state=b.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=b.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=b.BEFORE_ATTRIBUTE_NAME,!1;case E.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=b.SELF_CLOSING_START_TAG,!1;case E.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=b.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=b.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===E.SOLIDUS?this.state=b.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=b.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Fo(e)?(this.state=b.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=b.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=b.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case E.SOLIDUS:this.state=b.SCRIPT_DATA_END_TAG_OPEN;break;case E.EXCLAMATION_MARK:this.state=b.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=b.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Fo(e)?(this.state=b.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=b.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=b.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===E.HYPHEN_MINUS?(this.state=b.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=b.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===E.HYPHEN_MINUS?(this.state=b.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=b.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case E.HYPHEN_MINUS:this.state=b.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case E.LESS_THAN_SIGN:this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case E.NULL:this._err(L.unexpectedNullCharacter),this._emitChars(pt);break;case E.EOF:this._err(L.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case E.HYPHEN_MINUS:this.state=b.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case E.LESS_THAN_SIGN:this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case E.NULL:this._err(L.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_ESCAPED,this._emitChars(pt);break;case E.EOF:this._err(L.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=b.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case E.HYPHEN_MINUS:this._emitChars("-");break;case E.LESS_THAN_SIGN:this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case E.GREATER_THAN_SIGN:this.state=b.SCRIPT_DATA,this._emitChars(">");break;case E.NULL:this._err(L.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_ESCAPED,this._emitChars(pt);break;case E.EOF:this._err(L.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=b.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===E.SOLIDUS?this.state=b.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Fo(e)?(this._emitChars("<"),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Fo(e)?(this.state=b.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith("script",!1)&&ak(this.preprocessor.peek(6))){this._emitCodePoint(e);for(let t=0;t<6;t++)this._emitCodePoint(this._consume());this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case E.HYPHEN_MINUS:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case E.LESS_THAN_SIGN:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case E.NULL:this._err(L.unexpectedNullCharacter),this._emitChars(pt);break;case E.EOF:this._err(L.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case E.HYPHEN_MINUS:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case E.LESS_THAN_SIGN:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case E.NULL:this._err(L.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(pt);break;case E.EOF:this._err(L.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case E.HYPHEN_MINUS:this._emitChars("-");break;case E.LESS_THAN_SIGN:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case E.GREATER_THAN_SIGN:this.state=b.SCRIPT_DATA,this._emitChars(">");break;case E.NULL:this._err(L.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(pt);break;case E.EOF:this._err(L.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===E.SOLIDUS?(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith("script",!1)&&ak(this.preprocessor.peek(6))){this._emitCodePoint(e);for(let t=0;t<6;t++)this._emitCodePoint(this._consume());this.state=b.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.SOLIDUS:case E.GREATER_THAN_SIGN:case E.EOF:this.state=b.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case E.EQUALS_SIGN:this._err(L.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=b.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=b.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:case E.SOLIDUS:case E.GREATER_THAN_SIGN:case E.EOF:this._leaveAttrName(),this.state=b.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case E.EQUALS_SIGN:this._leaveAttrName(),this.state=b.BEFORE_ATTRIBUTE_VALUE;break;case E.QUOTATION_MARK:case E.APOSTROPHE:case E.LESS_THAN_SIGN:this._err(L.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case E.NULL:this._err(L.unexpectedNullCharacter),this.currentAttr.name+=pt;break;default:this.currentAttr.name+=String.fromCodePoint(l4(e)?uh(e):e)}}_stateAfterAttributeName(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.SOLIDUS:this.state=b.SELF_CLOSING_START_TAG;break;case E.EQUALS_SIGN:this.state=b.BEFORE_ATTRIBUTE_VALUE;break;case E.GREATER_THAN_SIGN:this.state=b.DATA,this.emitCurrentTagToken();break;case E.EOF:this._err(L.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=b.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.QUOTATION_MARK:this.state=b.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case E.APOSTROPHE:this.state=b.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case E.GREATER_THAN_SIGN:this._err(L.missingAttributeValue),this.state=b.DATA,this.emitCurrentTagToken();break;default:this.state=b.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case E.QUOTATION_MARK:this.state=b.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case E.AMPERSAND:this.returnState=b.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=b.CHARACTER_REFERENCE;break;case E.NULL:this._err(L.unexpectedNullCharacter),this.currentAttr.value+=pt;break;case E.EOF:this._err(L.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case E.APOSTROPHE:this.state=b.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case E.AMPERSAND:this.returnState=b.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=b.CHARACTER_REFERENCE;break;case E.NULL:this._err(L.unexpectedNullCharacter),this.currentAttr.value+=pt;break;case E.EOF:this._err(L.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:this._leaveAttrValue(),this.state=b.BEFORE_ATTRIBUTE_NAME;break;case E.AMPERSAND:this.returnState=b.ATTRIBUTE_VALUE_UNQUOTED,this.state=b.CHARACTER_REFERENCE;break;case E.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=b.DATA,this.emitCurrentTagToken();break;case E.NULL:this._err(L.unexpectedNullCharacter),this.currentAttr.value+=pt;break;case E.QUOTATION_MARK:case E.APOSTROPHE:case E.LESS_THAN_SIGN:case E.EQUALS_SIGN:case E.GRAVE_ACCENT:this._err(L.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case E.EOF:this._err(L.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:this._leaveAttrValue(),this.state=b.BEFORE_ATTRIBUTE_NAME;break;case E.SOLIDUS:this._leaveAttrValue(),this.state=b.SELF_CLOSING_START_TAG;break;case E.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=b.DATA,this.emitCurrentTagToken();break;case E.EOF:this._err(L.eofInTag),this._emitEOFToken();break;default:this._err(L.missingWhitespaceBetweenAttributes),this.state=b.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case E.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=b.DATA,this.emitCurrentTagToken();break;case E.EOF:this._err(L.eofInTag),this._emitEOFToken();break;default:this._err(L.unexpectedSolidusInTag),this.state=b.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case E.GREATER_THAN_SIGN:this.state=b.DATA,this.emitCurrentComment(t);break;case E.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case E.NULL:this._err(L.unexpectedNullCharacter),t.data+=pt;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch("--",!0)?(this._createCommentToken(3),this.state=b.COMMENT_START):this._consumeSequenceIfMatch("doctype",!1)?(this.currentLocation=this.getCurrentLocation(8),this.state=b.DOCTYPE):this._consumeSequenceIfMatch("[CDATA[",!0)?this.inForeignNode?this.state=b.CDATA_SECTION:(this._err(L.cdataInHtmlContent),this._createCommentToken(8),this.currentToken.data="[CDATA[",this.state=b.BOGUS_COMMENT):this._ensureHibernation()||(this._err(L.incorrectlyOpenedComment),this._createCommentToken(2),this.state=b.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case E.HYPHEN_MINUS:this.state=b.COMMENT_START_DASH;break;case E.GREATER_THAN_SIGN:this._err(L.abruptClosingOfEmptyComment),this.state=b.DATA,this.emitCurrentComment(this.currentToken);break;default:this.state=b.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case E.HYPHEN_MINUS:this.state=b.COMMENT_END;break;case E.GREATER_THAN_SIGN:this._err(L.abruptClosingOfEmptyComment),this.state=b.DATA,this.emitCurrentComment(t);break;case E.EOF:this._err(L.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=b.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case E.HYPHEN_MINUS:this.state=b.COMMENT_END_DASH;break;case E.LESS_THAN_SIGN:t.data+="<",this.state=b.COMMENT_LESS_THAN_SIGN;break;case E.NULL:this._err(L.unexpectedNullCharacter),t.data+=pt;break;case E.EOF:this._err(L.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case E.EXCLAMATION_MARK:t.data+="!",this.state=b.COMMENT_LESS_THAN_SIGN_BANG;break;case E.LESS_THAN_SIGN:t.data+="<";break;default:this.state=b.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===E.HYPHEN_MINUS?this.state=b.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=b.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===E.HYPHEN_MINUS?this.state=b.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=b.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==E.GREATER_THAN_SIGN&&e!==E.EOF&&this._err(L.nestedComment),this.state=b.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case E.HYPHEN_MINUS:this.state=b.COMMENT_END;break;case E.EOF:this._err(L.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=b.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case E.GREATER_THAN_SIGN:this.state=b.DATA,this.emitCurrentComment(t);break;case E.EXCLAMATION_MARK:this.state=b.COMMENT_END_BANG;break;case E.HYPHEN_MINUS:t.data+="-";break;case E.EOF:this._err(L.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=b.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case E.HYPHEN_MINUS:t.data+="--!",this.state=b.COMMENT_END_DASH;break;case E.GREATER_THAN_SIGN:this._err(L.incorrectlyClosedComment),this.state=b.DATA,this.emitCurrentComment(t);break;case E.EOF:this._err(L.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=b.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:this.state=b.BEFORE_DOCTYPE_NAME;break;case E.GREATER_THAN_SIGN:this.state=b.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case E.EOF:{this._err(L.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(L.missingWhitespaceBeforeDoctypeName),this.state=b.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(l4(e))this._createDoctypeToken(String.fromCharCode(uh(e))),this.state=b.DOCTYPE_NAME;else switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.NULL:this._err(L.unexpectedNullCharacter),this._createDoctypeToken(pt),this.state=b.DOCTYPE_NAME;break;case E.GREATER_THAN_SIGN:{this._err(L.missingDoctypeName),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=b.DATA;break}case E.EOF:{this._err(L.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=b.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:this.state=b.AFTER_DOCTYPE_NAME;break;case E.GREATER_THAN_SIGN:this.state=b.DATA,this.emitCurrentDoctype(t);break;case E.NULL:this._err(L.unexpectedNullCharacter),t.name+=pt;break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(l4(e)?uh(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.GREATER_THAN_SIGN:this.state=b.DATA,this.emitCurrentDoctype(t);break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch("public",!1)?this.state=b.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch("system",!1)?this.state=b.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(L.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:this.state=b.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case E.QUOTATION_MARK:this._err(L.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case E.APOSTROPHE:this._err(L.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case E.GREATER_THAN_SIGN:this._err(L.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(t);break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(L.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.QUOTATION_MARK:t.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case E.APOSTROPHE:t.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case E.GREATER_THAN_SIGN:this._err(L.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(t);break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(L.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case E.QUOTATION_MARK:this.state=b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case E.NULL:this._err(L.unexpectedNullCharacter),t.publicId+=pt;break;case E.GREATER_THAN_SIGN:this._err(L.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=b.DATA;break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case E.APOSTROPHE:this.state=b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case E.NULL:this._err(L.unexpectedNullCharacter),t.publicId+=pt;break;case E.GREATER_THAN_SIGN:this._err(L.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=b.DATA;break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:this.state=b.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case E.GREATER_THAN_SIGN:this.state=b.DATA,this.emitCurrentDoctype(t);break;case E.QUOTATION_MARK:this._err(L.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case E.APOSTROPHE:this._err(L.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(L.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=b.DATA;break;case E.QUOTATION_MARK:t.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case E.APOSTROPHE:t.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(L.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:this.state=b.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case E.QUOTATION_MARK:this._err(L.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case E.APOSTROPHE:this._err(L.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case E.GREATER_THAN_SIGN:this._err(L.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(t);break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(L.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.QUOTATION_MARK:t.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case E.APOSTROPHE:t.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case E.GREATER_THAN_SIGN:this._err(L.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(t);break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(L.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case E.QUOTATION_MARK:this.state=b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case E.NULL:this._err(L.unexpectedNullCharacter),t.systemId+=pt;break;case E.GREATER_THAN_SIGN:this._err(L.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=b.DATA;break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case E.APOSTROPHE:this.state=b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case E.NULL:this._err(L.unexpectedNullCharacter),t.systemId+=pt;break;case E.GREATER_THAN_SIGN:this._err(L.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=b.DATA;break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=b.DATA;break;case E.EOF:this._err(L.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(L.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case E.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=b.DATA;break;case E.NULL:this._err(L.unexpectedNullCharacter);break;case E.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case E.RIGHT_SQUARE_BRACKET:this.state=b.CDATA_SECTION_BRACKET;break;case E.EOF:this._err(L.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===E.RIGHT_SQUARE_BRACKET?this.state=b.CDATA_SECTION_END:(this._emitChars("]"),this.state=b.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case E.GREATER_THAN_SIGN:this.state=b.DATA;break;case E.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=b.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===E.NUMBER_SIGN?this.state=b.NUMERIC_CHARACTER_REFERENCE:RC(e)?(this.state=b.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const t=this._matchNamedCharacterReference(e);if(!this._ensureHibernation())if(t){for(let i=0;i<t.length;i++)this._flushCodePointConsumedAsCharacterReference(t[i]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this.state=b.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){RC(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===E.SEMICOLON&&this._err(L.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===E.LATIN_SMALL_X||e===E.LATIN_CAPITAL_X?this.state=b.HEXADEMICAL_CHARACTER_REFERENCE_START:c4(e)?(this.state=b.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(L.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(E.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){!function DLe(n){return c4(n)||sk(n)||rk(n)}(e)?(this._err(L.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(E.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState):(this.state=b.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e))}_stateHexademicalCharacterReference(e){sk(e)?this.charRefCode=16*this.charRefCode+e-55:rk(e)?this.charRefCode=16*this.charRefCode+e-87:c4(e)?this.charRefCode=16*this.charRefCode+e-48:e===E.SEMICOLON?this.state=b.NUMERIC_CHARACTER_REFERENCE_END:(this._err(L.missingSemicolonAfterCharacterReference),this.state=b.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){c4(e)?this.charRefCode=10*this.charRefCode+e-48:e===E.SEMICOLON?this.state=b.NUMERIC_CHARACTER_REFERENCE_END:(this._err(L.missingSemicolonAfterCharacterReference),this.state=b.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===E.NULL)this._err(L.nullCharacterReference),this.charRefCode=E.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(L.characterReferenceOutsideUnicodeRange),this.charRefCode=E.REPLACEMENT_CHARACTER;else if(Jz(this.charRefCode))this._err(L.surrogateCharacterReference),this.charRefCode=E.REPLACEMENT_CHARACTER;else if(tk(this.charRefCode))this._err(L.noncharacterCharacterReference);else if(ek(this.charRefCode)||this.charRefCode===E.CARRIAGE_RETURN){this._err(L.controlCharacterReference);const t=TLe.get(this.charRefCode);void 0!==t&&(this.charRefCode=t)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}}const ck=new Set([h.DD,h.DT,h.LI,h.OPTGROUP,h.OPTION,h.P,h.RB,h.RP,h.RT,h.RTC]),lk=new Set([...ck,h.CAPTION,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]),dh=new Map([[h.APPLET,x.HTML],[h.CAPTION,x.HTML],[h.HTML,x.HTML],[h.MARQUEE,x.HTML],[h.OBJECT,x.HTML],[h.TABLE,x.HTML],[h.TD,x.HTML],[h.TEMPLATE,x.HTML],[h.TH,x.HTML],[h.ANNOTATION_XML,x.MATHML],[h.MI,x.MATHML],[h.MN,x.MATHML],[h.MO,x.MATHML],[h.MS,x.MATHML],[h.MTEXT,x.MATHML],[h.DESC,x.SVG],[h.FOREIGN_OBJECT,x.SVG],[h.TITLE,x.SVG]]),LLe=[h.H1,h.H2,h.H3,h.H4,h.H5,h.H6],NLe=[h.TR,h.TEMPLATE,h.HTML],HLe=[h.TBODY,h.TFOOT,h.THEAD,h.TEMPLATE,h.HTML],xLe=[h.TABLE,h.TEMPLATE,h.HTML],ILe=[h.TD,h.TH];class OLe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,i){this.treeAdapter=t,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=h.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===h.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===x.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const i=this._indexOf(e);this.items[i]=t,i===this.stackTop&&(this.current=t)}insertAfter(e,t,i){const s=this._indexOf(e)+1;this.items.splice(s,0,t),this.tagIDs.splice(s,0,i),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==x.HTML);this.shortenToLength(t<0?0:t)}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}popUntilPopped(e,t){const i=this._indexOfTagNames(e,t);this.shortenToLength(i<0?0:i)}popUntilNumberedHeaderPopped(){this.popUntilPopped(LLe,x.HTML)}popUntilTableCellPopped(){this.popUntilPopped(ILe,x.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let i=this.stackTop;i>=0;i--)if(e.includes(this.tagIDs[i])&&this.treeAdapter.getNamespaceURI(this.items[i])===t)return i;return-1}clearBackTo(e,t){const i=this._indexOfTagNames(e,t);this.shortenToLength(i+1)}clearBackToTableContext(){this.clearBackTo(xLe,x.HTML)}clearBackToTableBodyContext(){this.clearBackTo(HLe,x.HTML)}clearBackToTableRowContext(){this.clearBackTo(NLe,x.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===h.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===h.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const i=this.tagIDs[t],s=this.treeAdapter.getNamespaceURI(this.items[t]);if(i===e&&s===x.HTML)return!0;if(dh.get(i)===s)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e],i=this.treeAdapter.getNamespaceURI(this.items[e]);if(ik(t)&&i===x.HTML)return!0;if(dh.get(t)===i)return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const i=this.tagIDs[t],s=this.treeAdapter.getNamespaceURI(this.items[t]);if(i===e&&s===x.HTML)return!0;if((i===h.UL||i===h.OL)&&s===x.HTML||dh.get(i)===s)return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const i=this.tagIDs[t],s=this.treeAdapter.getNamespaceURI(this.items[t]);if(i===e&&s===x.HTML)return!0;if(i===h.BUTTON&&s===x.HTML||dh.get(i)===s)return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const i=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===x.HTML){if(i===e)return!0;if(i===h.TABLE||i===h.TEMPLATE||i===h.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===x.HTML){if(t===h.TBODY||t===h.THEAD||t===h.TFOOT)return!0;if(t===h.TABLE||t===h.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const i=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===x.HTML){if(i===e)return!0;if(i!==h.OPTION&&i!==h.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;ck.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;lk.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&lk.has(this.currentTagId);)this.pop()}}var Es;!function(n){n[n.Marker=0]="Marker",n[n.Element=1]="Element"}(Es=Es||(Es={}));const uk={type:Es.Marker};class VLe{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const i=[],s=t.length,r=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e);for(let a=0;a<this.entries.length;a++){const c=this.entries[a];if(c.type===Es.Marker)break;const{element:l}=c;if(this.treeAdapter.getTagName(l)===r&&this.treeAdapter.getNamespaceURI(l)===o){const u=this.treeAdapter.getAttrList(l);u.length===s&&i.push({idx:a,attrs:u})}}return i}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),i=this._getNoahArkConditionCandidates(e,t);if(i.length<3)return;const s=new Map(t.map(o=>[o.name,o.value]));let r=0;for(let o=0;o<i.length;o++){const a=i[o];a.attrs.every(c=>s.get(c.name)===c.value)&&(r+=1,r>=3&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(uk)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:Es.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const i=this.entries.indexOf(this.bookmark);this.entries.splice(i,0,{type:Es.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(uk);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const t=this.entries.find(i=>i.type===Es.Marker||this.treeAdapter.getTagName(i.element)===e);return t&&t.type===Es.Element?t:null}getElementEntry(e){return this.entries.find(t=>t.type===Es.Element&&t.element===e)}}function dk(n){return{nodeName:"#text",value:n,parentNode:null}}const Xa={createDocument:()=>({nodeName:"#document",mode:qn.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(n,e,t)=>({nodeName:n,tagName:n,attrs:t,namespaceURI:e,childNodes:[],parentNode:null}),createCommentNode:n=>({nodeName:"#comment",data:n,parentNode:null}),appendChild(n,e){n.childNodes.push(e),e.parentNode=n},insertBefore(n,e,t){const i=n.childNodes.indexOf(t);n.childNodes.splice(i,0,e),e.parentNode=n},setTemplateContent(n,e){n.content=e},getTemplateContent:n=>n.content,setDocumentType(n,e,t,i){const s=n.childNodes.find(r=>"#documentType"===r.nodeName);s?(s.name=e,s.publicId=t,s.systemId=i):Xa.appendChild(n,{nodeName:"#documentType",name:e,publicId:t,systemId:i,parentNode:null})},setDocumentMode(n,e){n.mode=e},getDocumentMode:n=>n.mode,detachNode(n){if(n.parentNode){const e=n.parentNode.childNodes.indexOf(n);n.parentNode.childNodes.splice(e,1),n.parentNode=null}},insertText(n,e){if(n.childNodes.length>0){const t=n.childNodes[n.childNodes.length-1];if(Xa.isTextNode(t))return void(t.value+=e)}Xa.appendChild(n,dk(e))},insertTextBefore(n,e,t){const i=n.childNodes[n.childNodes.indexOf(t)-1];i&&Xa.isTextNode(i)?i.value+=e:Xa.insertBefore(n,dk(e),t)},adoptAttributes(n,e){const t=new Set(n.attrs.map(i=>i.name));for(let i=0;i<e.length;i++)t.has(e[i].name)||n.attrs.push(e[i])},getFirstChild:n=>n.childNodes[0],getChildNodes:n=>n.childNodes,getParentNode:n=>n.parentNode,getAttrList:n=>n.attrs,getTagName:n=>n.tagName,getNamespaceURI:n=>n.namespaceURI,getTextNodeContent:n=>n.value,getCommentNodeContent:n=>n.data,getDocumentTypeNodeName:n=>n.name,getDocumentTypeNodePublicId:n=>n.publicId,getDocumentTypeNodeSystemId:n=>n.systemId,isTextNode:n=>"#text"===n.nodeName,isCommentNode:n=>"#comment"===n.nodeName,isDocumentTypeNode:n=>"#documentType"===n.nodeName,isElementNode:n=>Object.prototype.hasOwnProperty.call(n,"tagName"),setNodeSourceCodeLocation(n,e){n.sourceCodeLocation=e},getNodeSourceCodeLocation:n=>n.sourceCodeLocation,updateNodeSourceCodeLocation(n,e){n.sourceCodeLocation={...n.sourceCodeLocation,...e}}},fk=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],zLe=[...fk,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],kLe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),pk=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],GLe=[...pk,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function gk(n,e){return e.some(t=>n.startsWith(t))}const mk_TEXT_HTML="text/html",mk_APPLICATION_XML="application/xhtml+xml",WLe="definitionurl",jLe="definitionURL",$Le=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(n=>[n.toLowerCase(),n])),qLe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:x.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:x.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:x.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:x.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:x.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:x.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:x.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:x.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:x.XML}],["xml:space",{prefix:"xml",name:"space",namespace:x.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:x.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:x.XMLNS}]]),KLe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(n=>[n.toLowerCase(),n])),YLe=new Set([h.B,h.BIG,h.BLOCKQUOTE,h.BODY,h.BR,h.CENTER,h.CODE,h.DD,h.DIV,h.DL,h.DT,h.EM,h.EMBED,h.H1,h.H2,h.H3,h.H4,h.H5,h.H6,h.HEAD,h.HR,h.I,h.IMG,h.LI,h.LISTING,h.MENU,h.META,h.NOBR,h.OL,h.P,h.PRE,h.RUBY,h.S,h.SMALL,h.SPAN,h.STRONG,h.STRIKE,h.SUB,h.SUP,h.TABLE,h.TT,h.U,h.UL,h.VAR]);function Ck(n){for(let e=0;e<n.attrs.length;e++)if(n.attrs[e].name===WLe){n.attrs[e].name=jLe;break}}function vk(n){for(let e=0;e<n.attrs.length;e++){const t=$Le.get(n.attrs[e].name);null!=t&&(n.attrs[e].name=t)}}function NC(n){for(let e=0;e<n.attrs.length;e++){const t=qLe.get(n.attrs[e].name);t&&(n.attrs[e].prefix=t.prefix,n.attrs[e].name=t.name,n.attrs[e].namespace=t.namespace)}}const tNe="hidden",nNe=8,iNe=3;var S=function(n){return n[n.INITIAL=0]="INITIAL",n[n.BEFORE_HTML=1]="BEFORE_HTML",n[n.BEFORE_HEAD=2]="BEFORE_HEAD",n[n.IN_HEAD=3]="IN_HEAD",n[n.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",n[n.AFTER_HEAD=5]="AFTER_HEAD",n[n.IN_BODY=6]="IN_BODY",n[n.TEXT=7]="TEXT",n[n.IN_TABLE=8]="IN_TABLE",n[n.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",n[n.IN_CAPTION=10]="IN_CAPTION",n[n.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",n[n.IN_TABLE_BODY=12]="IN_TABLE_BODY",n[n.IN_ROW=13]="IN_ROW",n[n.IN_CELL=14]="IN_CELL",n[n.IN_SELECT=15]="IN_SELECT",n[n.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",n[n.IN_TEMPLATE=17]="IN_TEMPLATE",n[n.AFTER_BODY=18]="AFTER_BODY",n[n.IN_FRAMESET=19]="IN_FRAMESET",n[n.AFTER_FRAMESET=20]="AFTER_FRAMESET",n[n.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",n[n.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET",n}(S||{});const sNe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Ek=new Set([h.TABLE,h.TBODY,h.TFOOT,h.THEAD,h.TR]),yk={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Xa,onParseError:null};class bk{constructor(e,t,i=null,s=null){this.fragmentContext=i,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=S.INITIAL,this.originalInsertionMode=S.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...yk,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=t??this.treeAdapter.createDocument(),this.tokenizer=new RLe(this.options,this),this.activeFormattingElements=new VLe(this.treeAdapter),this.fragmentContextID=i?lh(this.treeAdapter.getTagName(i)):h.UNKNOWN,this._setContextModes(i??this.document,this.fragmentContextID),this.openElements=new OLe(this.document,this.treeAdapter,this)}static parse(e,t){const i=new this(t);return i.tokenizer.write(e,!0),i.document}static getFragmentParser(e,t){const i={...yk,...t};e??(e=i.treeAdapter.createElement(_.TEMPLATE,x.HTML,[]));const s=i.treeAdapter.createElement("documentmock",x.HTML,[]),r=new this(i,s,e);return r.fragmentContextID===h.TEMPLATE&&r.tmplInsertionModeStack.unshift(S.IN_TEMPLATE),r._initTokenizerForFragmentParsing(),r._insertFakeRootElement(),r._resetInsertionMode(),r._findFormInFragmentContext(),r}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,i){var s;if(!this.onParseError)return;const r=null!==(s=e.location)&&void 0!==s?s:sNe;this.onParseError({code:t,startLine:r.startLine,startCol:r.startCol,startOffset:r.startOffset,endLine:i?r.startLine:r.endLine,endCol:i?r.startCol:r.endCol,endOffset:i?r.startOffset:r.endOffset})}onItemPush(e,t,i){var s,r;null===(r=(s=this.treeAdapter).onItemPush)||void 0===r||r.call(s,e),i&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var i,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(s=(i=this.treeAdapter).onItemPop)||void 0===s||s.call(i,e,this.openElements.current),t){let r,o;0===this.openElements.stackTop&&this.fragmentContext?(r=this.fragmentContext,o=this.fragmentContextID):({current:r,currentTagId:o}=this.openElements),this._setContextModes(r,o)}}_setContextModes(e,t){const i=e===this.document||this.treeAdapter.getNamespaceURI(e)===x.HTML;this.currentNotInHTML=!i,this.tokenizer.inForeignNode=!i&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,x.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=S.TEXT}switchToPlaintextParsing(){this.insertionMode=S.TEXT,this.originalInsertionMode=S.IN_BODY,this.tokenizer.state=Kn.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===_.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===x.HTML)switch(this.fragmentContextID){case h.TITLE:case h.TEXTAREA:this.tokenizer.state=Kn.RCDATA;break;case h.STYLE:case h.XMP:case h.IFRAME:case h.NOEMBED:case h.NOFRAMES:case h.NOSCRIPT:this.tokenizer.state=Kn.RAWTEXT;break;case h.SCRIPT:this.tokenizer.state=Kn.SCRIPT_DATA;break;case h.PLAINTEXT:this.tokenizer.state=Kn.PLAINTEXT}}_setDocumentType(e){if(this.treeAdapter.setDocumentType(this.document,e.name||"",e.publicId||"",e.systemId||""),e.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const i=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,i)}this._shouldFosterParentOnInsertion()?this._fosterParentElement(e):this.treeAdapter.appendChild(this.openElements.currentTmplContentOrNode,e)}_appendElement(e,t){const i=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(i,e.location)}_insertElement(e,t){const i=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(i,e.location),this.openElements.push(i,e.tagID)}_insertFakeElement(e,t){const i=this.treeAdapter.createElement(e,x.HTML,[]);this._attachElementToTree(i,null),this.openElements.push(i,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,x.HTML,e.attrs),i=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,i),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(_.HTML,x.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,h.HTML)}_appendCommentNode(e,t){const i=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,i),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}_insertCharacters(e){let t,i;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:i}=this._findFosterParentingLocation()),i?this.treeAdapter.insertTextBefore(t,e.chars,i):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const s=this.treeAdapter.getChildNodes(t),r=i?s.lastIndexOf(i):s.length,o=s[r-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:c,endCol:l,endOffset:u}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:c,endCol:l,endOffset:u})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}_adoptNodes(e,t){for(let i=this.treeAdapter.getFirstChild(e);i;i=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(i),this.treeAdapter.appendChild(t,i)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const i=t.location,s=this.treeAdapter.getTagName(e),r=t.type===Ve.END_TAG&&s===t.tagName?{endTag:{...i},endLine:i.endLine,endCol:i.endCol,endOffset:i.endOffset}:{endLine:i.startLine,endCol:i.startCol,endOffset:i.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,r)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,i;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,i=this.fragmentContextID):({current:t,currentTagId:i}=this.openElements),(e.tagID!==h.SVG||this.treeAdapter.getTagName(t)!==_.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==x.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===h.MGLYPH||e.tagID===h.MALIGNMARK)&&!this._isIntegrationPoint(i,t,x.HTML))}_processToken(e){switch(e.type){case Ve.CHARACTER:this.onCharacter(e);break;case Ve.NULL_CHARACTER:this.onNullCharacter(e);break;case Ve.COMMENT:this.onComment(e);break;case Ve.DOCTYPE:this.onDoctype(e);break;case Ve.START_TAG:this._processStartTag(e);break;case Ve.END_TAG:this.onEndTag(e);break;case Ve.EOF:this.onEof(e);break;case Ve.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,i){return function eNe(n,e,t,i){return(!i||i===x.HTML)&&function JLe(n,e,t){if(e===x.MATHML&&n===h.ANNOTATION_XML)for(let i=0;i<t.length;i++)if(t[i].name===Po.ENCODING){const s=t[i].value.toLowerCase();return s===mk_TEXT_HTML||s===mk_APPLICATION_XML}return e===x.SVG&&(n===h.FOREIGN_OBJECT||n===h.DESC||n===h.TITLE)}(n,e,t)||(!i||i===x.MATHML)&&function ZLe(n,e){return e===x.MATHML&&(n===h.MI||n===h.MO||n===h.MN||n===h.MS||n===h.MTEXT)}(n,e)}(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),i)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex(s=>s.type===Es.Marker||this.openElements.contains(s.element));for(let s=t<0?e-1:t-1;s>=0;s--){const r=this.activeFormattingElements.entries[s];this._insertElement(r.token,this.treeAdapter.getNamespaceURI(r.element)),r.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=S.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(h.P),this.openElements.popUntilTagNamePopped(h.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case h.TR:return void(this.insertionMode=S.IN_ROW);case h.TBODY:case h.THEAD:case h.TFOOT:return void(this.insertionMode=S.IN_TABLE_BODY);case h.CAPTION:return void(this.insertionMode=S.IN_CAPTION);case h.COLGROUP:return void(this.insertionMode=S.IN_COLUMN_GROUP);case h.TABLE:return void(this.insertionMode=S.IN_TABLE);case h.BODY:return void(this.insertionMode=S.IN_BODY);case h.FRAMESET:return void(this.insertionMode=S.IN_FRAMESET);case h.SELECT:return void this._resetInsertionModeForSelect(e);case h.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case h.HTML:return void(this.insertionMode=this.headElement?S.AFTER_HEAD:S.BEFORE_HEAD);case h.TD:case h.TH:if(e>0)return void(this.insertionMode=S.IN_CELL);break;case h.HEAD:if(e>0)return void(this.insertionMode=S.IN_HEAD)}this.insertionMode=S.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const i=this.openElements.tagIDs[t];if(i===h.TEMPLATE)break;if(i===h.TABLE)return void(this.insertionMode=S.IN_SELECT_IN_TABLE)}this.insertionMode=S.IN_SELECT}_isElementCausesFosterParenting(e){return Ek.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case h.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===x.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case h.TABLE:{const i=this.treeAdapter.getParentNode(t);return i?{parent:i,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const i=this.treeAdapter.getNamespaceURI(e);return wLe[i].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function IHe(n,e){n._insertCharacters(e),n.framesetOk=!1}(this,e);else switch(this.insertionMode){case S.INITIAL:u4(this,e);break;case S.BEFORE_HTML:d4(this,e);break;case S.BEFORE_HEAD:h4(this,e);break;case S.IN_HEAD:f4(this,e);break;case S.IN_HEAD_NO_SCRIPT:p4(this,e);break;case S.AFTER_HEAD:g4(this,e);break;case S.IN_BODY:case S.IN_CAPTION:case S.IN_CELL:case S.IN_TEMPLATE:Sk(this,e);break;case S.TEXT:case S.IN_SELECT:case S.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case S.IN_TABLE:case S.IN_TABLE_BODY:case S.IN_ROW:OC(this,e);break;case S.IN_TABLE_TEXT:Nk(this,e);break;case S.IN_COLUMN_GROUP:ph(this,e);break;case S.AFTER_BODY:Ch(this,e);break;case S.AFTER_AFTER_BODY:vh(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function xHe(n,e){e.chars=pt,n._insertCharacters(e)}(this,e);else switch(this.insertionMode){case S.INITIAL:u4(this,e);break;case S.BEFORE_HTML:d4(this,e);break;case S.BEFORE_HEAD:h4(this,e);break;case S.IN_HEAD:f4(this,e);break;case S.IN_HEAD_NO_SCRIPT:p4(this,e);break;case S.AFTER_HEAD:g4(this,e);break;case S.TEXT:this._insertCharacters(e);break;case S.IN_TABLE:case S.IN_TABLE_BODY:case S.IN_ROW:OC(this,e);break;case S.IN_COLUMN_GROUP:ph(this,e);break;case S.AFTER_BODY:Ch(this,e);break;case S.AFTER_AFTER_BODY:vh(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)xC(this,e);else switch(this.insertionMode){case S.INITIAL:case S.BEFORE_HTML:case S.BEFORE_HEAD:case S.IN_HEAD:case S.IN_HEAD_NO_SCRIPT:case S.AFTER_HEAD:case S.IN_BODY:case S.IN_TABLE:case S.IN_CAPTION:case S.IN_COLUMN_GROUP:case S.IN_TABLE_BODY:case S.IN_ROW:case S.IN_CELL:case S.IN_SELECT:case S.IN_SELECT_IN_TABLE:case S.IN_TEMPLATE:case S.IN_FRAMESET:case S.AFTER_FRAMESET:xC(this,e);break;case S.IN_TABLE_TEXT:v4(this,e);break;case S.AFTER_BODY:!function dNe(n,e){n._appendCommentNode(e,n.openElements.items[0])}(this,e);break;case S.AFTER_AFTER_BODY:case S.AFTER_AFTER_FRAMESET:!function hNe(n,e){n._appendCommentNode(e,n.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case S.INITIAL:!function fNe(n,e){n._setDocumentType(e);const t=e.forceQuirks?qn.QUIRKS:function ULe(n){if("html"!==n.name)return qn.QUIRKS;const{systemId:e}=n;if(e&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===e.toLowerCase())return qn.QUIRKS;let{publicId:t}=n;if(null!==t){if(t=t.toLowerCase(),kLe.has(t))return qn.QUIRKS;let i=null===e?zLe:fk;if(gk(t,i))return qn.QUIRKS;if(i=null===e?pk:GLe,gk(t,i))return qn.LIMITED_QUIRKS}return qn.NO_QUIRKS}(e);(function BLe(n){return"html"===n.name&&null===n.publicId&&(null===n.systemId||"about:legacy-compat"===n.systemId)})(e)||n._err(e,L.nonConformingDoctype),n.treeAdapter.setDocumentMode(n.document,t),n.insertionMode=S.BEFORE_HTML}(this,e);break;case S.BEFORE_HEAD:case S.IN_HEAD:case S.IN_HEAD_NO_SCRIPT:case S.AFTER_HEAD:this._err(e,L.misplacedDoctype);break;case S.IN_TABLE_TEXT:v4(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,L.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function OHe(n,e){if(function QLe(n){const e=n.tagID;return e===h.FONT&&n.attrs.some(({name:i})=>i===Po.COLOR||i===Po.SIZE||i===Po.FACE)||YLe.has(e)}(e))Fk(n),n._startTagOutsideForeignContent(e);else{const t=n._getAdjustedCurrentElement(),i=n.treeAdapter.getNamespaceURI(t);i===x.MATHML?Ck(e):i===x.SVG&&(function XLe(n){const e=KLe.get(n.tagName);null!=e&&(n.tagName=e,n.tagID=lh(n.tagName))}(e),vk(e)),NC(e),e.selfClosing?n._appendElement(e,i):n._insertElement(e,i),e.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case S.INITIAL:u4(this,e);break;case S.BEFORE_HTML:!function pNe(n,e){e.tagID===h.HTML?(n._insertElement(e,x.HTML),n.insertionMode=S.BEFORE_HEAD):d4(n,e)}(this,e);break;case S.BEFORE_HEAD:!function mNe(n,e){switch(e.tagID){case h.HTML:vn(n,e);break;case h.HEAD:n._insertElement(e,x.HTML),n.headElement=n.openElements.current,n.insertionMode=S.IN_HEAD;break;default:h4(n,e)}}(this,e);break;case S.IN_HEAD:ys(this,e);break;case S.IN_HEAD_NO_SCRIPT:!function ENe(n,e){switch(e.tagID){case h.HTML:vn(n,e);break;case h.BASEFONT:case h.BGSOUND:case h.HEAD:case h.LINK:case h.META:case h.NOFRAMES:case h.STYLE:ys(n,e);break;case h.NOSCRIPT:n._err(e,L.nestedNoscriptInHead);break;default:p4(n,e)}}(this,e);break;case S.AFTER_HEAD:!function bNe(n,e){switch(e.tagID){case h.HTML:vn(n,e);break;case h.BODY:n._insertElement(e,x.HTML),n.framesetOk=!1,n.insertionMode=S.IN_BODY;break;case h.FRAMESET:n._insertElement(e,x.HTML),n.insertionMode=S.IN_FRAMESET;break;case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:n._err(e,L.abandonedHeadElementChild),n.openElements.push(n.headElement,h.HEAD),ys(n,e),n.openElements.remove(n.headElement);break;case h.HEAD:n._err(e,L.misplacedStartTagForHeadElement);break;default:g4(n,e)}}(this,e);break;case S.IN_BODY:vn(this,e);break;case S.IN_TABLE:ec(this,e);break;case S.IN_TABLE_TEXT:v4(this,e);break;case S.IN_CAPTION:!function CHe(n,e){Hk.has(e.tagID)?n.openElements.hasInTableScope(h.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(h.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=S.IN_TABLE,ec(n,e)):vn(n,e)}(this,e);break;case S.IN_COLUMN_GROUP:VC(this,e);break;case S.IN_TABLE_BODY:gh(this,e);break;case S.IN_ROW:mh(this,e);break;case S.IN_CELL:!function yHe(n,e){Hk.has(e.tagID)?(n.openElements.hasInTableScope(h.TD)||n.openElements.hasInTableScope(h.TH))&&(n._closeTableCell(),mh(n,e)):vn(n,e)}(this,e);break;case S.IN_SELECT:Ik(this,e);break;case S.IN_SELECT_IN_TABLE:!function wHe(n,e){const t=e.tagID;t===h.CAPTION||t===h.TABLE||t===h.TBODY||t===h.TFOOT||t===h.THEAD||t===h.TR||t===h.TD||t===h.TH?(n.openElements.popUntilTagNamePopped(h.SELECT),n._resetInsertionMode(),n._processStartTag(e)):Ik(n,e)}(this,e);break;case S.IN_TEMPLATE:!function MHe(n,e){switch(e.tagID){case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:ys(n,e);break;case h.CAPTION:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:n.tmplInsertionModeStack[0]=S.IN_TABLE,n.insertionMode=S.IN_TABLE,ec(n,e);break;case h.COL:n.tmplInsertionModeStack[0]=S.IN_COLUMN_GROUP,n.insertionMode=S.IN_COLUMN_GROUP,VC(n,e);break;case h.TR:n.tmplInsertionModeStack[0]=S.IN_TABLE_BODY,n.insertionMode=S.IN_TABLE_BODY,gh(n,e);break;case h.TD:case h.TH:n.tmplInsertionModeStack[0]=S.IN_ROW,n.insertionMode=S.IN_ROW,mh(n,e);break;default:n.tmplInsertionModeStack[0]=S.IN_BODY,n.insertionMode=S.IN_BODY,vn(n,e)}}(this,e);break;case S.AFTER_BODY:!function _He(n,e){e.tagID===h.HTML?vn(n,e):Ch(n,e)}(this,e);break;case S.IN_FRAMESET:!function DHe(n,e){switch(e.tagID){case h.HTML:vn(n,e);break;case h.FRAMESET:n._insertElement(e,x.HTML);break;case h.FRAME:n._appendElement(e,x.HTML),e.ackSelfClosing=!0;break;case h.NOFRAMES:ys(n,e)}}(this,e);break;case S.AFTER_FRAMESET:!function RHe(n,e){switch(e.tagID){case h.HTML:vn(n,e);break;case h.NOFRAMES:ys(n,e)}}(this,e);break;case S.AFTER_AFTER_BODY:!function NHe(n,e){e.tagID===h.HTML?vn(n,e):vh(n,e)}(this,e);break;case S.AFTER_AFTER_FRAMESET:!function HHe(n,e){switch(e.tagID){case h.HTML:vn(n,e);break;case h.NOFRAMES:ys(n,e)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function VHe(n,e){if(e.tagID===h.P||e.tagID===h.BR)return Fk(n),void n._endTagOutsideForeignContent(e);for(let t=n.openElements.stackTop;t>0;t--){const i=n.openElements.items[t];if(n.treeAdapter.getNamespaceURI(i)===x.HTML){n._endTagOutsideForeignContent(e);break}const s=n.treeAdapter.getTagName(i);if(s.toLowerCase()===e.tagName){e.tagName=s,n.openElements.shortenToLength(t);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case S.INITIAL:u4(this,e);break;case S.BEFORE_HTML:!function gNe(n,e){const t=e.tagID;(t===h.HTML||t===h.HEAD||t===h.BODY||t===h.BR)&&d4(n,e)}(this,e);break;case S.BEFORE_HEAD:!function CNe(n,e){const t=e.tagID;t===h.HEAD||t===h.BODY||t===h.HTML||t===h.BR?h4(n,e):n._err(e,L.endTagWithoutMatchingOpenElement)}(this,e);break;case S.IN_HEAD:!function vNe(n,e){switch(e.tagID){case h.HEAD:n.openElements.pop(),n.insertionMode=S.AFTER_HEAD;break;case h.BODY:case h.BR:case h.HTML:f4(n,e);break;case h.TEMPLATE:Za(n,e);break;default:n._err(e,L.endTagWithoutMatchingOpenElement)}}(this,e);break;case S.IN_HEAD_NO_SCRIPT:!function yNe(n,e){switch(e.tagID){case h.NOSCRIPT:n.openElements.pop(),n.insertionMode=S.IN_HEAD;break;case h.BR:p4(n,e);break;default:n._err(e,L.endTagWithoutMatchingOpenElement)}}(this,e);break;case S.AFTER_HEAD:!function wNe(n,e){switch(e.tagID){case h.BODY:case h.HTML:case h.BR:g4(n,e);break;case h.TEMPLATE:Za(n,e);break;default:n._err(e,L.endTagWithoutMatchingOpenElement)}}(this,e);break;case S.IN_BODY:fh(this,e);break;case S.TEXT:!function aHe(n,e){var t;e.tagID===h.SCRIPT&&(null===(t=n.scriptHandler)||void 0===t||t.call(n,n.openElements.current)),n.openElements.pop(),n.insertionMode=n.originalInsertionMode}(this,e);break;case S.IN_TABLE:m4(this,e);break;case S.IN_TABLE_TEXT:v4(this,e);break;case S.IN_CAPTION:!function vHe(n,e){const t=e.tagID;switch(t){case h.CAPTION:case h.TABLE:n.openElements.hasInTableScope(h.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(h.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=S.IN_TABLE,t===h.TABLE&&m4(n,e));break;case h.BODY:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:fh(n,e)}}(this,e);break;case S.IN_COLUMN_GROUP:!function EHe(n,e){switch(e.tagID){case h.COLGROUP:n.openElements.currentTagId===h.COLGROUP&&(n.openElements.pop(),n.insertionMode=S.IN_TABLE);break;case h.TEMPLATE:Za(n,e);break;case h.COL:break;default:ph(n,e)}}(this,e);break;case S.IN_TABLE_BODY:PC(this,e);break;case S.IN_ROW:xk(this,e);break;case S.IN_CELL:!function bHe(n,e){const t=e.tagID;switch(t){case h.TD:case h.TH:n.openElements.hasInTableScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=S.IN_ROW);break;case h.TABLE:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:n.openElements.hasInTableScope(t)&&(n._closeTableCell(),xk(n,e));break;case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:break;default:fh(n,e)}}(this,e);break;case S.IN_SELECT:Ok(this,e);break;case S.IN_SELECT_IN_TABLE:!function SHe(n,e){const t=e.tagID;t===h.CAPTION||t===h.TABLE||t===h.TBODY||t===h.TFOOT||t===h.THEAD||t===h.TR||t===h.TD||t===h.TH?n.openElements.hasInTableScope(t)&&(n.openElements.popUntilTagNamePopped(h.SELECT),n._resetInsertionMode(),n.onEndTag(e)):Ok(n,e)}(this,e);break;case S.IN_TEMPLATE:!function THe(n,e){e.tagID===h.TEMPLATE&&Za(n,e)}(this,e);break;case S.AFTER_BODY:Pk(this,e);break;case S.IN_FRAMESET:!function AHe(n,e){e.tagID===h.FRAMESET&&!n.openElements.isRootHtmlElementCurrent()&&(n.openElements.pop(),!n.fragmentContext&&n.openElements.currentTagId!==h.FRAMESET&&(n.insertionMode=S.AFTER_FRAMESET))}(this,e);break;case S.AFTER_FRAMESET:!function LHe(n,e){e.tagID===h.HTML&&(n.insertionMode=S.AFTER_AFTER_FRAMESET)}(this,e);break;case S.AFTER_AFTER_BODY:vh(this,e)}}onEof(e){switch(this.insertionMode){case S.INITIAL:u4(this,e);break;case S.BEFORE_HTML:d4(this,e);break;case S.BEFORE_HEAD:h4(this,e);break;case S.IN_HEAD:f4(this,e);break;case S.IN_HEAD_NO_SCRIPT:p4(this,e);break;case S.AFTER_HEAD:g4(this,e);break;case S.IN_BODY:case S.IN_TABLE:case S.IN_CAPTION:case S.IN_COLUMN_GROUP:case S.IN_TABLE_BODY:case S.IN_ROW:case S.IN_CELL:case S.IN_SELECT:case S.IN_SELECT_IN_TABLE:Rk(this,e);break;case S.TEXT:!function cHe(n,e){n._err(e,L.eofInElementThatCanContainOnlyText),n.openElements.pop(),n.insertionMode=n.originalInsertionMode,n.onEof(e)}(this,e);break;case S.IN_TABLE_TEXT:v4(this,e);break;case S.IN_TEMPLATE:Vk(this,e);break;case S.AFTER_BODY:case S.IN_FRAMESET:case S.AFTER_FRAMESET:case S.AFTER_AFTER_BODY:case S.AFTER_AFTER_FRAMESET:IC(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===E.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case S.IN_HEAD:case S.IN_HEAD_NO_SCRIPT:case S.AFTER_HEAD:case S.TEXT:case S.IN_COLUMN_GROUP:case S.IN_SELECT:case S.IN_SELECT_IN_TABLE:case S.IN_FRAMESET:case S.AFTER_FRAMESET:this._insertCharacters(e);break;case S.IN_BODY:case S.IN_CAPTION:case S.IN_CELL:case S.IN_TEMPLATE:case S.AFTER_BODY:case S.AFTER_AFTER_BODY:case S.AFTER_AFTER_FRAMESET:wk(this,e);break;case S.IN_TABLE:case S.IN_TABLE_BODY:case S.IN_ROW:OC(this,e);break;case S.IN_TABLE_TEXT:Lk(this,e)}}}function rNe(n,e){let t=n.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return t?n.openElements.contains(t.element)?n.openElements.hasInScope(e.tagID)||(t=null):(n.activeFormattingElements.removeEntry(t),t=null):Ak(n,e),t}function oNe(n,e){let t=null,i=n.openElements.stackTop;for(;i>=0;i--){const s=n.openElements.items[i];if(s===e.element)break;n._isSpecialElement(s,n.openElements.tagIDs[i])&&(t=s)}return t||(n.openElements.shortenToLength(i<0?0:i),n.activeFormattingElements.removeEntry(e)),t}function aNe(n,e,t){let i=e,s=n.openElements.getCommonAncestor(e);for(let r=0,o=s;o!==t;r++,o=s){s=n.openElements.getCommonAncestor(o);const a=n.activeFormattingElements.getElementEntry(o),c=a&&r>=iNe;!a||c?(c&&n.activeFormattingElements.removeEntry(a),n.openElements.remove(o)):(o=cNe(n,a),i===e&&(n.activeFormattingElements.bookmark=a),n.treeAdapter.detachNode(i),n.treeAdapter.appendChild(o,i),i=o)}return i}function cNe(n,e){const t=n.treeAdapter.getNamespaceURI(e.element),i=n.treeAdapter.createElement(e.token.tagName,t,e.token.attrs);return n.openElements.replace(e.element,i),e.element=i,i}function lNe(n,e,t){const s=lh(n.treeAdapter.getTagName(e));if(n._isElementCausesFosterParenting(s))n._fosterParentElement(t);else{const r=n.treeAdapter.getNamespaceURI(e);s===h.TEMPLATE&&r===x.HTML&&(e=n.treeAdapter.getTemplateContent(e)),n.treeAdapter.appendChild(e,t)}}function uNe(n,e,t){const i=n.treeAdapter.getNamespaceURI(t.element),{token:s}=t,r=n.treeAdapter.createElement(s.tagName,i,s.attrs);n._adoptNodes(e,r),n.treeAdapter.appendChild(e,r),n.activeFormattingElements.insertElementAfterBookmark(r,s),n.activeFormattingElements.removeEntry(t),n.openElements.remove(t.element),n.openElements.insertAfter(e,r,s.tagID)}function HC(n,e){for(let t=0;t<nNe;t++){const i=rNe(n,e);if(!i)break;const s=oNe(n,i);if(!s)break;n.activeFormattingElements.bookmark=i;const r=aNe(n,s,i.element),o=n.openElements.getCommonAncestor(i.element);n.treeAdapter.detachNode(r),o&&lNe(n,o,r),uNe(n,s,i)}}function xC(n,e){n._appendCommentNode(e,n.openElements.currentTmplContentOrNode)}function IC(n,e){if(n.stopped=!0,e.location){const t=n.fragmentContext?0:2;for(let i=n.openElements.stackTop;i>=t;i--)n._setEndLocation(n.openElements.items[i],e);if(!n.fragmentContext&&n.openElements.stackTop>=0){const i=n.openElements.items[0],s=n.treeAdapter.getNodeSourceCodeLocation(i);if(s&&!s.endTag&&(n._setEndLocation(i,e),n.openElements.stackTop>=1)){const r=n.openElements.items[1],o=n.treeAdapter.getNodeSourceCodeLocation(r);o&&!o.endTag&&n._setEndLocation(r,e)}}}}function u4(n,e){n._err(e,L.missingDoctype,!0),n.treeAdapter.setDocumentMode(n.document,qn.QUIRKS),n.insertionMode=S.BEFORE_HTML,n._processToken(e)}function d4(n,e){n._insertFakeRootElement(),n.insertionMode=S.BEFORE_HEAD,n._processToken(e)}function h4(n,e){n._insertFakeElement(_.HEAD,h.HEAD),n.headElement=n.openElements.current,n.insertionMode=S.IN_HEAD,n._processToken(e)}function ys(n,e){switch(e.tagID){case h.HTML:vn(n,e);break;case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:n._appendElement(e,x.HTML),e.ackSelfClosing=!0;break;case h.TITLE:n._switchToTextParsing(e,Kn.RCDATA);break;case h.NOSCRIPT:n.options.scriptingEnabled?n._switchToTextParsing(e,Kn.RAWTEXT):(n._insertElement(e,x.HTML),n.insertionMode=S.IN_HEAD_NO_SCRIPT);break;case h.NOFRAMES:case h.STYLE:n._switchToTextParsing(e,Kn.RAWTEXT);break;case h.SCRIPT:n._switchToTextParsing(e,Kn.SCRIPT_DATA);break;case h.TEMPLATE:n._insertTemplate(e),n.activeFormattingElements.insertMarker(),n.framesetOk=!1,n.insertionMode=S.IN_TEMPLATE,n.tmplInsertionModeStack.unshift(S.IN_TEMPLATE);break;case h.HEAD:n._err(e,L.misplacedStartTagForHeadElement);break;default:f4(n,e)}}function Za(n,e){n.openElements.tmplCount>0?(n.openElements.generateImpliedEndTagsThoroughly(),n.openElements.currentTagId!==h.TEMPLATE&&n._err(e,L.closingOfElementWithOpenChildElements),n.openElements.popUntilTagNamePopped(h.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n.tmplInsertionModeStack.shift(),n._resetInsertionMode()):n._err(e,L.endTagWithoutMatchingOpenElement)}function f4(n,e){n.openElements.pop(),n.insertionMode=S.AFTER_HEAD,n._processToken(e)}function p4(n,e){n._err(e,e.type===Ve.EOF?L.openElementsLeftAfterEof:L.disallowedContentInNoscriptInHead),n.openElements.pop(),n.insertionMode=S.IN_HEAD,n._processToken(e)}function g4(n,e){n._insertFakeElement(_.BODY,h.BODY),n.insertionMode=S.IN_BODY,hh(n,e)}function hh(n,e){switch(e.type){case Ve.CHARACTER:Sk(n,e);break;case Ve.WHITESPACE_CHARACTER:wk(n,e);break;case Ve.COMMENT:xC(n,e);break;case Ve.START_TAG:vn(n,e);break;case Ve.END_TAG:fh(n,e);break;case Ve.EOF:Rk(n,e)}}function wk(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e)}function Sk(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e),n.framesetOk=!1}function Mk(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,x.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function Tk(n){const e=nk(n,Po.TYPE);return null!=e&&e.toLowerCase()===tNe}function _k(n,e){n._switchToTextParsing(e,Kn.RAWTEXT)}function Dk(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.HTML)}function vn(n,e){switch(e.tagID){case h.I:case h.S:case h.B:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.SMALL:case h.STRIKE:case h.STRONG:!function INe(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}(n,e);break;case h.A:!function xNe(n,e){const t=n.activeFormattingElements.getElementEntryInScopeWithTagName(_.A);t&&(HC(n,e),n.openElements.remove(t.element),n.activeFormattingElements.removeEntry(t)),n._reconstructActiveFormattingElements(),n._insertElement(e,x.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}(n,e);break;case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:!function DNe(n,e){n.openElements.hasInButtonScope(h.P)&&n._closePElement(),ik(n.openElements.currentTagId)&&n.openElements.pop(),n._insertElement(e,x.HTML)}(n,e);break;case h.P:case h.DL:case h.OL:case h.UL:case h.DIV:case h.DIR:case h.NAV:case h.MAIN:case h.MENU:case h.ASIDE:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.DETAILS:case h.ADDRESS:case h.ARTICLE:case h.SECTION:case h.SUMMARY:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:!function _Ne(n,e){n.openElements.hasInButtonScope(h.P)&&n._closePElement(),n._insertElement(e,x.HTML)}(n,e);break;case h.LI:case h.DD:case h.DT:!function LNe(n,e){n.framesetOk=!1;const t=e.tagID;for(let i=n.openElements.stackTop;i>=0;i--){const s=n.openElements.tagIDs[i];if(t===h.LI&&s===h.LI||(t===h.DD||t===h.DT)&&(s===h.DD||s===h.DT)){n.openElements.generateImpliedEndTagsWithExclusion(s),n.openElements.popUntilTagNamePopped(s);break}if(s!==h.ADDRESS&&s!==h.DIV&&s!==h.P&&n._isSpecialElement(n.openElements.items[i],s))break}n.openElements.hasInButtonScope(h.P)&&n._closePElement(),n._insertElement(e,x.HTML)}(n,e);break;case h.BR:case h.IMG:case h.WBR:case h.AREA:case h.EMBED:case h.KEYGEN:Mk(n,e);break;case h.HR:!function kNe(n,e){n.openElements.hasInButtonScope(h.P)&&n._closePElement(),n._appendElement(e,x.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}(n,e);break;case h.RB:case h.RTC:!function qNe(n,e){n.openElements.hasInScope(h.RUBY)&&n.openElements.generateImpliedEndTags(),n._insertElement(e,x.HTML)}(n,e);break;case h.RT:case h.RP:!function KNe(n,e){n.openElements.hasInScope(h.RUBY)&&n.openElements.generateImpliedEndTagsWithExclusion(h.RTC),n._insertElement(e,x.HTML)}(n,e);break;case h.PRE:case h.LISTING:!function ANe(n,e){n.openElements.hasInButtonScope(h.P)&&n._closePElement(),n._insertElement(e,x.HTML),n.skipNextNewLine=!0,n.framesetOk=!1}(n,e);break;case h.XMP:!function UNe(n,e){n.openElements.hasInButtonScope(h.P)&&n._closePElement(),n._reconstructActiveFormattingElements(),n.framesetOk=!1,n._switchToTextParsing(e,Kn.RAWTEXT)}(n,e);break;case h.SVG:!function QNe(n,e){n._reconstructActiveFormattingElements(),vk(e),NC(e),e.selfClosing?n._appendElement(e,x.SVG):n._insertElement(e,x.SVG),e.ackSelfClosing=!0}(n,e);break;case h.HTML:!function SNe(n,e){0===n.openElements.tmplCount&&n.treeAdapter.adoptAttributes(n.openElements.items[0],e.attrs)}(n,e);break;case h.BASE:case h.LINK:case h.META:case h.STYLE:case h.TITLE:case h.SCRIPT:case h.BGSOUND:case h.BASEFONT:case h.TEMPLATE:ys(n,e);break;case h.BODY:!function MNe(n,e){const t=n.openElements.tryPeekProperlyNestedBodyElement();t&&0===n.openElements.tmplCount&&(n.framesetOk=!1,n.treeAdapter.adoptAttributes(t,e.attrs))}(n,e);break;case h.FORM:!function RNe(n,e){const t=n.openElements.tmplCount>0;(!n.formElement||t)&&(n.openElements.hasInButtonScope(h.P)&&n._closePElement(),n._insertElement(e,x.HTML),t||(n.formElement=n.openElements.current))}(n,e);break;case h.NOBR:!function ONe(n,e){n._reconstructActiveFormattingElements(),n.openElements.hasInScope(h.NOBR)&&(HC(n,e),n._reconstructActiveFormattingElements()),n._insertElement(e,x.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}(n,e);break;case h.MATH:!function YNe(n,e){n._reconstructActiveFormattingElements(),Ck(e),NC(e),e.selfClosing?n._appendElement(e,x.MATHML):n._insertElement(e,x.MATHML),e.ackSelfClosing=!0}(n,e);break;case h.TABLE:!function PNe(n,e){n.treeAdapter.getDocumentMode(n.document)!==qn.QUIRKS&&n.openElements.hasInButtonScope(h.P)&&n._closePElement(),n._insertElement(e,x.HTML),n.framesetOk=!1,n.insertionMode=S.IN_TABLE}(n,e);break;case h.INPUT:!function FNe(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,x.HTML),Tk(e)||(n.framesetOk=!1),e.ackSelfClosing=!0}(n,e);break;case h.PARAM:case h.TRACK:case h.SOURCE:!function zNe(n,e){n._appendElement(e,x.HTML),e.ackSelfClosing=!0}(n,e);break;case h.IMAGE:!function GNe(n,e){e.tagName=_.IMG,e.tagID=h.IMG,Mk(n,e)}(n,e);break;case h.BUTTON:!function HNe(n,e){n.openElements.hasInScope(h.BUTTON)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(h.BUTTON)),n._reconstructActiveFormattingElements(),n._insertElement(e,x.HTML),n.framesetOk=!1}(n,e);break;case h.APPLET:case h.OBJECT:case h.MARQUEE:!function VNe(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.HTML),n.activeFormattingElements.insertMarker(),n.framesetOk=!1}(n,e);break;case h.IFRAME:!function WNe(n,e){n.framesetOk=!1,n._switchToTextParsing(e,Kn.RAWTEXT)}(n,e);break;case h.SELECT:!function jNe(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,x.HTML),n.framesetOk=!1,n.insertionMode=n.insertionMode===S.IN_TABLE||n.insertionMode===S.IN_CAPTION||n.insertionMode===S.IN_TABLE_BODY||n.insertionMode===S.IN_ROW||n.insertionMode===S.IN_CELL?S.IN_SELECT_IN_TABLE:S.IN_SELECT}(n,e);break;case h.OPTION:case h.OPTGROUP:!function $Ne(n,e){n.openElements.currentTagId===h.OPTION&&n.openElements.pop(),n._reconstructActiveFormattingElements(),n._insertElement(e,x.HTML)}(n,e);break;case h.NOEMBED:_k(n,e);break;case h.FRAMESET:!function TNe(n,e){const t=n.openElements.tryPeekProperlyNestedBodyElement();n.framesetOk&&t&&(n.treeAdapter.detachNode(t),n.openElements.popAllUpToHtmlElement(),n._insertElement(e,x.HTML),n.insertionMode=S.IN_FRAMESET)}(n,e);break;case h.TEXTAREA:!function BNe(n,e){n._insertElement(e,x.HTML),n.skipNextNewLine=!0,n.tokenizer.state=Kn.RCDATA,n.originalInsertionMode=n.insertionMode,n.framesetOk=!1,n.insertionMode=S.TEXT}(n,e);break;case h.NOSCRIPT:n.options.scriptingEnabled?_k(n,e):Dk(n,e);break;case h.PLAINTEXT:!function NNe(n,e){n.openElements.hasInButtonScope(h.P)&&n._closePElement(),n._insertElement(e,x.HTML),n.tokenizer.state=Kn.PLAINTEXT}(n,e);break;case h.COL:case h.TH:case h.TD:case h.TR:case h.HEAD:case h.FRAME:case h.TBODY:case h.TFOOT:case h.THEAD:case h.CAPTION:case h.COLGROUP:break;default:Dk(n,e)}}function Ak(n,e){const t=e.tagName,i=e.tagID;for(let s=n.openElements.stackTop;s>0;s--){const r=n.openElements.items[s],o=n.openElements.tagIDs[s];if(i===o&&(i!==h.UNKNOWN||n.treeAdapter.getTagName(r)===t)){n.openElements.generateImpliedEndTagsWithExclusion(i),n.openElements.stackTop>=s&&n.openElements.shortenToLength(s);break}if(n._isSpecialElement(r,o))break}}function fh(n,e){switch(e.tagID){case h.A:case h.B:case h.I:case h.S:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.NOBR:case h.SMALL:case h.STRIKE:case h.STRONG:HC(n,e);break;case h.P:!function tHe(n){n.openElements.hasInButtonScope(h.P)||n._insertFakeElement(_.P,h.P),n._closePElement()}(n);break;case h.DL:case h.UL:case h.OL:case h.DIR:case h.DIV:case h.NAV:case h.PRE:case h.MAIN:case h.MENU:case h.ASIDE:case h.BUTTON:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.ADDRESS:case h.ARTICLE:case h.DETAILS:case h.SECTION:case h.SUMMARY:case h.LISTING:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:!function JNe(n,e){const t=e.tagID;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t))}(n,e);break;case h.LI:!function nHe(n){n.openElements.hasInListItemScope(h.LI)&&(n.openElements.generateImpliedEndTagsWithExclusion(h.LI),n.openElements.popUntilTagNamePopped(h.LI))}(n);break;case h.DD:case h.DT:!function iHe(n,e){const t=e.tagID;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTagsWithExclusion(t),n.openElements.popUntilTagNamePopped(t))}(n,e);break;case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:!function sHe(n){n.openElements.hasNumberedHeaderInScope()&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilNumberedHeaderPopped())}(n);break;case h.BR:!function oHe(n){n._reconstructActiveFormattingElements(),n._insertFakeElement(_.BR,h.BR),n.openElements.pop(),n.framesetOk=!1}(n);break;case h.BODY:!function XNe(n,e){if(n.openElements.hasInScope(h.BODY)&&(n.insertionMode=S.AFTER_BODY,n.options.sourceCodeLocationInfo)){const t=n.openElements.tryPeekProperlyNestedBodyElement();t&&n._setEndLocation(t,e)}}(n,e);break;case h.HTML:!function ZNe(n,e){n.openElements.hasInScope(h.BODY)&&(n.insertionMode=S.AFTER_BODY,Pk(n,e))}(n,e);break;case h.FORM:!function eHe(n){const e=n.openElements.tmplCount>0,{formElement:t}=n;e||(n.formElement=null),(t||e)&&n.openElements.hasInScope(h.FORM)&&(n.openElements.generateImpliedEndTags(),e?n.openElements.popUntilTagNamePopped(h.FORM):t&&n.openElements.remove(t))}(n);break;case h.APPLET:case h.OBJECT:case h.MARQUEE:!function rHe(n,e){const t=e.tagID;n.openElements.hasInScope(t)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(t),n.activeFormattingElements.clearToLastMarker())}(n,e);break;case h.TEMPLATE:Za(n,e);break;default:Ak(n,e)}}function Rk(n,e){n.tmplInsertionModeStack.length>0?Vk(n,e):IC(n,e)}function OC(n,e){if(Ek.has(n.openElements.currentTagId))switch(n.pendingCharacterTokens.length=0,n.hasNonWhitespacePendingCharacterToken=!1,n.originalInsertionMode=n.insertionMode,n.insertionMode=S.IN_TABLE_TEXT,e.type){case Ve.CHARACTER:Nk(n,e);break;case Ve.WHITESPACE_CHARACTER:Lk(n,e)}else C4(n,e)}function ec(n,e){switch(e.tagID){case h.TD:case h.TH:case h.TR:!function fHe(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(_.TBODY,h.TBODY),n.insertionMode=S.IN_TABLE_BODY,gh(n,e)}(n,e);break;case h.STYLE:case h.SCRIPT:case h.TEMPLATE:ys(n,e);break;case h.COL:!function dHe(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(_.COLGROUP,h.COLGROUP),n.insertionMode=S.IN_COLUMN_GROUP,VC(n,e)}(n,e);break;case h.FORM:!function mHe(n,e){!n.formElement&&0===n.openElements.tmplCount&&(n._insertElement(e,x.HTML),n.formElement=n.openElements.current,n.openElements.pop())}(n,e);break;case h.TABLE:!function pHe(n,e){n.openElements.hasInTableScope(h.TABLE)&&(n.openElements.popUntilTagNamePopped(h.TABLE),n._resetInsertionMode(),n._processStartTag(e))}(n,e);break;case h.TBODY:case h.TFOOT:case h.THEAD:!function hHe(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,x.HTML),n.insertionMode=S.IN_TABLE_BODY}(n,e);break;case h.INPUT:!function gHe(n,e){Tk(e)?n._appendElement(e,x.HTML):C4(n,e),e.ackSelfClosing=!0}(n,e);break;case h.CAPTION:!function lHe(n,e){n.openElements.clearBackToTableContext(),n.activeFormattingElements.insertMarker(),n._insertElement(e,x.HTML),n.insertionMode=S.IN_CAPTION}(n,e);break;case h.COLGROUP:!function uHe(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,x.HTML),n.insertionMode=S.IN_COLUMN_GROUP}(n,e);break;default:C4(n,e)}}function m4(n,e){switch(e.tagID){case h.TABLE:n.openElements.hasInTableScope(h.TABLE)&&(n.openElements.popUntilTagNamePopped(h.TABLE),n._resetInsertionMode());break;case h.TEMPLATE:Za(n,e);break;case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:C4(n,e)}}function C4(n,e){const t=n.fosterParentingEnabled;n.fosterParentingEnabled=!0,hh(n,e),n.fosterParentingEnabled=t}function Lk(n,e){n.pendingCharacterTokens.push(e)}function Nk(n,e){n.pendingCharacterTokens.push(e),n.hasNonWhitespacePendingCharacterToken=!0}function v4(n,e){let t=0;if(n.hasNonWhitespacePendingCharacterToken)for(;t<n.pendingCharacterTokens.length;t++)C4(n,n.pendingCharacterTokens[t]);else for(;t<n.pendingCharacterTokens.length;t++)n._insertCharacters(n.pendingCharacterTokens[t]);n.insertionMode=n.originalInsertionMode,n._processToken(e)}const Hk=new Set([h.CAPTION,h.COL,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]);function VC(n,e){switch(e.tagID){case h.HTML:vn(n,e);break;case h.COL:n._appendElement(e,x.HTML),e.ackSelfClosing=!0;break;case h.TEMPLATE:ys(n,e);break;default:ph(n,e)}}function ph(n,e){n.openElements.currentTagId===h.COLGROUP&&(n.openElements.pop(),n.insertionMode=S.IN_TABLE,n._processToken(e))}function gh(n,e){switch(e.tagID){case h.TR:n.openElements.clearBackToTableBodyContext(),n._insertElement(e,x.HTML),n.insertionMode=S.IN_ROW;break;case h.TH:case h.TD:n.openElements.clearBackToTableBodyContext(),n._insertFakeElement(_.TR,h.TR),n.insertionMode=S.IN_ROW,mh(n,e);break;case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=S.IN_TABLE,ec(n,e));break;default:ec(n,e)}}function PC(n,e){const t=e.tagID;switch(e.tagID){case h.TBODY:case h.TFOOT:case h.THEAD:n.openElements.hasInTableScope(t)&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=S.IN_TABLE);break;case h.TABLE:n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=S.IN_TABLE,m4(n,e));break;case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:case h.TR:break;default:m4(n,e)}}function mh(n,e){switch(e.tagID){case h.TH:case h.TD:n.openElements.clearBackToTableRowContext(),n._insertElement(e,x.HTML),n.insertionMode=S.IN_CELL,n.activeFormattingElements.insertMarker();break;case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:n.openElements.hasInTableScope(h.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=S.IN_TABLE_BODY,gh(n,e));break;default:ec(n,e)}}function xk(n,e){switch(e.tagID){case h.TR:n.openElements.hasInTableScope(h.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=S.IN_TABLE_BODY);break;case h.TABLE:n.openElements.hasInTableScope(h.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=S.IN_TABLE_BODY,PC(n,e));break;case h.TBODY:case h.TFOOT:case h.THEAD:(n.openElements.hasInTableScope(e.tagID)||n.openElements.hasInTableScope(h.TR))&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=S.IN_TABLE_BODY,PC(n,e));break;case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:break;default:m4(n,e)}}function Ik(n,e){switch(e.tagID){case h.HTML:vn(n,e);break;case h.OPTION:n.openElements.currentTagId===h.OPTION&&n.openElements.pop(),n._insertElement(e,x.HTML);break;case h.OPTGROUP:n.openElements.currentTagId===h.OPTION&&n.openElements.pop(),n.openElements.currentTagId===h.OPTGROUP&&n.openElements.pop(),n._insertElement(e,x.HTML);break;case h.INPUT:case h.KEYGEN:case h.TEXTAREA:case h.SELECT:n.openElements.hasInSelectScope(h.SELECT)&&(n.openElements.popUntilTagNamePopped(h.SELECT),n._resetInsertionMode(),e.tagID!==h.SELECT&&n._processStartTag(e));break;case h.SCRIPT:case h.TEMPLATE:ys(n,e)}}function Ok(n,e){switch(e.tagID){case h.OPTGROUP:n.openElements.stackTop>0&&n.openElements.currentTagId===h.OPTION&&n.openElements.tagIDs[n.openElements.stackTop-1]===h.OPTGROUP&&n.openElements.pop(),n.openElements.currentTagId===h.OPTGROUP&&n.openElements.pop();break;case h.OPTION:n.openElements.currentTagId===h.OPTION&&n.openElements.pop();break;case h.SELECT:n.openElements.hasInSelectScope(h.SELECT)&&(n.openElements.popUntilTagNamePopped(h.SELECT),n._resetInsertionMode());break;case h.TEMPLATE:Za(n,e)}}function Vk(n,e){n.openElements.tmplCount>0?(n.openElements.popUntilTagNamePopped(h.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n.tmplInsertionModeStack.shift(),n._resetInsertionMode(),n.onEof(e)):IC(n,e)}function Pk(n,e){var t;if(e.tagID===h.HTML){if(n.fragmentContext||(n.insertionMode=S.AFTER_AFTER_BODY),n.options.sourceCodeLocationInfo&&n.openElements.tagIDs[0]===h.HTML){n._setEndLocation(n.openElements.items[0],e);const i=n.openElements.items[1];i&&(null===(t=n.treeAdapter.getNodeSourceCodeLocation(i))||void 0===t||!t.endTag)&&n._setEndLocation(i,e)}}else Ch(n,e)}function Ch(n,e){n.insertionMode=S.IN_BODY,hh(n,e)}function vh(n,e){n.insertionMode=S.IN_BODY,hh(n,e)}function Fk(n){for(;n.treeAdapter.getNamespaceURI(n.openElements.current)!==x.HTML&&!n._isIntegrationPoint(n.openElements.currentTagId,n.openElements.current);)n.openElements.pop()}const PHe=new Set([_.AREA,_.BASE,_.BASEFONT,_.BGSOUND,_.BR,_.COL,_.EMBED,_.FRAME,_.HR,_.IMG,_.INPUT,_.KEYGEN,_.LINK,_.META,_.PARAM,_.SOURCE,_.TRACK,_.WBR]);const kk={treeAdapter:Xa,scriptingEnabled:!0};function FHe(n,e){return Bk(n,{...kk,...e})}function Bk(n,e){return e.treeAdapter.isElementNode(n)?function zHe(n,e){const t=e.treeAdapter.getTagName(n);return`<${t}${function kHe(n,{treeAdapter:e}){let t="";for(const i of e.getAttrList(n)){if(t+=" ",i.namespace)switch(i.namespace){case x.XML:t+=`xml:${i.name}`;break;case x.XMLNS:"xmlns"!==i.name&&(t+="xmlns:"),t+=i.name;break;case x.XLINK:t+=`xlink:${i.name}`;break;default:t+=`${i.prefix}:${i.name}`}else t+=i.name;t+=`="${nz(i.value)}"`}return t}(n,e)}>${function zk(n,e){return e.treeAdapter.isElementNode(n)&&e.treeAdapter.getNamespaceURI(n)===x.HTML&&PHe.has(e.treeAdapter.getTagName(n))}(n,e)?"":`${function Gk(n,e){let t="";const i=e.treeAdapter.isElementNode(n)&&e.treeAdapter.getTagName(n)===_.TEMPLATE&&e.treeAdapter.getNamespaceURI(n)===x.HTML?e.treeAdapter.getTemplateContent(n):n,s=e.treeAdapter.getChildNodes(i);if(s)for(const r of s)t+=Bk(r,e);return t}(n,e)}</${t}>`}`}(n,e):e.treeAdapter.isTextNode(n)?function GHe(n,e){const{treeAdapter:t}=e,i=t.getTextNodeContent(n),s=t.getParentNode(n),r=s&&t.isElementNode(s)&&t.getTagName(s);return r&&t.getNamespaceURI(s)===x.HTML&&function MLe(n,e){return SLe.has(n)||e&&n===_.NOSCRIPT}(r,e.scriptingEnabled)?i:iz(i)}(n,e):e.treeAdapter.isCommentNode(n)?function BHe(n,{treeAdapter:e}){return`\x3c!--${e.getCommentNodeContent(n)}--\x3e`}(n,e):e.treeAdapter.isDocumentTypeNode(n)?function UHe(n,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(n)}>`}(n,e):""}function Uk(n){return new Z3(n)}function Wk(n){const e=n.includes('"')?"'":'"';return e+n+e}const tc={isCommentNode:q6,isElementNode:Ce,isTextNode:er,createDocument(){const n=new $a([]);return n["x-mode"]=qn.NO_QUIRKS,n},createDocumentFragment:()=>new $a([]),createElement(n,e,t){const i=Object.create(null),s=Object.create(null),r=Object.create(null);for(let a=0;a<t.length;a++){const c=t[a].name;i[c]=t[a].value,s[c]=t[a].namespace,r[c]=t[a].prefix}const o=new U9(n,i,[]);return o.namespace=e,o["x-attribsNamespace"]=s,o["x-attribsPrefix"]=r,o},createCommentNode:n=>new k9(n),appendChild(n,e){const t=n.children[n.children.length-1];t&&(t.next=e,e.prev=t),n.children.push(e),e.parent=n},insertBefore(n,e,t){const i=n.children.indexOf(t),{prev:s}=t;s&&(s.next=e,e.prev=s),t.prev=e,e.next=t,n.children.splice(i,0,e),e.parent=n},setTemplateContent(n,e){tc.appendChild(n,e)},getTemplateContent:n=>n.children[0],setDocumentType(n,e,t,i){const s=function $He(n,e,t){let i="!DOCTYPE ";return n&&(i+=n),e?i+=` PUBLIC ${Wk(e)}`:t&&(i+=" SYSTEM"),t&&(i+=` ${Wk(t)}`),i}(e,t,i);let r=n.children.find(o=>W9(o)&&"!doctype"===o.name);r?r.data=s??null:(r=new G9("!doctype",s),tc.appendChild(n,r)),r["x-name"]=e??void 0,r["x-publicId"]=t??void 0,r["x-systemId"]=i??void 0},setDocumentMode(n,e){n["x-mode"]=e},getDocumentMode:n=>n["x-mode"],detachNode(n){if(n.parent){const e=n.parent.children.indexOf(n),{prev:t,next:i}=n;n.prev=null,n.next=null,t&&(t.next=i),i&&(i.prev=t),n.parent.children.splice(e,1),n.parent=null}},insertText(n,e){const t=n.children[n.children.length-1];t&&er(t)?t.data+=e:tc.appendChild(n,Uk(e))},insertTextBefore(n,e,t){const i=n.children[n.children.indexOf(t)-1];i&&er(i)?i.data+=e:tc.insertBefore(n,Uk(e),t)},adoptAttributes(n,e){for(let t=0;t<e.length;t++){const i=e[t].name;typeof n.attribs[i]>"u"&&(n.attribs[i]=e[t].value,n["x-attribsNamespace"][i]=e[t].namespace,n["x-attribsPrefix"][i]=e[t].prefix)}},getFirstChild:n=>n.children[0],getChildNodes:n=>n.children,getParentNode:n=>n.parent,getAttrList:n=>n.attributes,getTagName:n=>n.name,getNamespaceURI:n=>n.namespace,getTextNodeContent:n=>n.data,getCommentNodeContent:n=>n.data,getDocumentTypeNodeName(n){var e;return null!==(e=n["x-name"])&&void 0!==e?e:""},getDocumentTypeNodePublicId(n){var e;return null!==(e=n["x-publicId"])&&void 0!==e?e:""},getDocumentTypeNodeSystemId(n){var e;return null!==(e=n["x-systemId"])&&void 0!==e?e:""},isDocumentTypeNode:n=>W9(n)&&"!doctype"===n.name,setNodeSourceCodeLocation(n,e){e&&(n.startIndex=e.startOffset,n.endIndex=e.endOffset),n.sourceCodeLocation=e},getNodeSourceCodeLocation:n=>n.sourceCodeLocation,updateNodeSourceCodeLocation(n,e){null!=e.endOffset&&(n.endIndex=e.endOffset),n.sourceCodeLocation={...n.sourceCodeLocation,...e}}};const KHe={treeAdapter:tc};var J=function(n){return n[n.Tab=9]="Tab",n[n.NewLine=10]="NewLine",n[n.FormFeed=12]="FormFeed",n[n.CarriageReturn=13]="CarriageReturn",n[n.Space=32]="Space",n[n.ExclamationMark=33]="ExclamationMark",n[n.Number=35]="Number",n[n.Amp=38]="Amp",n[n.SingleQuote=39]="SingleQuote",n[n.DoubleQuote=34]="DoubleQuote",n[n.Dash=45]="Dash",n[n.Slash=47]="Slash",n[n.Zero=48]="Zero",n[n.Nine=57]="Nine",n[n.Semi=59]="Semi",n[n.Lt=60]="Lt",n[n.Eq=61]="Eq",n[n.Gt=62]="Gt",n[n.Questionmark=63]="Questionmark",n[n.UpperA=65]="UpperA",n[n.LowerA=97]="LowerA",n[n.UpperF=70]="UpperF",n[n.LowerF=102]="LowerF",n[n.UpperZ=90]="UpperZ",n[n.LowerZ=122]="LowerZ",n[n.LowerX=120]="LowerX",n[n.OpeningSquareBracket=91]="OpeningSquareBracket",n}(J||{}),F=function(n){return n[n.Text=1]="Text",n[n.BeforeTagName=2]="BeforeTagName",n[n.InTagName=3]="InTagName",n[n.InSelfClosingTag=4]="InSelfClosingTag",n[n.BeforeClosingTagName=5]="BeforeClosingTagName",n[n.InClosingTagName=6]="InClosingTagName",n[n.AfterClosingTagName=7]="AfterClosingTagName",n[n.BeforeAttributeName=8]="BeforeAttributeName",n[n.InAttributeName=9]="InAttributeName",n[n.AfterAttributeName=10]="AfterAttributeName",n[n.BeforeAttributeValue=11]="BeforeAttributeValue",n[n.InAttributeValueDq=12]="InAttributeValueDq",n[n.InAttributeValueSq=13]="InAttributeValueSq",n[n.InAttributeValueNq=14]="InAttributeValueNq",n[n.BeforeDeclaration=15]="BeforeDeclaration",n[n.InDeclaration=16]="InDeclaration",n[n.InProcessingInstruction=17]="InProcessingInstruction",n[n.BeforeComment=18]="BeforeComment",n[n.CDATASequence=19]="CDATASequence",n[n.InSpecialComment=20]="InSpecialComment",n[n.InCommentLike=21]="InCommentLike",n[n.BeforeSpecialS=22]="BeforeSpecialS",n[n.SpecialStartSequence=23]="SpecialStartSequence",n[n.InSpecialTag=24]="InSpecialTag",n[n.BeforeEntity=25]="BeforeEntity",n[n.BeforeNumericEntity=26]="BeforeNumericEntity",n[n.InNamedEntity=27]="InNamedEntity",n[n.InNumericEntity=28]="InNumericEntity",n[n.InHexEntity=29]="InHexEntity",n}(F||{});function Gr(n){return n===J.Space||n===J.NewLine||n===J.Tab||n===J.FormFeed||n===J.CarriageReturn}function Eh(n){return n===J.Slash||n===J.Gt||Gr(n)}function jk(n){return n>=J.Zero&&n<=J.Nine}var Br=function(n){return n[n.NoValue=0]="NoValue",n[n.Unquoted=1]="Unquoted",n[n.Single=2]="Single",n[n.Double=3]="Double",n}(Br||{});const Yn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])};class ZHe{constructor({xmlMode:e=!1,decodeEntities:t=!0},i){this.cbs=i,this.state=F.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=F.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=e,this.decodeEntities=t,this.entityTrie=e?XF:kr}reset(){this.state=F.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=F.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(e){e===J.Lt||!this.decodeEntities&&this.fastForwardTo(J.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=F.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===J.Amp&&(this.state=F.BeforeEntity)}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(t?Eh(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=F.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===J.Gt||Gr(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const i=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=i}return this.isSpecial=!1,this.sectionStart=t+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===Yn.TitleEnd?this.decodeEntities&&e===J.Amp&&(this.state=F.BeforeEntity):this.fastForwardTo(J.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===J.Lt)}stateCDATASequence(e){e===Yn.Cdata[this.sequenceIndex]?++this.sequenceIndex===Yn.Cdata.length&&(this.state=F.InCommentLike,this.currentSequence=Yn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=F.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Yn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=F.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!Eh(e):function QHe(n){return n>=J.LowerA&&n<=J.LowerZ||n>=J.UpperA&&n<=J.UpperZ}(e)}startSpecial(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=F.SpecialStartSequence}stateBeforeTagName(e){if(e===J.ExclamationMark)this.state=F.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===J.Questionmark)this.state=F.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const t=32|e;this.sectionStart=this.index,this.xmlMode||t!==Yn.TitleEnd[2]?this.state=this.xmlMode||t!==Yn.ScriptEnd[2]?F.InTagName:F.BeforeSpecialS:this.startSpecial(Yn.TitleEnd,3)}else e===J.Slash?this.state=F.BeforeClosingTagName:(this.state=F.Text,this.stateText(e))}stateInTagName(e){Eh(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=F.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){Gr(e)||(e===J.Gt?this.state=F.Text:(this.state=this.isTagStartChar(e)?F.InClosingTagName:F.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===J.Gt||Gr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=F.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===J.Gt||this.fastForwardTo(J.Gt))&&(this.state=F.Text,this.baseState=F.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===J.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=F.InSpecialTag,this.sequenceIndex=0):this.state=F.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===J.Slash?this.state=F.InSelfClosingTag:Gr(e)||(this.state=F.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===J.Gt?(this.cbs.onselfclosingtag(this.index),this.state=F.Text,this.baseState=F.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Gr(e)||(this.state=F.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===J.Eq||Eh(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=F.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===J.Eq?this.state=F.BeforeAttributeValue:e===J.Slash||e===J.Gt?(this.cbs.onattribend(Br.NoValue,this.index),this.state=F.BeforeAttributeName,this.stateBeforeAttributeName(e)):Gr(e)||(this.cbs.onattribend(Br.NoValue,this.index),this.state=F.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===J.DoubleQuote?(this.state=F.InAttributeValueDq,this.sectionStart=this.index+1):e===J.SingleQuote?(this.state=F.InAttributeValueSq,this.sectionStart=this.index+1):Gr(e)||(this.sectionStart=this.index,this.state=F.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===J.DoubleQuote?Br.Double:Br.Single,this.index),this.state=F.BeforeAttributeName):this.decodeEntities&&e===J.Amp&&(this.baseState=this.state,this.state=F.BeforeEntity)}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,J.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,J.SingleQuote)}stateInAttributeValueNoQuotes(e){Gr(e)||e===J.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Br.Unquoted,this.index),this.state=F.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===J.Amp&&(this.baseState=this.state,this.state=F.BeforeEntity)}stateBeforeDeclaration(e){e===J.OpeningSquareBracket?(this.state=F.CDATASequence,this.sequenceIndex=0):this.state=e===J.Dash?F.BeforeComment:F.InDeclaration}stateInDeclaration(e){(e===J.Gt||this.fastForwardTo(J.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=F.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===J.Gt||this.fastForwardTo(J.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=F.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===J.Dash?(this.state=F.InCommentLike,this.currentSequence=Yn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=F.InDeclaration}stateInSpecialComment(e){(e===J.Gt||this.fastForwardTo(J.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=F.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const t=32|e;t===Yn.ScriptEnd[3]?this.startSpecial(Yn.ScriptEnd,4):t===Yn.StyleEnd[3]?this.startSpecial(Yn.StyleEnd,4):(this.state=F.InTagName,this.stateInTagName(e))}stateBeforeEntity(e){this.entityExcess=1,this.entityResult=0,e===J.Number?this.state=F.BeforeNumericEntity:e===J.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=F.InNamedEntity,this.stateInNamedEntity(e))}stateInNamedEntity(e){if(this.entityExcess+=1,this.trieIndex=Y9(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];const t=this.trieCurrent&Ki.VALUE_LENGTH;if(t){const i=(t>>14)-1;if(this.allowLegacyEntity()||e===J.Semi){const s=this.index-this.entityExcess+1;s>this.sectionStart&&this.emitPartial(this.sectionStart,s),this.entityResult=this.trieIndex,this.trieIndex+=i,this.entityExcess=0,this.sectionStart=this.index+1,0===i&&this.emitNamedEntity()}else this.trieIndex+=i}}emitNamedEntity(){if(this.state=this.baseState,0!==this.entityResult)switch((this.entityTrie[this.entityResult]&Ki.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~Ki.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(e){(32|e)===J.LowerX?(this.entityExcess++,this.state=F.InHexEntity):(this.state=F.InNumericEntity,this.stateInNumericEntity(e))}emitNumericEntity(e){const t=this.index-this.entityExcess-1;t+2+ +(this.state===F.InHexEntity)!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint(q9(this.entityResult))),this.state=this.baseState}stateInNumericEntity(e){e===J.Semi?this.emitNumericEntity(!0):jk(e)?(this.entityResult=10*this.entityResult+(e-J.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(e){e===J.Semi?this.emitNumericEntity(!0):jk(e)?(this.entityResult=16*this.entityResult+(e-J.Zero),this.entityExcess++):function XHe(n){return n>=J.UpperA&&n<=J.UpperF||n>=J.LowerA&&n<=J.LowerF}(e)?(this.entityResult=16*this.entityResult+((32|e)-J.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===F.Text||this.baseState===F.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===F.Text||this.state===F.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===F.InAttributeValueDq||this.state===F.InAttributeValueSq||this.state===F.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case F.Text:this.stateText(e);break;case F.SpecialStartSequence:this.stateSpecialStartSequence(e);break;case F.InSpecialTag:this.stateInSpecialTag(e);break;case F.CDATASequence:this.stateCDATASequence(e);break;case F.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(e);break;case F.InAttributeName:this.stateInAttributeName(e);break;case F.InCommentLike:this.stateInCommentLike(e);break;case F.InSpecialComment:this.stateInSpecialComment(e);break;case F.BeforeAttributeName:this.stateBeforeAttributeName(e);break;case F.InTagName:this.stateInTagName(e);break;case F.InClosingTagName:this.stateInClosingTagName(e);break;case F.BeforeTagName:this.stateBeforeTagName(e);break;case F.AfterAttributeName:this.stateAfterAttributeName(e);break;case F.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(e);break;case F.BeforeAttributeValue:this.stateBeforeAttributeValue(e);break;case F.BeforeClosingTagName:this.stateBeforeClosingTagName(e);break;case F.AfterClosingTagName:this.stateAfterClosingTagName(e);break;case F.BeforeSpecialS:this.stateBeforeSpecialS(e);break;case F.InAttributeValueNq:this.stateInAttributeValueNoQuotes(e);break;case F.InSelfClosingTag:this.stateInSelfClosingTag(e);break;case F.InDeclaration:this.stateInDeclaration(e);break;case F.BeforeDeclaration:this.stateBeforeDeclaration(e);break;case F.BeforeComment:this.stateBeforeComment(e);break;case F.InProcessingInstruction:this.stateInProcessingInstruction(e);break;case F.InNamedEntity:this.stateInNamedEntity(e);break;case F.BeforeEntity:this.stateBeforeEntity(e);break;case F.InHexEntity:this.stateInHexEntity(e);break;case F.InNumericEntity:this.stateInNumericEntity(e);break;default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()}finish(){this.state===F.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.state===F.InCommentLike?this.currentSequence===Yn.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===F.InNumericEntity&&this.allowLegacyEntity()||this.state===F.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===F.InTagName||this.state===F.BeforeAttributeName||this.state===F.BeforeAttributeValue||this.state===F.AfterAttributeName||this.state===F.InAttributeName||this.state===F.InAttributeValueSq||this.state===F.InAttributeValueDq||this.state===F.InAttributeValueNq||this.state===F.InClosingTagName||this.cbs.ontext(this.sectionStart,e)}emitPartial(e,t){this.baseState!==F.Text&&this.baseState!==F.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)}emitCodePoint(e){this.baseState!==F.Text&&this.baseState!==F.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)}}const nc=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ze=new Set(["p"]),$k=new Set(["thead","tbody"]),qk=new Set(["dd","dt"]),Kk=new Set(["rt","rp"]),JHe=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ze],["h1",Ze],["h2",Ze],["h3",Ze],["h4",Ze],["h5",Ze],["h6",Ze],["select",nc],["input",nc],["output",nc],["button",nc],["datalist",nc],["textarea",nc],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",qk],["dt",qk],["address",Ze],["article",Ze],["aside",Ze],["blockquote",Ze],["details",Ze],["div",Ze],["dl",Ze],["fieldset",Ze],["figcaption",Ze],["figure",Ze],["footer",Ze],["form",Ze],["header",Ze],["hr",Ze],["main",Ze],["nav",Ze],["ol",Ze],["pre",Ze],["section",Ze],["table",Ze],["ul",Ze],["rt",Kk],["rp",Kk],["tbody",$k],["tfoot",$k]]),exe=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Yk=new Set(["math","svg"]),Qk=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),txe=/\s|\//;class nxe{constructor(e,t={}){var i,s,r,o,a;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=null!==(i=t.lowerCaseTags)&&void 0!==i?i:!t.xmlMode,this.lowerCaseAttributeNames=null!==(s=t.lowerCaseAttributeNames)&&void 0!==s?s:!t.xmlMode,this.tokenizer=new(null!==(r=t.Tokenizer)&&void 0!==r?r:ZHe)(this.options,this),null===(a=(o=this.cbs).onparserinit)||void 0===a||a.call(o,this)}ontext(e,t){var i,s;const r=this.getSlice(e,t);this.endIndex=t-1,null===(s=(i=this.cbs).ontext)||void 0===s||s.call(i,r),this.startIndex=t}ontextentity(e){var t,i;const s=this.tokenizer.getSectionStart();this.endIndex=s-1,null===(i=(t=this.cbs).ontext)||void 0===i||i.call(t,Y6(e)),this.startIndex=s}isVoidElement(e){return!this.options.xmlMode&&exe.has(e)}onopentagname(e,t){this.endIndex=t;let i=this.getSlice(e,t);this.lowerCaseTagNames&&(i=i.toLowerCase()),this.emitOpenTag(i)}emitOpenTag(e){var t,i,s,r;this.openTagStart=this.startIndex,this.tagname=e;const o=!this.options.xmlMode&&JHe.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){const a=this.stack.pop();null===(i=(t=this.cbs).onclosetag)||void 0===i||i.call(t,a,!0)}this.isVoidElement(e)||(this.stack.push(e),Yk.has(e)?this.foreignContext.push(!0):Qk.has(e)&&this.foreignContext.push(!1)),null===(r=(s=this.cbs).onopentagname)||void 0===r||r.call(s,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var t,i;this.startIndex=this.openTagStart,this.attribs&&(null===(i=(t=this.cbs).onopentag)||void 0===i||i.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,t){var i,s,r,o,a,c;this.endIndex=t;let l=this.getSlice(e,t);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(Yk.has(l)||Qk.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))!this.options.xmlMode&&"br"===l&&(null===(s=(i=this.cbs).onopentagname)||void 0===s||s.call(i,"br"),null===(o=(r=this.cbs).onopentag)||void 0===o||o.call(r,"br",{},!0),null===(c=(a=this.cbs).onclosetag)||void 0===c||c.call(a,"br",!1));else{const u=this.stack.lastIndexOf(l);if(-1!==u)if(this.cbs.onclosetag){let d=this.stack.length-u;for(;d--;)this.cbs.onclosetag(this.stack.pop(),0!==d)}else this.stack.length=u;else!this.options.xmlMode&&"p"===l&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var t,i;const s=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===s&&(null===(i=(t=this.cbs).onclosetag)||void 0===i||i.call(t,s,!e),this.stack.pop())}onattribname(e,t){this.startIndex=e;const i=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?i.toLowerCase():i}onattribdata(e,t){this.attribvalue+=this.getSlice(e,t)}onattribentity(e){this.attribvalue+=Y6(e)}onattribend(e,t){var i,s;this.endIndex=t,null===(s=(i=this.cbs).onattribute)||void 0===s||s.call(i,this.attribname,this.attribvalue,e===Br.Double?'"':e===Br.Single?"'":e===Br.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const t=e.search(txe);let i=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(i=i.toLowerCase()),i}ondeclaration(e,t){this.endIndex=t;const i=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(i);this.cbs.onprocessinginstruction(`!${s}`,`!${i}`)}this.startIndex=t+1}onprocessinginstruction(e,t){this.endIndex=t;const i=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(i);this.cbs.onprocessinginstruction(`?${s}`,`?${i}`)}this.startIndex=t+1}oncomment(e,t,i){var s,r,o,a;this.endIndex=t,null===(r=(s=this.cbs).oncomment)||void 0===r||r.call(s,this.getSlice(e,t-i)),null===(a=(o=this.cbs).oncommentend)||void 0===a||a.call(o),this.startIndex=t+1}oncdata(e,t,i){var s,r,o,a,c,l,u,d,f,p;this.endIndex=t;const g=this.getSlice(e,t-i);this.options.xmlMode||this.options.recognizeCDATA?(null===(r=(s=this.cbs).oncdatastart)||void 0===r||r.call(s),null===(a=(o=this.cbs).ontext)||void 0===a||a.call(o,g),null===(l=(c=this.cbs).oncdataend)||void 0===l||l.call(c)):(null===(d=(u=this.cbs).oncomment)||void 0===d||d.call(u,`[CDATA[${g}]]`),null===(p=(f=this.cbs).oncommentend)||void 0===p||p.call(f)),this.startIndex=t+1}onend(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let i=this.stack.length;i>0;this.cbs.onclosetag(this.stack[--i],!0));}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)}reset(){var e,t,i,s;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(s=(i=this.cbs).onparserinit)||void 0===s||s.call(i,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let i=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),i+=this.buffers[0].slice(0,t-this.bufferOffset);return i}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var t,i;this.ended?null===(i=(t=this.cbs).onerror)||void 0===i||i.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))}end(e){var t,i;this.ended?null===(i=(t=this.cbs).onerror)||void 0===i||i.call(t,new Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}const rxe=function GRe(n){return function(t,i,s,r){if(typeof Buffer<"u"&&Buffer.isBuffer(t)&&(t=t.toString()),"string"==typeof t)return n(t,i,s,r);const o=t;if(!Array.isArray(o)&&qa(o))return o;const a=new $a([]);return Qa(o,a),a}}((n,e,t,i)=>e.xmlMode||e._useHtmlParser2?function Xk(n,e){const t=new SDe(void 0,e);return new nxe(t,e).end(n),t.root}(n,e):function qHe(n,e,t,i){const s={scriptingEnabled:"boolean"!=typeof e.scriptingEnabled||e.scriptingEnabled,treeAdapter:tc,sourceCodeLocationInfo:e.sourceCodeLocationInfo};return t?function WHe(n,e){return bk.parse(n,e)}(n,s):function jHe(n,e,t){"string"==typeof n&&(t=e,e=n,n=null);const i=bk.getFragmentParser(n,t);return i.tokenizer.write(e,!0),i.getFragment()}(i,n,s)}(n,e,t,i)),FC=function pLe(n,e){return function t(i,s,r=!0){if(null==i)throw new Error("cheerio.load() expects a string");const o={...P9,...F9(s)},a=n(i,o,r,null);class c extends a4{_make(d,f){const p=l(d,f);return p.prevObject=this,p}_parse(d,f,p,g){return n(d,f,p,g)}_render(d){return e(d,this.options)}}function l(u,d,f=a,p){if(u&&nr(u))return u;const g={...o,...F9(p)},m="string"==typeof f?[n(f,g,!1,null)]:"length"in f?f:[f],y=nr(m)?m:new c(m,null,g);if(y._root=y,!u)return new c(void 0,y,g);const M="string"==typeof u&&sC(u)?n(u,g,!1,null).children:function gLe(n){return!!n.name||"root"===n.type||"text"===n.type||"comment"===n.type}(u)?[u]:Array.isArray(u)?u:void 0,w=new c(M,y,g);if(M)return w;if("string"!=typeof u)throw new Error("Unexpected type of selector");let T=u;const R=d?"string"==typeof d?sC(d)?new c([n(d,g,!1,null)],y,g):(T=`${d} ${T}`,y):nr(d)?d:new c(Array.isArray(d)?d:[d],y,g):y;return R?R.find(T):w}return Object.assign(l,ko,{load:t,_root:a,_options:o,fn:c.prototype,prototype:c.prototype}),l}}(rxe,(n,e)=>e.xmlMode||e._useHtmlParser2?oz(n,e):function YHe(n){const e="length"in n?n:[n];for(let i=0;i<e.length;i+=1){const s=e[i];qa(s)&&Array.prototype.splice.call(e,i,1,...s.children)}let t="";for(let i=0;i<e.length;i+=1)t+=FHe(e[i],KHe);return t}(n));FC([]);let zC,oxe=(()=>{class n{constructor(t){fe(this,"http",void 0),fe(this,"name","parkrun"),fe(this,"cors","https://cors.a-mcc.workers.dev/?"),fe(this,"consolidatedReportUrl","https://www.parkrun.com/results/consolidatedclub/?clubNum=25570&eventdate="),fe(this,"races",{}),this.http=t}getRaces(){var t=this;return Io(function*(){const i=new Date,s=(1+i.getDay())%7,r=new Date(i.setDate(i.getDate()-s));r.setHours(12);const o=new Gm;for(;o.size<4;){const a=r.toISOString().split("T")[0];o.set(a,()=>t.getClubReport(a)),r.setDate(r.getDate()-7)}return o})()}getClubReport(t){var i=this;return Io(function*(){if(i.races[t])return i.races[t];const s=yield V9(i.http.get(i.cors+i.consolidatedReportUrl+t,{responseType:"text"})),r=FC(s),o=r("h2").map((c,l)=>{const u=r(l).text(),d=r(`a:contains("${u}")`).attr("href");return i.getEventResults(u,d)}),a=yield Promise.all([...o]);return i.races[t]={name:t,results:[...a].flat().sort((c,l)=>c.parkrun.localeCompare(l.parkrun)),headers:["parkrun","Position","Gender Position","Name","Time","Achievement"],headersMobile:["parkrun","Position","Gender Position","Name","Time","Achievement"]}})()}getEventResults(t,i){var s=this;return Io(function*(){const r=yield V9(s.http.get(s.cors+i,{responseType:"text"})),o=FC(r);return[...o('tr[data-club="Ward Park Runners"]').map((c,l)=>{const u=o(l),d=u.attr("data-position"),f=u.find("td.Results-table-td--gender .detailed").text().split("/")[0],p=u.attr("data-name"),g=u.find("td.Results-table-td--time .compact").text(),m=u.attr("data-achievement");return{parkrun:t,Position:d,"Gender Position":f,Name:p,Time:g,Achievement:m}})]})()}}return fe(n,"\u0275fac",function(t){return new(t||n)(q(fp))}),fe(n,"\u0275prov",le({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();try{zC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zC=!1}let y4,kC,E4=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function yJ(n){return n===pT}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(q(Xr))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yh(n){return function axe(){if(null==y4&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>y4=!0}))}finally{y4=y4||!1}return y4}()?n:!!n.capture}function sc(n){return n.composedPath?n.composedPath()[0]:n.target}function Jk(n){return kT((e,t)=>n<=t)}function eG(n){return Zn((e,t)=>{Xi(n).subscribe(Jn(t,()=>t.complete(),Ih)),!t.closed&&e.subscribe(t)})}function wh(n){return null!=n&&"false"!=`${n}`}function tG(n){return Array.isArray(n)?n:[n]}function b4(n){return n instanceof dn?n.nativeElement:n}function nG(n,e,t){n?rr(t,n,e):e()}function GC(...n){return function yxe(){return hv(1)}()(Wo(n,cc(n)))}class wxe extends Qi{constructor(e,t){super()}schedule(e,t=0){return this}}const Sh={setInterval(n,e,...t){const{delegate:i}=Sh;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Sh;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},iG={now:()=>(iG.delegate||Date).now(),delegate:void 0};class w4{constructor(e,t=w4.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}w4.now=iG.now;const Txe=new class Mxe extends w4{constructor(e,t=w4.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}(class Sxe extends wxe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return Sh.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Sh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,i=!1;try{this.work(e)}catch(r){i=!0,s=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,D4(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}});function Dxe(...n){const e=cc(n);return Zn((t,i)=>{(e?GC(n,t,e):GC(n,t)).subscribe(i)})}const sG=new Set;let e1,Axe=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Lxe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Rxe(n,e){if(!sG.has(n))try{e1||(e1=document.createElement("style"),e&&(e1.nonce=e),e1.setAttribute("type","text/css"),document.head.appendChild(e1)),e1.sheet&&(e1.sheet.insertRule(`@media ${n} {body{ }}`,0),sG.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(q(E4),q(l8,8))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lxe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Nxe=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Uo}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rG(tG(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let r=function vxe(...n){const e=cc(n),t=fv(n),{args:i,keys:s}=LR(n);if(0===i.length)return Wo([],e);const r=new kt(function Exe(n,e,t=ac){return i=>{nG(e,()=>{const{length:s}=n,r=new Array(s);let o=s,a=s;for(let c=0;c<s;c++)nG(e,()=>{const l=Wo(n[c],e);let u=!1;l.subscribe(Jn(i,d=>{r[c]=d,u||(u=!0,a--),a||i.next(t(r.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,s?o=>HR(s,o):ac));return t?r.pipe(NR(t)):r}(rG(tG(t)).map(o=>this._registerQuery(o).observable));return r=GC(r.pipe(function bxe(n){return n<=0?()=>Wh:Zn((e,t)=>{let i=0;e.subscribe(Jn(t,s=>{++i<=n&&(t.next(s),n<=i&&t.complete())}))})}(1)),r.pipe(Jk(1),function _xe(n,e=Txe){return Zn((t,i)=>{let s=null,r=null,o=null;const a=()=>{if(s){s.unsubscribe(),s=null;const l=r;r=null,i.next(l)}};function c(){const l=o+n,u=e.now();if(u<l)return s=this.schedule(void 0,l-u),void i.add(s);a()}t.subscribe(Jn(i,l=>{r=l,o=e.now(),s||(s=e.schedule(c,n),i.add(s))},()=>{a(),i.complete()},void 0,()=>{r=s=null}))})}(0))),r.pipe(sr(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),r={observable:new kt(o=>{const a=c=>this._zone.run(()=>o.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Dxe(i),sr(({matches:o})=>({query:t,matches:o})),eG(this._destroySubject)),mql:i};return this._queries.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(q(Axe),q(it))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rG(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function lG(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function uG(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const zxe=new Y("cdk-input-modality-detector-options"),kxe={ignoreKeys:[18,17,224,91,16]},rc=yh({passive:!0,capture:!0});let Gxe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,s,r){this._platform=t,this._mostRecentTarget=null,this._modality=new XC(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=sc(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lG(o)?"keyboard":"mouse"),this._mostRecentTarget=sc(o))},this._onTouchstart=o=>{uG(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=sc(o))},this._options={...kxe,...r},this.modalityDetected=this._modality.pipe(Jk(1)),this.modalityChanged=this.modalityDetected.pipe(Ev()),t.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,rc),s.addEventListener("mousedown",this._onMousedown,rc),s.addEventListener("touchstart",this._onTouchstart,rc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rc),document.removeEventListener("mousedown",this._onMousedown,rc),document.removeEventListener("touchstart",this._onTouchstart,rc))}}return n.\u0275fac=function(t){return new(t||n)(q(E4),q(it),q(Zt),q(zxe,8))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uxe=new Y("cdk-focus-monitor-default-options"),Mh=yh({passive:!0,capture:!0});let Wxe=(()=>{class n{constructor(t,i,s,r,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Uo,this._rootNodeFocusAndBlurListener=a=>{for(let l=sc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=r,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const s=b4(t);if(!this._platform.isBrowser||1!==s.nodeType)return H4();const r=function lxe(n){if(function cxe(){if(null==kC){const n=typeof document<"u"?document.head:null;kC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return kC}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),o=this._elementInfo.get(s);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new Uo,rootNode:r};return this._elementInfo.set(s,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=b4(t),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(t,i,s){const r=b4(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const s=this._elementInfo.get(i),r=sc(t);!s||!s.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),s)}_onBlur(t,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Mh),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Mh)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(eG(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mh),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mh),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,s){this._setClasses(t,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((s,r)=>{(r===t||s.checkChildren&&r.contains(t))&&i.push([r,s])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const r=t.labels;if(r)for(let o=0;o<r.length;o++)if(r[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(q(it),q(E4),q(Gxe),q(Zt,8),q(Uxe,8))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hG="cdk-high-contrast-black-on-white",fG="cdk-high-contrast-white-on-black",BC="cdk-high-contrast-active";let jxe=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Ie(Nxe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(t):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(BC,hG,fG),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(BC,hG):2===i&&t.add(BC,fG)}}}return n.\u0275fac=function(t){return new(t||n)(q(E4),q(Zt))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({}),n})();const Yxe=new Y("mat-sanity-checks",{providedIn:"root",factory:function Kxe(){return!0}});let Th=(()=>{class n{constructor(t,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function uxe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(q(jxe),q(Yxe,8),q(Zt))},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({imports:[pG,pG]}),n})();function Qxe(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=wh(e)}constructor(...e){super(...e),this._disabled=!1}}}function Xxe(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function Zxe(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=wh(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function Jxe(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?function mxe(n,e=0){return function Cxe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}class tIe{constructor(e,t,i,s=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const CG=yh({passive:!0,capture:!0});class nIe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=sc(e);t&&this._events.get(e.type)?.forEach((i,s)=>{(s===t||s.contains(t))&&i.forEach(r=>r.handleEvent(e))})}}addHandler(e,t,i,s){const r=this._events.get(t);if(r){const o=r.get(i);o?o.add(s):r.set(i,new Set([s]))}else this._events.set(t,new Map([[i,new Set([s])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,CG)})}removeHandler(e,t,i){const s=this._events.get(e);if(!s)return;const r=s.get(t);r&&(r.delete(i),0===r.size&&s.delete(t),0===s.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,CG)))}}const vG={enterDuration:225,exitDuration:150},EG=yh({passive:!0,capture:!0}),yG=["mousedown","touchstart"],bG=["mouseup","mouseleave","touchend","touchcancel"];class M4{constructor(e,t,i,s){this._target=e,this._ngZone=t,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=b4(i))}fadeInRipple(e,t,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r={...vG,...i.animation};i.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const o=i.radius||function sIe(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+s*s)}(e,t,s),a=e-s.left,c=t-s.top,l=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=c-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),p=d.transitionDuration,g="none"===d.transitionProperty||"0s"===p||"0s, 0s"===p||0===s.width&&0===s.height,m=new tIe(this,u,i,g);u.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let y=null;return!g&&(l||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const M=()=>this._finishRippleTransition(m),w=()=>this._destroyRipple(m);u.addEventListener("transitionend",M),u.addEventListener("transitioncancel",w),y={onTransitionEnd:M,onTransitionCancel:w}}),this._activeRipples.set(m,y),(g||!l)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...vG,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=b4(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,yG.forEach(i=>{M4._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{bG.forEach(t=>{this._triggerElement.addEventListener(t,this,EG)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=lG(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!uG(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(yG.forEach(t=>M4._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&bG.forEach(t=>e.removeEventListener(t,this,EG)))}}M4._eventManager=new nIe;const rIe=new Y("mat-ripple-global-options");let oIe=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,s,r,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new M4(this,i,t,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(P(dn),P(it),P(E4),P(rIe,8),P(Au,8))},n.\u0275dir=de({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&vr("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),aIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({imports:[Th,Th]}),n})();const cIe=["switch"],lIe=["*"],uIe=new Y("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),dIe={provide:ms,useExisting:Xe(()=>SG),multi:!0};class wG{constructor(e,t){this.source=e,this.checked=t}}let hIe=0;const fIe=Jxe(Xxe(Zxe(Qxe(class{constructor(n){this._elementRef=n}}))));let pIe=(()=>{class n extends fIe{get required(){return this._required}set required(t){this._required=wh(t)}get checked(){return this._checked}set checked(t){this._checked=wh(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,s,r,o,a,c){super(t),this._focusMonitor=i,this._changeDetectorRef=s,this.defaults=o,this._onChange=l=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new G,this.toggleChange=new G,this.tabIndex=parseInt(r)||0,this.color=this.defaultColor=o.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId=`${c}${++hIe}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){!function gb(){throw new Error("invalid")}()},n.\u0275dir=de({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[Ge]}),n})(),SG=(()=>{class n extends pIe{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,i,s,r,o,a){super(t,i,s,r,o,a,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new wG(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new wG(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(t){return new(t||n)(P(dn),P(Wxe),P(L5),function ou(n){return function eW(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let s=0;for(;s<i;){const r=t[s];if(Nv(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<i&&"string"==typeof t[s];)s++;else{if(r===e)return t[s+1];s+=2}}}return null}(Xt(),n)}("tabindex"),P(uIe),P(Au,8))},n.\u0275cmp=$r({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,i){if(1&t&&g5(cIe,5),2&t){let s;p5(s=m5())&&(i._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,i){2&t&&(Ku("id",i.id),ci("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),vr("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[nt([dIe]),Ge],ngContentSelectors:lIe,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[1,"mdc-label",3,"for","click"]],template:function(t,i){if(1&t&&(U8(),tt(0,"div",0)(1,"button",1,2),Ct("click",function(){return i._handleClick()}),Hi(3,"div",3),tt(4,"div",4)(5,"div",5)(6,"div",6),Hi(7,"div",7),ht(),tt(8,"div",8),Hi(9,"div",9),ht(),tt(10,"div",10),yf(),tt(11,"svg",11),Hi(12,"path",12),ht(),tt(13,"svg",13),Hi(14,"path",14),ht()()()()(),function yE(){!function jU(){he.lFrame.currentNamespace=null}()}(),tt(15,"label",15),Ct("click",function(r){return r.stopPropagation()}),W8(16),ht()()),2&t){const s=z8(2);vr("mdc-form-field--align-end","before"==i.labelPosition),Lt(1),vr("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),bt("tabIndex",i.tabIndex)("disabled",i.disabled),ci("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),Lt(8),bt("matRippleTrigger",s)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),Lt(6),bt("for",i.buttonId),ci("id",i._labelId)}},dependencies:[oIe],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0}),n})(),MG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({}),n})(),CIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qt({type:n}),n.\u0275inj=Gt({imports:[MG,Th,aIe,fT,MG,Th]}),n})(),TG=(()=>{class n{constructor(){fe(this,"icon",void 0),fe(this,"clickable",!0)}}return fe(n,"\u0275fac",function(t){return new(t||n)}),fe(n,"\u0275cmp",$r({type:n,selectors:[["fa-button"]],inputs:{icon:"icon",clickable:"clickable"},decls:2,vars:3,consts:[[1,"button"],[3,"icon"]],template:function(t,i){1&t&&(tt(0,"div",0),Hi(1,"fa-icon",1),ht()),2&t&&(vr("clickable",i.clickable),Lt(1),bt("icon",i.icon))},dependencies:[RR],styles:[".button[_ngcontent-%COMP%]{height:32px;width:32px;display:flex;align-items:center;justify-content:center}.button.clickable[_ngcontent-%COMP%]{cursor:pointer}.button.clickable[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}.button.clickable[_ngcontent-%COMP%]:hover:active{background-color:gray}fa-icon[_ngcontent-%COMP%]{font-size:24px}"]})),n})(),vIe=(()=>{class n{constructor(){fe(this,"text",void 0),fe(this,"textChange",new G),fe(this,"filter",b9),fe(this,"clearFilter",j2),fe(this,"quickFilterDebounce",void 0)}clearQuickFilter(){this.text="",this.onQuickFilterChanged("",!0)}onQuickFilterChanged(t,i=!1){this.quickFilterDebounce&&clearTimeout(this.quickFilterDebounce),this.quickFilterDebounce=setTimeout(()=>this.textChange.emit(t),i?0:500)}}return fe(n,"\u0275fac",function(t){return new(t||n)}),fe(n,"\u0275cmp",$r({type:n,selectors:[["quick-filter"]],inputs:{text:"text"},outputs:{textChange:"textChange"},decls:4,vars:4,consts:[[1,"filter",3,"icon","clickable","click"],["placeholder","Filter here...",1,"quick-filter",3,"ngModel","ngModelChange"],["input",""],[1,"clear",3,"icon","click"]],template:function(t,i){if(1&t){const s=ia();tt(0,"fa-button",0),Ct("click",function(){return lr(s),ur(z8(2).focus())}),ht(),tt(1,"input",1,2),Ct("ngModelChange",function(o){return i.text=o})("ngModelChange",function(){return i.onQuickFilterChanged(i.text)}),ht(),tt(3,"fa-button",3),Ct("click",function(){return i.clearQuickFilter()}),ht()}2&t&&(bt("icon",i.filter)("clickable",!1),Lt(1),bt("ngModel",i.text),Lt(2),bt("icon",i.clearFilter))},dependencies:[r6,sL,lm,TG],styles:["quick-filter{display:flex;flex-direction:row;flex:1}quick-filter .quick-filter{flex:1;border:none}quick-filter .quick-filter:focus{outline:none}\n"],encapsulation:2})),n})();function EIe(n,e){if(1&n&&(tt(0,"option"),G1(1),ht()),2&n){const t=e.$implicit;Lt(1),$c(" ",t.name," ")}}function yIe(n,e){if(1&n){const t=ia();tt(0,"select",12),Ct("change",function(s){return lr(t),ur(Vn().onProviderChange(s.target.value))}),Cr(1,EIe,2,1,"option",13),ht()}if(2&n){const t=Vn();Lt(1),bt("ngForOf",t.providers)}}function bIe(n,e){if(1&n&&(tt(0,"option"),G1(1),ht()),2&n){const t=e.$implicit;Lt(1),$c(" ",t," ")}}function wIe(n,e){if(1&n){const t=ia();tt(0,"select",12),Ct("change",function(s){return lr(t),ur(Vn().onRaceChange(s.target.value))}),Cr(1,bIe,2,1,"option",13),ht()}if(2&n){const t=Vn();Lt(1),bt("ngForOf",t.raceNames)}}function SIe(n,e){if(1&n){const t=ia();tt(0,"div",14),G1(1," Show all columns: "),tt(2,"mat-slide-toggle",15),Ct("change",function(s){return lr(t),ur(Vn().onShowAllColumnsChange(s))}),ht()()}if(2&n){const t=Vn();Lt(2),bt("checked",t.showAllColumns||!t.hasMobileColumns)("disabled",!t.hasMobileColumns)}}function MIe(n,e){1&n&&Hi(0,"fa-icon",16),2&n&&bt("icon",Vn().runner)}function TIe(n,e){if(1&n){const t=ia();tt(0,"div",17)(1,"quick-filter",18),Ct("textChange",function(s){return lr(t),ur(Vn().quickFilter=s)}),ht(),tt(2,"fa-button",19),Ct("click",function(){return lr(t),ur(Vn().exportData())}),ht()()}if(2&n){const t=Vn();Lt(1),bt("text",t.quickFilter),Lt(1),bt("icon",t.download)}}function _Ie(n,e){if(1&n){const t=ia();tt(0,"ag-grid-angular",20),Ct("rowDataUpdated",function(){return lr(t),ur(Vn().resizeGrid())})("firstDataRendered",function(){return lr(t),ur(Vn().onWindowResize())}),ht()}if(2&n){const t=Vn();bt("defaultColDef",t.defaultGridColumnDef)("columnDefs",t.isMobile&&!t.showAllColumns?t.gridColumnDefinitionsMobile:t.gridColumnDefinitions)("suppressFieldDotNotation",!0)("rowData",t.gridData)("quickFilterText",t.quickFilter)}}let DIe=(()=>{class n{constructor(t,i){fe(this,"championChipIreland",void 0),fe(this,"parkrunProvider",void 0),fe(this,"grid",void 0),fe(this,"isLoading",!0),fe(this,"runner",qm),fe(this,"download",MV),fe(this,"defaultGridColumnDef",{sortable:!0}),fe(this,"gridColumnDefinitions",[]),fe(this,"gridColumnDefinitionsMobile",[]),fe(this,"gridData",[]),fe(this,"providers",void 0),fe(this,"activeProvider",void 0),fe(this,"raceNames",[]),fe(this,"races",new Gm),fe(this,"activeRace",void 0),fe(this,"quickFilter",""),fe(this,"isMobile",!1),fe(this,"hasMobileColumns",!1),fe(this,"showAllColumns",!1),this.championChipIreland=t,this.parkrunProvider=i,this.providers=[i,t],this.onProviderChange(this.providers[0].name)}onProviderChange(t){var i=this;return Io(function*(){i.quickFilter="",i.isLoading=!0,i.activeProvider=i.providers.find(s=>s.name===t),i.races=yield i.activeProvider.getRaces(),i.raceNames=[...i.races.keys()],yield i.onRaceChange(i.raceNames[0])})()}onRaceChange(t){var i=this;return Io(function*(){i.isLoading=!0,i.activeRace=yield i.races.get(t)(),i.gridData=i.activeRace.results,i.gridColumnDefinitions=i.activeRace.headers.map(s=>{const r=i.gridData.some(a=>a[s]),o=r&&i.gridData.every(a=>!Number.isNaN(Number(a[s])));return{field:s,hide:!r,cellDataType:o?"number":void 0,valueGetter:o?i.numberParser(s):void 0}}),i.gridColumnDefinitionsMobile=i.gridColumnDefinitions.map(s=>({...s,hide:s.hide||!i.activeRace.headersMobile.includes(s.field)})),i.hasMobileColumns=i.activeRace.headersMobile.length!=i.activeRace.headers.length,i.isLoading=!1})()}numberParser(t){return i=>Number(i.data[t])}resizeGrid(){this.grid.columnApi.autoSizeAllColumns();const t=this.grid.api;t.gridBodyCtrl.eBodyViewport.clientWidth>t.gridBodyCtrl.columnModel.displayedColumns.reduce((r,o)=>r+o.actualWidth,0)&&this.grid.api.sizeColumnsToFit()}exportData(){this.grid.api.exportDataAsCsv({exportedRows:"filteredAndSorted",fileName:`${this.activeRace.name}.csv`,allColumns:!0})}onShowAllColumnsChange(t){this.showAllColumns=t.checked,setTimeout(()=>this.resizeGrid())}onWindowResize(){this.isMobile=window.innerWidth<1024,setTimeout(()=>this.resizeGrid())}}return fe(n,"\u0275fac",function(t){return new(t||n)(P(hDe),P(oxe))}),fe(n,"\u0275cmp",$r({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&g5(LA,5),2&t){let s;p5(s=m5())&&(i.grid=s.first)}},hostBindings:function(t,i){1&t&&Ct("resize",function(){return i.onWindowResize()},0,eb)},decls:16,vars:6,consts:[["role","banner",1,"toolbar"],["width","40","alt","WPR Logo","src","assets/wpr-icon-blue.png"],[1,"toolbar-title"],["class","header-dropdown",3,"change",4,"ngIf"],[1,"spacer"],["class","show-all-columns",4,"ngIf"],["role","main",1,"content"],["class","loading fa-shake",3,"icon",4,"ngIf"],["class","controls",4,"ngIf"],["class","grid ag-theme-alpine",3,"defaultColDef","columnDefs","suppressFieldDotNotation","rowData","quickFilterText","rowDataUpdated","firstDataRendered",4,"ngIf"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"],[1,"header-dropdown",3,"change"],[4,"ngFor","ngForOf"],[1,"show-all-columns"],["color","primary",3,"checked","disabled","change"],[1,"loading","fa-shake",3,"icon"],[1,"controls"],[3,"text","textChange"],[1,"export",3,"icon","click"],[1,"grid","ag-theme-alpine",3,"defaultColDef","columnDefs","suppressFieldDotNotation","rowData","quickFilterText","rowDataUpdated","firstDataRendered"]],template:function(t,i){1&t&&(tt(0,"div",0),Hi(1,"img",1),tt(2,"span",2),G1(3,"WPR Race Results"),ht(),Cr(4,yIe,2,1,"select",3),Cr(5,wIe,2,1,"select",3),Hi(6,"div",4),Cr(7,SIe,3,2,"div",5),ht(),tt(8,"div",6),Cr(9,MIe,1,1,"fa-icon",7),Cr(10,TIe,3,2,"div",8),Cr(11,_Ie,1,5,"ag-grid-angular",9),yf(),tt(12,"svg",10)(13,"title"),G1(14,"Gray Clouds Background"),ht(),Hi(15,"path",11),ht()()),2&t&&(Lt(4),bt("ngIf",i.providers.length>1),Lt(1),bt("ngIf",i.raceNames.length),Lt(2),bt("ngIf",i.isMobile),Lt(2),bt("ngIf",i.isLoading),Lt(1),bt("ngIf",!i.isLoading),Lt(1),bt("ngIf",!i.isLoading))},dependencies:[aT,lT,LA,RR,DL,RL,SG,TG,vIe],styles:['.grid[_ngcontent-%COMP%]{width:100%;height:90vh}[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#243c97;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   .header-dropdown[_ngcontent-%COMP%]{margin-left:16px;height:32px}.toolbar[_ngcontent-%COMP%]   .show-all-columns[_ngcontent-%COMP%]{margin-right:16px}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:80vw;flex-flow:row wrap;align-items:center;justify-content:center}.content[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{font-size:512px;color:#243c97}.content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;border:solid 1px #babfc7;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom:0}@media screen and (max-width: 1023px){.content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{border-radius:0}}.content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .export[_ngcontent-%COMP%]{border-left:solid 1px #babfc7}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 1023px){.content[_ngcontent-%COMP%]{width:100vw;max-width:100vw;margin-left:-8px;margin-top:60px;padding-left:0}.toolbar-title[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']})),n})(),AIe=(()=>{class n{}return fe(n,"\u0275fac",function(t){return new(t||n)}),fe(n,"\u0275mod",Qt({type:n,bootstrap:[DIe]})),fe(n,"\u0275inj",Gt({imports:[IT,Wee,Kse,koe,Wae,k2e,CIe]})),n})();uee().bootstrapModule(AIe).catch(n=>console.error(n))},197:oc=>{oc.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}}},oc=>{oc(oc.s=813)}]);